<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-center-circle.min.css">
  <script src="/lib/pace/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"samulenzz.github.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="å®˜æ–¹swiftæ–‡æ¡£https:&#x2F;&#x2F;docs.swift.org&#x2F;swift-book&#x2F;documentation&#x2F;the-swift-programming-language&#x2F;aboutswift è‡ªå·±ä¸å¤ªç†Ÿçš„åœ°æ–¹ï¼Œåšäº†ä¸€ç‚¹æ€»ç»“ The Basic ä½¿ç”¨letå…³é”®å­—å£°æ˜å¸¸é‡ï¼Œvaræ¥å£°æ˜å˜é‡ã€‚   12let maximum &#x3D; 10  &#x2F;&#x2F; å¸¸é‡var current &#x3D; 0  &#x2F;&#x2F; å˜é‡  å£°">
<meta property="og:type" content="article">
<meta property="og:title" content="swift programming languageç¬”è®°">
<meta property="og:url" content="https://samulenzz.github.io/2023/03/14/swift-programming-language%E7%AC%94%E8%AE%B0/index.html">
<meta property="og:site_name" content="Sam&#39;s blog">
<meta property="og:description" content="å®˜æ–¹swiftæ–‡æ¡£https:&#x2F;&#x2F;docs.swift.org&#x2F;swift-book&#x2F;documentation&#x2F;the-swift-programming-language&#x2F;aboutswift è‡ªå·±ä¸å¤ªç†Ÿçš„åœ°æ–¹ï¼Œåšäº†ä¸€ç‚¹æ€»ç»“ The Basic ä½¿ç”¨letå…³é”®å­—å£°æ˜å¸¸é‡ï¼Œvaræ¥å£°æ˜å˜é‡ã€‚   12let maximum &#x3D; 10  &#x2F;&#x2F; å¸¸é‡var current &#x3D; 0  &#x2F;&#x2F; å˜é‡  å£°">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://samulenzz.github.io/2023/03/14/swift-programming-language%E7%AC%94%E8%AE%B0/multilineStringWhitespace_2x.png">
<meta property="article:published_time" content="2023-03-14T11:37:37.000Z">
<meta property="article:modified_time" content="2023-03-14T11:40:04.941Z">
<meta property="article:author" content="samule">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://samulenzz.github.io/2023/03/14/swift-programming-language%E7%AC%94%E8%AE%B0/multilineStringWhitespace_2x.png">

<link rel="canonical" href="https://samulenzz.github.io/2023/03/14/swift-programming-language%E7%AC%94%E8%AE%B0/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>swift programming languageç¬”è®° | Sam's blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ ">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Sam's blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Keep learning. Keep coding.</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>é¦–é¡µ</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>æ ‡ç­¾<span class="badge">3</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>åˆ†ç±»<span class="badge">0</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>å½’æ¡£<span class="badge">19</span></a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>æœç´¢
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="æœç´¢..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

  <a href="https://github.com/samulenzz" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://samulenzz.github.io/2023/03/14/swift-programming-language%E7%AC%94%E8%AE%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/baobao.jpg">
      <meta itemprop="name" content="samule">
      <meta itemprop="description" content="è®°å½•ä¸€ç‚¹å­¦ä¹ è½¨è¿¹">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Sam's blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          swift programming languageç¬”è®°
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2023-03-14 19:37:37 / ä¿®æ”¹æ—¶é—´ï¼š19:40:04" itemprop="dateCreated datePublished" datetime="2023-03-14T19:37:37+08:00">2023-03-14</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>å®˜æ–¹swiftæ–‡æ¡£<a target="_blank" rel="noopener" href="https://docs.swift.org/swift-book/documentation/the-swift-programming-language/aboutswift">https://docs.swift.org/swift-book/documentation/the-swift-programming-language/aboutswift</a></p>
<p>è‡ªå·±ä¸å¤ªç†Ÿçš„åœ°æ–¹ï¼Œåšäº†ä¸€ç‚¹æ€»ç»“</p>
<h2 id="The-Basic"><a href="#The-Basic" class="headerlink" title="The Basic"></a>The Basic</h2><ul>
<li><p>ä½¿ç”¨<code>let</code>å…³é”®å­—å£°æ˜å¸¸é‡ï¼Œ<code>var</code>æ¥å£°æ˜å˜é‡ã€‚</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> maximum <span class="operator">=</span> <span class="number">10</span>  <span class="comment">// å¸¸é‡</span></span><br><span class="line"><span class="keyword">var</span> current <span class="operator">=</span> <span class="number">0</span>  <span class="comment">// å˜é‡</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å£°æ˜å¸¦ä¸Šå˜é‡çš„ç±»å‹ï¼Œè¿™ç¯‡æ–‡ç« é‡Œå«ï¼Œ<code>type annotations</code>ã€‚swifté‡Œé¢çš„å˜é‡åï¼Œé€šå¸¸æ˜¯å¤§å†™å­—æ¯å¼€å¤´çš„ã€‚</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> welcomeMessage: <span class="type">String</span></span><br><span class="line"><span class="keyword">var</span> red, green, blue: <span class="type">Double</span></span><br></pre></td></tr></table></figure>

<p>  NOTEï¼šåœ¨å¤šæ•°æƒ…å†µä¸‹ä¸ç”¨å†™æ˜ç±»å‹ï¼Œå› ä¸ºæä¾›åˆå€¼ä¹‹åï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨æ¨æ–­ï¼Œæœ‰ç‚¹åƒC++çš„autoã€‚</p>
</li>
</ul>
<span id="more"></span>

<ul>
<li><p>æ‰“å°<code>print(_:separator:terminator:)</code>æœ‰é»˜è®¤å‚æ•°åˆ†ç¦»ç¬¦ï¼Œåº”è¯¥æ˜¯ç©ºæ ¼å§ï¼Œç»ˆæ­¢ç¬¦æ¢è¡Œï¼Œå¯ä»¥è‡ªå·±è®¾ç½®ï¼Œæƒ³è¦åŒæ—¶æ‰“å°stringå’Œå˜é‡çš„å€¼ï¼Œè‹±æ–‡å«é‡‡å–<code>string interpolation</code>çš„æ–¹å¼ã€‚</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;The current value of friendlyWelcome is <span class="subst">\(friendlyWelcome)</span>&quot;</span>)</span><br><span class="line"><span class="comment">// Prints &quot;The current value of friendlyWelcome is Bonjour!&quot;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>åªæœ‰åœ¨ä¸€è¡Œå†™å¤šå¥è¯­å¥æ‰éœ€è¦å†™åˆ†å·(semicolons)</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> cat <span class="operator">=</span> <span class="number">1</span>; <span class="built_in">print</span>(cat)</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¸éœ€è¦æ˜¾ç¤ºå£°æ˜å¸¸é‡å’Œå˜é‡çš„ç±»å‹ï¼Œswiftä¼šè‡ªåŠ¨åšç±»å‹æ¨æ–­ã€‚</p>
</li>
<li><p>ç±»å‹åˆ«å<code>typealias</code>ï¼Œç±»ä¼¼Cé‡Œé¢çš„<code>typedef</code></p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typealias</span> <span class="type">AudioSample</span> <span class="operator">=</span> <span class="type">UInt16</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>tupleç±»å‹å’Œpythonç±»å‹ï¼Œé‡Œé¢å¯ä»¥å­˜æ”¾ä»»æ„ç±»å‹çš„å˜é‡ï¼Œå¦‚ä¸‹</p>
<p>  decomposeæ“ä½œå’Œpython ç±»ä¼¼</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> http404Error <span class="operator">=</span> (<span class="number">404</span>, <span class="string">&quot;Not Found&quot;</span>)</span><br><span class="line"><span class="comment">// http404Error is of type (Int, String), and equals (404, &quot;Not Found&quot;)</span></span><br><span class="line"><span class="keyword">let</span> (statusCode, statusMessage) <span class="operator">=</span> http404Error</span><br><span class="line"><span class="keyword">let</span> (justTheStatusCode, <span class="keyword">_</span>) <span class="operator">=</span> http404Error</span><br></pre></td></tr></table></figure>

<p>  è®¿é—®å…ƒç»„ä¸­å…ƒç´ çš„æ–¹å¼å’ŒCä¸­ä¸ä¸€æ ·</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">http404Error.<span class="number">0</span></span><br><span class="line">http404Error.<span class="number">1</span></span><br></pre></td></tr></table></figure>

<p>  ä½ å¯ä»¥åœ¨å®šä¹‰å…ƒç»„æ—¶ï¼Œä¸ºå…ƒç»„ä¸­å•ä¸ªçš„å…ƒç´ å‘½åã€‚ä¹Ÿå¯ä»¥é€šè¿‡å…ƒç´ åå­—å–è®¿é—®è¿™äº›å€¼ã€‚</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> http2000Status <span class="operator">=</span> (statusCode: <span class="number">200</span>, description: <span class="string">&quot;OK&quot;</span>)</span><br><span class="line"></span><br><span class="line">http2000Status.statusCode</span><br><span class="line">http2000Status.description</span><br></pre></td></tr></table></figure>



</li>
</ul>
<ul>
<li><p>optional==ç±»å‹==æ˜¯swift==ç‰¹æ€§==ã€‚ä¸»è¦ç”¨äºä¸€ä¸ªå˜é‡æˆ–è€…å¸¸é‡ï¼Œæœ‰äº›å€¼å¯èƒ½ä¼šç¼ºå¤±çš„æƒ…å†µã€‚å®ƒæœ‰==ä¸¤ç§çŠ¶æ€==ï¼Œä¸€ç§æ˜¯å«æœ‰å€¼ï¼Œä¸€ç§æ˜¯ä¸å«æœ‰å€¼ã€‚å¦‚<code>Int()</code>å¯ä»¥å°†Stringâ€123â€è½¬åŒ–ä¸ºIntç±»å‹ï¼Œä½†æ˜¯ä¸èƒ½å°†Stringâ€abcâ€è½¬åŒ–ä¸ºIntç±»å‹</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> possibleNumber <span class="operator">=</span> <span class="string">&quot;123&quot;</span></span><br><span class="line"><span class="keyword">let</span> convertedNumber <span class="operator">=</span> <span class="type">Int</span>(possibleNumber)</span><br><span class="line"><span class="comment">// convertedNumber is inferred to be of type &quot;Int?&quot;, or &quot;optional Int&quot;</span></span><br></pre></td></tr></table></figure>

<p>  <code>convertedNumber</code>ç±»å‹ä¸ºoptional Intï¼Œä¹Ÿå¯ä»¥å«<code>Int?</code>ã€‚å«ä¹‰æ˜¯ï¼Œ<code>convertNumber</code>å¯èƒ½åŒ…å«ä¸€ä¸ª<code>Int</code>ç±»å‹çš„å€¼ï¼Œä¹Ÿæœ‰å¯èƒ½åŒ…å«<code>no value</code>ï¼Œä¸åŒ…å«ä»»ä½•å€¼ã€‚ (It canâ€™t contain anything else, such as a <code>Bool</code> value or a <code>String</code> value. Itâ€™s either an <code>Int</code>, or itâ€™s nothing at all.)</p>
<ul>
<li><p>å¯ä»¥ç»™optionalç±»å‹çš„å˜é‡èµ‹no valueï¼Œ<code>nil</code></p>
<p>  å®šä¹‰äº†ä¸€ä¸ªoptinal Intå‹çš„å˜é‡ï¼Œå«æœ‰å€¼404ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ä»–å˜ä¸ºno vauleã€‚</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> serverResponseCode: <span class="type">Int</span>? <span class="operator">=</span> <span class="number">404</span></span><br><span class="line"><span class="comment">// serverResponseCode contains an actual Int value of 404</span></span><br><span class="line">serverResponseCode <span class="operator">=</span> <span class="literal">nil</span></span><br><span class="line"><span class="comment">// serverResponseCode now contains no value</span></span><br></pre></td></tr></table></figure>

<p>  å¦‚æœå¦‚å®šä¹‰ï¼Œé»˜è®¤å°±æ˜¯no valueçš„</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> surveyAnswer: <span class="type">String</span>?</span><br><span class="line"><span class="comment">// surveyAnswer is automatically set to nil</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>é€šè¿‡ä¸<code>nil</code>æ¯”è¾ƒï¼Œåˆ¤æ–­optionalå†…æ˜¯å¦æœ‰å€¼ï¼Œé€šè¿‡<code>!</code>åç¼€å¼ºåˆ¶å–å‡ºï¼ˆForced Unwrappingï¼‰optinalç±»å‹å˜é‡çš„å€¼ï¼ˆå‰ææ˜¯è¦æœ‰å€¼æ‰å–ï¼Œä¸ç„¶ä¼šæŠ¥é”™ï¼‰</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> convertedNumber <span class="operator">!=</span> <span class="literal">nil</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;convertedNumber has an integer value of <span class="subst">\(convertedNumber<span class="operator">!</span>)</span>.&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Prints &quot;convertedNumber has an integer value of 123.&quot;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>optional binding</p>
<p>  æˆ‘è§‰å¾—æ˜¯åˆ©ç”¨<code>if</code>å’Œ<code>let</code>/<code>var</code>ï¼Œå°†optionalé‡Œçš„å€¼æš‚æ—¶å–å‡ºæ¥ï¼Œä¸ä½¿ç”¨ä¸Šé¢æè¿°çš„force unwrappingï¼Œä¹Ÿå°±æ˜¯æ„Ÿå¹å·</p>
<p>  ==æ³¨æ„ä¸€ä¸‹==ï¼Œ<code>actualNumber</code>æ˜¯==å±€éƒ¨å˜é‡==ï¼Œåªåœ¨ifåçš„ç¬¬ä¸€ä¸ªå¤§æ‹¬å·é‡Œæœ‰æ•ˆã€‚</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> actualNumber <span class="operator">=</span> <span class="type">Int</span>(possibleNumber) &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;The string <span class="subst">\&quot;</span><span class="subst">\(possibleNumber)</span><span class="subst">\&quot;</span> has an integer value of <span class="subst">\(actualNumber)</span>&quot;</span>)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;The string <span class="subst">\&quot;</span><span class="subst">\(possibleNumber)</span><span class="subst">\&quot;</span> couldn&#x27;t be converted to an integer&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Prints &quot;The string &quot;123&quot; has an integer value of 123&quot;</span></span><br></pre></td></tr></table></figure>

<p>  å…¶å®ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼Œæ›´å¥½çš„è¯´æ˜äº†optional binding</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myNumber <span class="operator">=</span> <span class="type">Int</span>(possibleNumber)</span><br><span class="line"><span class="comment">// Here, myNumber is an optional integer</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> myNumber <span class="operator">=</span> myNumber &#123;</span><br><span class="line">    <span class="comment">// Here, myNumber is a non-optional integer</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;My number is <span class="subst">\(myNumber)</span>&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Prints &quot;My number is 123&quot;</span></span><br></pre></td></tr></table></figure>

<p>  ç¬¬ä¸€è¡Œ<code>myNumber</code>çš„ç±»å‹ä¸º<code>Int?</code>ï¼Œç¬¬ä¸‰è¡Œçš„åŒå<code>myNumber</code>åœ¨ifçš„ä½œç”¨åŸŸé‡Œçš„ä¸æ˜¯optionalç±»å‹ï¼Œå°±æ˜¯å¸¸è§„çš„constantç±»å‹ã€‚</p>
<p>  ç”±äºç»å¸¸å–åŒååœ¨ifé‡Œè¦†ç›–ä¸Šä¸€çº§å˜é‡ï¼Œæ‰€ä»¥æœ‰äº†æ›´ç®€åŒ–çš„å†™æ³•ã€‚</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> myNumber &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;My number is <span class="subst">\(myNumber)</span>&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Prints &quot;My number is 123&quot;</span></span><br></pre></td></tr></table></figure>

<p>  å¯ä»¥åŒæ—¶å†™å¤šä¸ªoptional bindingsï¼Œä½†æ˜¯åªæœ‰ä¸€ä¸ªä¸å«æœ‰å€¼ï¼Œåˆ™æ•´ä¸ªifè¯­å¥åˆ¤æ–­ä¸ºfalseã€‚==è¿™é‡Œä¸å†™&amp;&amp;ï¼Œå†™é€—å·<code>,</code>==</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> firstNumber <span class="operator">=</span> <span class="type">Int</span>(<span class="string">&quot;4&quot;</span>), <span class="keyword">let</span> secondNumber <span class="operator">=</span> <span class="type">Int</span>(<span class="string">&quot;42&quot;</span>), firstNumber <span class="operator">&lt;</span> secondNumber <span class="operator">&amp;&amp;</span> secondNumber <span class="operator">&lt;</span> <span class="number">100</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;<span class="subst">\(firstNumber)</span> &lt; <span class="subst">\(secondNumber)</span> &lt; 100&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Prints &quot;4 &lt; 42 &lt; 100&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> firstNumber <span class="operator">=</span> <span class="type">Int</span>(<span class="string">&quot;4&quot;</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">let</span> secondNumber <span class="operator">=</span> <span class="type">Int</span>(<span class="string">&quot;42&quot;</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> firstNumber <span class="operator">&lt;</span> secondNumber <span class="operator">&amp;&amp;</span> secondNumber <span class="operator">&lt;</span> <span class="number">100</span> &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;<span class="subst">\(firstNumber)</span> &lt; <span class="subst">\(secondNumber)</span> &lt; 100&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Prints &quot;4 &lt; 42 &lt; 100&quot;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>Implicitly Unwrapped Optionals</p>
<p>  ä¸Šæ–‡ä»‹ç»äº†ä¸¤ç§æ‰“å¼€optionalç±»å‹å˜é‡é‡Œçš„å€¼ï¼Œä¸€ç§ï¼Œä½¿ç”¨<code>!</code>ï¼›ç¬¬äºŒç§ï¼Œä½¿ç”¨optional binding</p>
<p>  Implicitly Unwrapped Optionalsé€‚ç”¨äºï¼Œä¸€ä¸ªå˜é‡åœ¨ç¬¬ä¸€æ¬¡è®¾ç½®äº†å€¼åï¼Œå°±ä¸€ç›´æœ‰å€¼äº†ï¼ˆå…¶å®æ²¡æœ‰å¤ªç†è§£ï¼‰ï¼Œè¿™æ ·å°±ä¸ç”¨åˆ¤æ–­æ˜¯ä¸æ˜¯<code>nil</code>äº†</p>
<p>  ä½¿ç”¨ç±»ä¼¼<code>Int!</code>æ¥å®šä¹‰æ­¤ç§ç±»å‹ï¼Œå¦‚ä¸‹</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> possibleString: <span class="type">String</span>? <span class="operator">=</span> <span class="string">&quot;An optional string.&quot;</span></span><br><span class="line"><span class="keyword">let</span> forcedString: <span class="type">String</span> <span class="operator">=</span> possibleString<span class="operator">!</span> <span class="comment">// requires an exclamation point</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> assumedString: <span class="type">String</span>! <span class="operator">=</span> <span class="string">&quot;An implicitly unwrapped optional string.&quot;</span></span><br><span class="line"><span class="keyword">let</span> implicitString: <span class="type">String</span> <span class="operator">=</span> assumedString <span class="comment">// no need for an exclamation point</span></span><br></pre></td></tr></table></figure>

<p>  ä¸€ä¸ªç†è§£ï¼Œå¯¹äº<code>implicitly unwrapped optional</code>ç±»å‹ï¼Œç¼–è¯‘å™¨é¦–å…ˆä¼šä½¿ç”¨åŸºç¡€optionalç±»å‹æ¥è¿›è¡Œå°è¯•ï¼Œå¦‚æœå°è¯•å¤±è´¥ï¼Œåˆ™ä¼šå°†optionalé‡Œé¢çš„å€¼å–å‡ºæ¥ä½¿ç”¨ã€‚å¦‚ä¸‹</p>
<p>  <code>optionalString</code>çš„ç±»å‹æ˜¯<code>Stringï¼Ÿ</code>ï¼Œè€Œ<code>implicitString</code>çš„ç±»å‹æ˜¯æ˜¾ç¤ºå£°æ˜çš„<code>String</code></p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> optionalString <span class="operator">=</span> assumedString</span><br><span class="line"><span class="comment">// The type of optionalString is &quot;String?&quot; and assumedString isn&#x27;t force-unwrapped.</span></span><br></pre></td></tr></table></figure>



</li>
</ul>
</li>
</ul>
<ul>
<li><p>assertionå’Œprecondition</p>
<p>  å’ŒCä¸­ä½¿ç”¨ä¸€æ ·</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">assert</span>(age <span class="operator">&gt;</span> <span class="number">0</span>, <span class="string">&quot;age need larger than 0&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">precondition</span>(index <span class="operator">&gt;</span> <span class="number">0</span>, <span class="string">&quot;Index must be greater than zero.&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>  åŒºåˆ«assertåªåœ¨<code>debug buliding</code>ä¸­æœ‰æ•ˆï¼Œpreconditionåœ¨<code>debug</code>å’Œ<code>production</code>ä¸­éƒ½æœ‰æ•ˆã€‚</p>
</li>
</ul>
<ul>
<li><p>error handing</p>
<p>  æˆ‘ä»¬ç”¨<code>throw</code>å…³é”®å­—å®šä¹‰ä¸€ä¸ªå¯èƒ½ä¼šæŠ›å‡ºé”™è¯¯çš„å‡½æ•°</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">canThrowAnError</span>() <span class="keyword">throws</span> &#123;</span><br><span class="line">    <span class="comment">// è¿™ä¸ªå‡½æ•°æœ‰å¯èƒ½æŠ›å‡ºé”™è¯¯</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>  åœ¨æ‰§è¡Œè¿™ä¸ªå‡½æ•°æ—¶ï¼Œæˆ‘ä»¬è¦æŠŠä»–åŒ…è£¹åœ¨do-catché‡Œï¼Œå¹¶åŠ ä¸Š<code>try</code>å…³é”®å­—</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">    <span class="keyword">try</span> canThrowAnError()</span><br><span class="line">    <span class="comment">// æ²¡æœ‰é”™è¯¯æ¶ˆæ¯æŠ›å‡º</span></span><br><span class="line">&#125; <span class="keyword">catch</span> &#123;</span><br><span class="line">    <span class="comment">// æœ‰ä¸€ä¸ªé”™è¯¯æ¶ˆæ¯æŠ›å‡º</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>  æˆ‘ä»¬çœ‹ä¸€ä¸ªä¾‹å­å§</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">makeASandwich</span>() <span class="keyword">throws</span> &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">    <span class="keyword">try</span> makeASandwich()</span><br><span class="line">    eatASandwich()</span><br><span class="line">&#125; <span class="keyword">catch</span> <span class="type">SandwichError</span>.outOfCleanDishes &#123;</span><br><span class="line">    washDishes()</span><br><span class="line">&#125; <span class="keyword">catch</span> <span class="type">SandwichError</span>.missingIngredients(<span class="keyword">let</span> ingredients) &#123;</span><br><span class="line">    buyGroceries(ingredients)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>  å‡½æ•°<code>makeASandwich()</code>å¯èƒ½ä¼šæŠ›å‡ºé”™è¯¯ï¼Œå¦‚æœä¸æ’é™¤é”™è¯¯ï¼Œå°±å¯ä»¥æ‰§è¡Œä¹‹åçš„è¯­å¥<code>eatASangwich()</code>ã€‚å¦‚æœæŠ›å‡ºé”™è¯¯ï¼Œçœ‹ä¸catchè¯­å¥ä¸­å“ªä¸€ä¸ªé”™è¯¯åŒ¹é…ï¼Œå“ªä¸€ä¸ªé”™è¯¯åŒ¹é…å°±æ‰§è¡ŒcatchèŠ±æ‹¬å·é‡Œçš„è¯­å¥ã€‚</p>
</li>
</ul>
<h2 id="Basic-Operators"><a href="#Basic-Operators" class="headerlink" title="Basic Operators"></a>Basic Operators</h2><ul>
<li><p>tupleä¹Ÿèƒ½è¿›è¡Œæ¯”è¾ƒï¼Œä»å·¦åˆ°å³è¿›è¡Œæ¯”è¾ƒï¼Œåªè¦ä½†å‡¡æœ‰ä¸€ä¸ªæœ‰æ¯”è¾ƒç»“æœï¼Œå°±å‡ºç»“æœï¼ˆå¯¹äºä¸ç­‰å·ï¼‰ï¼Œå…¶å®C++é‡Œçš„vectorä¹Ÿæ˜¯èƒ½æ¯”è¾ƒçš„</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(<span class="number">1</span>, <span class="string">&quot;zebra&quot;</span>) <span class="operator">&lt;</span> (<span class="number">2</span>, <span class="string">&quot;apple&quot;</span>)   <span class="comment">// true because 1 is less than 2; &quot;zebra&quot; and &quot;apple&quot; aren&#x27;t compared</span></span><br><span class="line">(<span class="number">3</span>, <span class="string">&quot;apple&quot;</span>) <span class="operator">&lt;</span> (<span class="number">3</span>, <span class="string">&quot;bird&quot;</span>)    <span class="comment">// true because 3 is equal to 3, and &quot;apple&quot; is less than &quot;bird&quot;</span></span><br><span class="line">(<span class="number">4</span>, <span class="string">&quot;dog&quot;</span>) <span class="operator">==</span> (<span class="number">4</span>, <span class="string">&quot;dog&quot;</span>)      <span class="comment">// true because 4 is equal to 4, and &quot;dog&quot; is equal to &quot;dog&quot;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>The Swift standard library includes tuple comparison operators for tuples with fewer than seven elements. To compare tuples with seven or more elements, you must implement the comparison operators yourself.</p>
<p>æƒ³åœ¨tupleä¸­æ¯”è¾ƒè¶…è¿‡7ä¸ªå…ƒç´ ï¼Œéœ€è¦è‡ªå·±é‡è½½è¿ç®—ç¬¦</p>
</blockquote>
</li>
<li><p>Range operator</p>
<p>  <code>a...b</code>æ„å‘³ç€<code>[a, b]</code>ï¼›<code>a..&lt;b</code>æ„å‘³ç€<code>[a, b)</code></p>
<p>  <code>names[2...]</code>,<code>names[..&lt;2]</code>å¿½ç•¥ä¸€ä¾§çš„å†™æ³•ï¼Œæœ‰ä¸€ç‚¹åƒpython</p>
</li>
</ul>
<ul>
<li><p>Nil-coalescing operator(<code>a ?? b</code>)</p>
<blockquote>
<p>The <em>nil-coalescing operator</em> (<code>a ?? b</code>) unwraps an optional <code>a</code> if it contains a value, or returns a default value <code>b</code> if <code>a</code> is <code>nil</code>. The expression <code>a</code> is always of an optional type. The expression <code>b</code> must match the type thatâ€™s stored inside <code>a</code>.</p>
</blockquote>
<p>  <code>a ?? b</code>ç”¨äº<code>a</code>æ˜¯ä¸€ä¸ªoptional ç±»å‹ï¼Œbæ˜¯å¯¹åº”ç±»å‹çš„ä¸€ä¸ªå€¼ï¼Œå¦‚æœaè¿™ä¸ªå˜é‡é‡Œé¢éç©ºæœ‰å€¼ï¼Œåˆ™å–aé‡Œé¢çš„å€¼ï¼Œå¦‚æœæ˜¯nilï¼Œåˆ™å–bçš„å€¼ã€‚ï¼ˆæ³¨æ„bçš„å€¼çš„ç±»å‹è¦å’Œaçš„å¯¹åº”çš„ç±»å‹å¯¹åº”ï¼‰ç›¸å½“äº</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a <span class="operator">!=</span> <span class="literal">nil</span> <span class="operator">?</span> a<span class="operator">!</span> : b</span><br></pre></td></tr></table></figure>

<p>  ä¸¾ä¾‹ï¼ŒuserDefinedColorNameæ˜¯nilï¼Œæ‰€ä»¥å–äº†defaultColorNameçš„å€¼red</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> defaultColorName <span class="operator">=</span> <span class="string">&quot;red&quot;</span></span><br><span class="line"><span class="keyword">var</span> userDefinedColorName: <span class="type">String</span>?   <span class="comment">// defaults to nil</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> colorNameToUse <span class="operator">=</span> userDefinedColorName <span class="operator">??</span> defaultColorName</span><br><span class="line"><span class="comment">// userDefinedColorName is nil, so colorNameToUse is set to the default of &quot;red&quot;</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="Strings-and-Characters"><a href="#Strings-and-Characters" class="headerlink" title="Strings and Characters"></a>Strings and Characters</h2><ul>
<li><p>è·¨è¶Šå¤šè¡Œçš„Stringå­—é¢é‡</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> quotation <span class="operator">=</span> <span class="string">&quot;&quot;&quot;  // ä¸‹ä¸€è¡Œä¸ºå¼€å§‹</span></span><br><span class="line"><span class="string">The White Rabbit put on his spectacles.  &quot;Where shall I begin,</span></span><br><span class="line"><span class="string">please your Majesty?&quot; he asked.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;Begin at the beginning,&quot; the King said gravely, &quot;and go on</span></span><br><span class="line"><span class="string">till you come to the end; then stop.&quot;</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span>  <span class="comment">// ä¸Šä¸€è¡Œä¸ºç»“æŸ</span></span><br></pre></td></tr></table></figure>

<p>  åº•ä¸‹ä¸¤ä¸ªæ˜¯ç›¸åŒçš„ï¼Œä¹Ÿå°±æ˜¯è¯´æ˜¯æ²¡æœ‰æ¢è¡Œç¬¦çš„</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> singleLineString <span class="operator">=</span> <span class="string">&quot;These are the same.&quot;</span></span><br><span class="line"><span class="keyword">let</span> multilineString <span class="operator">=</span> <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">These are the same.</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å½“ä½ åœ¨stringä¸­å› ä¸ºä¸€è¡Œå†…å®¹è¿‡é•¿è€Œè¦æ¢è¡Œï¼Œä½†æ˜¯ä¸æƒ³è¾“å‡ºæ¢è¡Œç¬¦ï¼Œå¯ä»¥ä½¿ç”¨bcakslash(\)ï¼Œè¿™æ ·2,3è¡Œåœ¨è¾“å‡ºä¸­å°±æ˜¯ä¸ºä¸€è¡Œå†…å®¹</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> softWrappedQuotation <span class="operator">=</span> <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">The White Rabbit put on his spectacles.  &quot;Where shall I begin, <span class="subst">\</span></span></span><br><span class="line"><span class="subst"><span class="string"></span>please your Majesty?&quot; he asked.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;Begin at the beginning,&quot; the King said gravely, &quot;and go on <span class="subst">\</span></span></span><br><span class="line"><span class="subst"><span class="string"></span>till you come to the end; then stop.&quot;</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å…³äºå¤šè¡Œå­—é¢é‡çš„ç¼©è¿›ï¼Œæœ€åçš„å¤šå¼•å·ä¹‹å‰çš„indentï¼Œåœ¨æ¯ä¸€è¡Œä¸­éƒ½ä¼šè¢«å¿½ç•¥ï¼Œä¹‹åçš„æ‰ä¼šè®°å½•ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º</p>
<p>  <img src="/2023/03/14/swift-programming-language%E7%AC%94%E8%AE%B0/multilineStringWhitespace_2x.png" alt="../_images/multilineStringWhitespace_2x.png"></p>
</li>
</ul>
<ul>
<li><p>åˆå§‹åŒ–ç©ºå­—ç¬¦ä¸²</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> emptyString <span class="operator">=</span> <span class="string">&quot;&quot;</span>               <span class="comment">// empty string literal</span></span><br><span class="line"><span class="keyword">var</span> anotherEmptyString <span class="operator">=</span> <span class="type">String</span>()  <span class="comment">// initializer syntax</span></span><br><span class="line"><span class="comment">// these two strings are both empty, and are equivalent to each other</span></span><br></pre></td></tr></table></figure>

<p>  é€šè¿‡å±æ€§<code>isEmpty</code>åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©º</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> emptyString.isEmpty &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Nothing to see here&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Prints &quot;Nothing to see here&quot;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>String type is a <code>value types</code>ã€‚å¯¹äºè¿™æ®µè¯çš„ç†è§£æ˜¯ï¼Œåœ¨å‡½æ•°é‡Œï¼Œå¯¹å­—ç¬¦ä¸²çš„ä¼ é€’æ˜¯ä¼ å€¼ä¼ é€’ï¼Œä¹Ÿå°±æ˜¯æ‹·è´å€¼ï¼Œä¼šä¼ é€’ä¸€ä¸ªæ–°çš„ç‰ˆæœ¬ï¼Œä¿®æ”¹å®ƒå¹¶ä¸ä¼šå½±åƒåŸæ¥çš„å­—ç¬¦ä¸²ã€‚ç¼–è¯‘å™¨ä¼šä¿è¯åœ¨</p>
</li>
<li><p>ä¸pythonç±»ä¼¼ï¼Œç”¨<code>for-in</code>è®¿é—®å­—ç¬¦ä¸²ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ ã€‚</p>
<p>  å¯ä»¥é€šè¿‡<code>String()</code>å°†arrayæ•°ç»„è½¬åŒ–ä¸ºStringï¼Œå°†<code>Character</code>æ•°ç»„ä¼ é€’ç»™åˆå§‹åŒ–å™¨ï¼Œ==æœ‰æ²¡æœ‰å‘ç°Characterï¼Œä»–ä¹Ÿæ˜¯ç”¨åŒå¼•å·åˆå§‹åŒ–çš„==</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> catCharacters: [<span class="type">Character</span>] <span class="operator">=</span> [<span class="string">&quot;C&quot;</span>, <span class="string">&quot;a&quot;</span>, <span class="string">&quot;t&quot;</span>, <span class="string">&quot;!&quot;</span>, <span class="string">&quot;ğŸ±&quot;</span>]</span><br><span class="line"><span class="keyword">let</span> catString <span class="operator">=</span> <span class="type">String</span>(catCharacters)</span><br><span class="line"><span class="built_in">print</span>(catString)</span><br><span class="line"><span class="comment">// Prints &quot;Cat!ğŸ±&quot;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å­—ç¬¦ä¸²Stringé€šè¿‡åŠ å·+è¿æ¥æ–°çš„å­—ç¬¦ä¸²ï¼Œé€šè¿‡<code>append()</code>æ·»åŠ å­—ç¬¦<code>Character</code></p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> exclamationMark: <span class="type">Character</span> <span class="operator">=</span> <span class="string">&quot;!&quot;</span></span><br><span class="line">welcome.append(exclamationMark)</span><br><span class="line"><span class="comment">// welcome now equals &quot;hello there!&quot;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨å±æ€§<code>count</code>è®¡ç®—Stringä¸­å­—ç¬¦çš„ä¸ªæ•°ï¼Œä½†æ˜¯ç”±äºStringæ”¯æŒunicodeç¼–ç çš„ï¼Œæ‰€ä»¥Stringä¸­æ·»åŠ äº†ä¸œè¥¿ï¼Œä»ç„¶æœ‰å¯èƒ½å­—ç¬¦ä¸ªæ•°æœªæ”¹å˜ï¼Œå¦‚ä¸‹ï¼š</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> word <span class="operator">=</span> <span class="string">&quot;cafe&quot;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;the number of characters in <span class="subst">\(word)</span> is <span class="subst">\(word.count)</span>&quot;</span>)</span><br><span class="line"><span class="comment">// Prints &quot;the number of characters in cafe is 4&quot;</span></span><br><span class="line"></span><br><span class="line">word <span class="operator">+=</span> <span class="string">&quot;<span class="subst">\u&#123;301&#125;</span>&quot;</span>    <span class="comment">// COMBINING ACUTE ACCENT, U+0301</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;the number of characters in <span class="subst">\(word)</span> is <span class="subst">\(word.count)</span>&quot;</span>)</span><br><span class="line"><span class="comment">// Prints &quot;the number of characters in cafÃ© is 4&quot;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>Each <code>String</code> value has an associated <em>index type</em>, <code>String.Index</code>, which corresponds to the position of each <code>Character</code> in the string.</p>
</li>
<li><p>==å› ä¸ºStringå¯¹äºæ¯ä¸€ä¸ªCharacterçš„å­˜å‚¨ç©ºé—´ä¸åŒï¼Œæ‰€ä»¥Stringä¸èƒ½é€šè¿‡ä¸‹æ ‡æ¥è®¿é—®ã€‚==é€šè¿‡å±æ€§ï¼Œæˆ–è€…<code>index()</code>æ¥è®¿é—®</p>
<p>  <code>startIndex</code>å±æ€§å¯¹åº”Stringçš„ç¬¬ä¸€ä¸ªä½ç½®ï¼Œ<code>endIndex</code>å±æ€§å¯¹åº”Stringæœ€åä¸€ä¸ªä½ç½®çš„ä¸‹ä¸€ä¸ªï¼Œå’Œå…¶ä»–è¯­è¨€ç±»ä¼¼ï¼Œè¿˜æ˜¯å·¦é—­å³å¼€çš„ã€‚<code>offsetBy</code>çš„ç”¨æ³•ï¼Œæ³¨æ„æ˜¯ä¸åŒ…æ‹¬å½“å‰çš„ä½ç½®ï¼Œæ•°nä¸ªã€‚==é€šè¿‡offsetByå¯ä»¥å®ç°ç±»ä¼¼çš„ä¸‹æ ‡è®¿é—®ã€‚==</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> greeting <span class="operator">=</span> <span class="string">&quot;Guten Tag!&quot;</span></span><br><span class="line">greeting[greeting.startIndex]</span><br><span class="line"><span class="comment">// G</span></span><br><span class="line">greeting[greeting.index(before: greeting.endIndex)]</span><br><span class="line"><span class="comment">// !</span></span><br><span class="line">greeting[greeting.index(after: greeting.startIndex)]</span><br><span class="line"><span class="comment">// u</span></span><br><span class="line"><span class="keyword">let</span> index <span class="operator">=</span> greeting.index(greeting.startIndex, offsetBy: <span class="number">7</span>)</span><br><span class="line">greeting[index]  <span class="comment">// è¿™é‡Œç›¸å½“äºgreeting[7]</span></span><br><span class="line"><span class="comment">// a</span></span><br></pre></td></tr></table></figure>

<p>  Use the <code>indices</code> property to access all of the indices of individual characters in a string.ä½†æ˜¯æˆ‘æ„Ÿè§‰ï¼Œæ—¢ç„¶è¿™ä¹ˆåšäº†ï¼Œä¸ºä»€ä¹ˆä¸ç”¨for-inæ¥è®¿é—®æ¯ä¸€ä¸ªå…ƒç´ å‘¢ï¼Ÿ</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> index <span class="keyword">in</span> greeting.indices &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;<span class="subst">\(greeting[index])</span> &quot;</span>, terminator: <span class="string">&quot;&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Prints &quot;G u t e n   T a g ! &quot;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æ’å…¥å’Œåˆ é™¤ï¼Œç”¨çš„æ—¶å€™å†æŸ¥å§ï¼Œæ„Ÿè§‰ç”¨çš„æ—¶å€™å¾ˆå°‘</p>
</li>
<li><p>å­ä¸²ï¼ˆ<code>Substring</code>ï¼‰æœ‰è‡ªå·±ç‹¬ç‰¹çš„type.å­ä¸²ç±»å‹ä¸€èˆ¬ç”¨äºä¸´æ—¶ä½¿ç”¨ï¼Œå½“å‡†å¤‡é•¿æœŸå­˜å‚¨ç»“æœæ—¶ï¼Œéœ€è¦å°†å­ä¸²è½¬åŒ–ä¸ºStringç±»å‹</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> greeting <span class="operator">=</span> <span class="string">&quot;Hello, world!&quot;</span></span><br><span class="line"><span class="keyword">let</span> index <span class="operator">=</span> greeting.firstIndex(of: <span class="string">&quot;,&quot;</span>) <span class="operator">??</span> greeting.endIndex</span><br><span class="line"><span class="keyword">let</span> beginning <span class="operator">=</span> greeting[<span class="operator">..&lt;</span>index]</span><br><span class="line"><span class="comment">// beginning is &quot;Hello&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Convert the result to a String for long-term storage.</span></span><br><span class="line"><span class="keyword">let</span> newString <span class="operator">=</span> <span class="type">String</span>(beginning)</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦æœ‰ç›¸å…³å‰ç¼€æˆ–è€…åç¼€<code>hasPrefix(), hasSuffix()</code>ï¼Œè¿”å›Booleanç±»å‹</p>
</li>
</ul>
<h2 id="Collection-Types"><a href="#Collection-Types" class="headerlink" title="Collection Types"></a>Collection Types</h2><p>ä¸‰ç§ç±»å‹ï¼Œæ•°ç»„ï¼Œé›†åˆï¼Œå­—å…¸</p>
<ul>
<li><p>æ•°ç»„çš„ç±»å‹ä¸º<code>Array&lt;Int&gt;</code>ï¼Œä¹Ÿå¯ä»¥é€Ÿè®°ä¸º<code>[Int]</code>ã€‚==è¿™é‡Œå’ŒCè¿˜æ˜¯ä¸€æ ·çš„ï¼Œæ•°ç»„é‡Œåªå…è®¸æœ‰ä¸€ç§ç±»å‹==</p>
<p>  åˆ›å»ºä¸€ä¸ªç©ºæ•°ç»„ï¼Œ<strong>åˆ›å»ºç©ºæ•°ç»„æ—¶ï¼Œéœ€è¦æ˜¾å¼å£°æ˜å˜é‡ç±»å‹ï¼Œå¦‚[Int]</strong></p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> someInts: [<span class="type">Int</span>] <span class="operator">=</span> []</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;someInts is of type [Int] with <span class="subst">\(someInts.count)</span> items.&quot;</span>)</span><br><span class="line"><span class="comment">// Prints &quot;someInts is of type [Int] with 0 items.&quot;</span></span><br></pre></td></tr></table></figure>

<p>  ä½¿ç”¨<code>append()</code>æ·»åŠ å…ƒç´ </p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">someInts.append(<span class="number">3</span>)</span><br></pre></td></tr></table></figure>

<p>  ä¹Ÿå¯ä»¥åˆå§‹åŒ–æœ‰é‡å¤å…ƒç´ çš„æ•°ç»„</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> threeDoubles <span class="operator">=</span> <span class="type">Array</span>(repeating: <span class="number">0.0</span>, count: <span class="number">3</span>)</span><br><span class="line"><span class="comment">// threeDoubles is of type [Double], and equals [0.0, 0.0, 0.0]</span></span><br></pre></td></tr></table></figure>

<p>  å¯ä»¥å’Œpythonä¸€æ ·ï¼Œä½¿ç”¨<code>+</code>è¿æ¥ä¸¤ä¸ªåˆ—è¡¨</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> sixDoubles <span class="operator">=</span> threeDoubles <span class="operator">+</span> anotherThreeDoubles</span><br></pre></td></tr></table></figure>

<p>  å¯ä»¥ä½¿ç”¨å¸¸æ•°å­—é¢é‡åˆå§‹åŒ–æ•°ç»„</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> shoppingList: [<span class="type">String</span>] <span class="operator">=</span> [<span class="string">&quot;Eggs&quot;</span>, <span class="string">&quot;Milk&quot;</span>]</span><br><span class="line"><span class="comment">// ç”±äºè‡ªåŠ¨æ¨æ–­</span></span><br><span class="line"><span class="keyword">var</span> shoppingList <span class="operator">=</span> [<span class="string">&quot;Eggs&quot;</span>, <span class="string">&quot;Milk&quot;</span>]</span><br></pre></td></tr></table></figure>

<p>  å¦‚æœåˆ‡ç‰‡å’Œæ›¿æ¢çš„æ•°ç»„å­—é¢é‡é•¿åº¦ä¸ä¸€è‡´ï¼Œä»ç„¶å¯ä»¥è¿›è¡Œæ›¿æ¢</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shop[<span class="number">4</span><span class="operator">...</span><span class="number">6</span>] <span class="operator">=</span> [<span class="string">&quot;bananas&quot;</span>, <span class="string">&quot;apples&quot;</span>]  <span class="comment">// å·¦è¾¹é•¿åº¦ä¸º3ï¼Œå³è¾¹é•¿åº¦ä¸º2</span></span><br></pre></td></tr></table></figure>

<p>  <code>insert</code>å’Œ<code>remove</code>ï¼Œä¸Stringç±»ä¼¼</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">shoppingList.insert(<span class="string">&quot;Maple Syrup&quot;</span>, at: <span class="number">0</span>)</span><br><span class="line"><span class="comment">// shoppingList now contains 7 items</span></span><br><span class="line"><span class="comment">// &quot;Maple Syrup&quot; is now the first item in the list</span></span><br></pre></td></tr></table></figure>

<p>  åˆ é™¤å‡½æ•°ä¼šè¿”å›è¢«åˆ é™¤çš„é‚£ä¸ªå€¼</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> mapleSyrup <span class="operator">=</span> shoppingList.remove(at: <span class="number">0</span>)</span><br><span class="line"><span class="comment">// the item that was at index 0 has just been removed</span></span><br><span class="line"><span class="comment">// shoppingList now contains 6 items, and no Maple Syrup</span></span><br><span class="line"><span class="comment">// the mapleSyrup constant is now equal to the removed &quot;Maple Syrup&quot; string</span></span><br></pre></td></tr></table></figure>

<p>  <code>enumerated()</code>æ–¹æ³•å’Œpythonç±»ä¼¼</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (index, value) <span class="keyword">in</span> shoppingList.enumerated() &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Item <span class="subst">\(index <span class="operator">+</span> <span class="number">1</span>)</span>: <span class="subst">\(value)</span>&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Item 1: Six eggs</span></span><br><span class="line"><span class="comment">// Item 2: Milk</span></span><br><span class="line"><span class="comment">// Item 3: Flour</span></span><br><span class="line"><span class="comment">// Item 4: Baking Powder</span></span><br><span class="line"><span class="comment">// Item 5: Bananas</span></span><br></pre></td></tr></table></figure>



</li>
</ul>
<ul>
<li><p>å­—å…¸ï¼Œè¿™é‡Œä¹Ÿä¸pythonä¸ä¸€æ ·ï¼Œkeyè¦æ±‚åŒä¸€ç±»å‹ï¼Œvalueè¦æ±‚åŒä¸€ç±»å‹ï¼ˆè¿™é‡Œæœ‰ç‚¹åƒC++çš„unordered_mapï¼‰ã€‚åŒæ ·çš„ï¼Œé”®æ˜¯ä¸èƒ½é‡å¤çš„ã€‚</p>
<p>  å­—å…¸ç±»å‹ä¸º<code>Dictinary&lt;type1, type2&gt;</code>ï¼Œå¯ä»¥ç®€å†™ä¸º<code>[type1: type2]</code>ã€‚</p>
<p>  åˆ›å»ºä¸€ä¸ªç©ºå­—å…¸</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> namesOfIntegers: [<span class="type">Int</span>: <span class="type">String</span>] <span class="operator">=</span> [:]</span><br><span class="line"><span class="comment">// namesOfIntegers is an empty [Int: String] dictionary</span></span><br></pre></td></tr></table></figure>

<p>  ä½¿ç”¨å­—å…¸å­—é¢é‡ï¼Œåˆ›å»ºå­—å…¸</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> airports: [<span class="type">String</span>: <span class="type">String</span>] <span class="operator">=</span> [<span class="string">&quot;YYZ&quot;</span>: <span class="string">&quot;Toronto Pearson&quot;</span>, <span class="string">&quot;DUB&quot;</span>: <span class="string">&quot;Dublin&quot;</span>]</span><br></pre></td></tr></table></figure>

<p>  å¯ä»¥ç›´æ¥ä½¿ç”¨ä¸‹æ ‡æ›´æ–°å€¼ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æ–¹æ³•<code>updateValue(_:forKey:)</code>å¦‚æœå­—å…¸å«æœ‰æŸä¸ªé”®ï¼Œåˆ™æ›´æ–°ä»–çš„å€¼ã€‚å¦‚æœæ²¡æœ‰é‚£ä¸ªé”®ï¼Œåˆ™åˆ›å»ºã€‚å®é™…ä¸Šå’Œé€šè¿‡ä¸‹æ ‡è®¿é—®çš„åšæ³•æ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯è¿™ä¸ªæ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªoptionalç±»å‹ï¼Œä¹Ÿå°±æ˜¯è€çš„å€¼ï¼Œå¦‚æœæ²¡æœ‰è€çš„å€¼ï¼Œå°±è¿”å›nil</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> oldValue <span class="operator">=</span> airports.updateValue(<span class="string">&quot;Dublin Airport&quot;</span>, forKey: <span class="string">&quot;DUB&quot;</span>) &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;The old value for DUB was <span class="subst">\(oldValue)</span>.&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Prints &quot;The old value for DUB was Dublin.&quot;</span></span><br></pre></td></tr></table></figure>

<p>  å¯¹äºæŸä¸ªé”®ï¼Œå­—å…¸ä¸­å¯èƒ½ä¼šä¸å­˜åœ¨ï¼Œè¿™æ ·ä¼šè¿”å›optinalç±»å‹ã€‚==å…¶å®ç›´æ¥è®¿é—®airport[â€œDUBâ€]ï¼Œä¸ç®¡å­˜ä¸å­˜åœ¨è¿™ä¸ªé”®ï¼Œéƒ½æ˜¯è¿”å›çš„optionalç±»å‹==</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> airportName <span class="operator">=</span> airports[<span class="string">&quot;DUB&quot;</span>] &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;The name of the airport is <span class="subst">\(airportName)</span>.&quot;</span>)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;That airport isn&#x27;t in the airports dictionary.&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Prints &quot;The name of the airport is Dublin Airport.&quot;</span></span><br></pre></td></tr></table></figure>

<p>  ç§»é™¤å€¼çš„ä¸¤ç§æ–¹æ³•</p>
<ol>
<li><p>è®¾ç½®å€¼ä¸º<code>nil</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">airports[<span class="string">&quot;APL&quot;</span>] <span class="operator">=</span> <span class="string">&quot;Apple International&quot;</span></span><br><span class="line"><span class="comment">// &quot;Apple International&quot; isn&#x27;t the real airport for APL, so delete it</span></span><br><span class="line">airports[<span class="string">&quot;APL&quot;</span>] <span class="operator">=</span> <span class="literal">nil</span></span><br><span class="line"><span class="comment">// APL has now been removed from the dictionary</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨<code>removeValue(forKey:)</code>ï¼Œåˆ©ç”¨é”®çš„å€¼ç§»é™¤é”®å€¼å¯¹ï¼Œå¦‚æœå­˜åœ¨çš„è¯ï¼Œè¿”å›ç§»é™¤çš„valueï¼Œå¦‚æœä¸å­˜åœ¨çš„è¯ï¼Œè¿”å›<code>nil</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> removedValue <span class="operator">=</span> airports.removeValue(forKey: <span class="string">&quot;DUB&quot;</span>) &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;The removed airport&#x27;s name is <span class="subst">\(removedValue)</span>.&quot;</span>)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;The airports dictionary doesn&#x27;t contain a value for DUB.&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Prints &quot;The removed airport&#x27;s name is Dublin Airport.&quot;</span></span><br></pre></td></tr></table></figure>

<p>è¿­ä»£å­—å…¸çš„æ–¹æ³•ä¹Ÿå’Œpythonç±»ä¼¼ï¼ŒåŒæ—¶è¿­ä»£é”®-å€¼å¯¹ï¼Œ==å…¶ä¸­airportCode, airportNameæ˜¯å¸¸é‡==</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (airportCode, airportName) <span class="keyword">in</span> airports &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;<span class="subst">\(airportCode)</span>: <span class="subst">\(airportName)</span>&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// LHR: London Heathrow</span></span><br><span class="line"><span class="comment">// YYZ: Toronto Pearson</span></span><br></pre></td></tr></table></figure>

<p>åˆ©ç”¨å±æ€§<code>keys</code>æˆ–<code>values</code>è¿­ä»£</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> airportCode <span class="keyword">in</span> airports.keys &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Airport code: <span class="subst">\(airportCode)</span>&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Airport code: LHR</span></span><br><span class="line"><span class="comment">// Airport code: YYZ</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> airportName <span class="keyword">in</span> airports.values &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Airport name: <span class="subst">\(airportName)</span>&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Airport name: London Heathrow</span></span><br><span class="line"><span class="comment">// Airport name: Toronto Pearson</span></span><br></pre></td></tr></table></figure>

<p>è¿˜å¯ä»¥å°†<code>d.keys</code>è½¬åŒ–ä¸ºarrayï¼Œå¦‚ä¸‹</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> airportCodes <span class="operator">=</span> [<span class="type">String</span>](airports.keys)</span><br><span class="line"><span class="comment">// airportCodes is [&quot;LHR&quot;, &quot;YYZ&quot;]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> airportNames <span class="operator">=</span> [<span class="type">String</span>](airports.values)</span><br><span class="line"><span class="comment">// airportNames is [&quot;London Heathrow&quot;, &quot;Toronto Pearson&quot;]</span></span><br></pre></td></tr></table></figure>



</li>
</ol>
</li>
</ul>
<ul>
<li><p>set</p>
<p>  é›†åˆä¸­çš„æ•°æ®æˆ–è€…å­—å…¸çš„keyå€¼ï¼Œå¿…é¡»æ»¡è¶³<code>hashable</code>ã€‚swiftä¸­çš„åŸºç¡€ç±»å‹ï¼Œæ¯”å¦‚String,Int,Double,Booléƒ½æ˜¯å¯å“ˆå¸Œçš„ï¼Œé™¤æ­¤ä¹‹å¤–</p>
<p>  Enumeration case values without associated values are also hashable by default.</p>
<p>  å½“ç„¶ä½ ä¹Ÿä½¿ç”¨ä½ è‡ªå·±å®šä¹‰çš„ç±»å‹ä½œä¸ºé›†åˆçš„æ•°æ®æˆ–è€…å­—å…¸keyçš„å€¼ï¼Œåªéœ€è¦ä»–æ»¡è¶³<code>Hashable</code>åè®®ã€‚</p>
<p>  å»ºç«‹ç©ºçš„é›†åˆ</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> letters <span class="operator">=</span> <span class="type">Set</span>&lt;<span class="type">Character</span>&gt;()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;letters is of type Set&lt;Character&gt; with <span class="subst">\(letters.count)</span> items.&quot;</span>)</span><br><span class="line"><span class="comment">// Prints &quot;letters is of type Set&lt;Character&gt; with 0 items.&quot;</span></span><br></pre></td></tr></table></figure>

<p>  ä½¿ç”¨<code>insert</code>æ’å…¥æ•°æ®ï¼Œæ³¨æ„ï¼Œå†æ¬¡æŠŠletterså˜ç©ºæ—¶ï¼Œå®ƒä»ç„¶æ˜¯Set&lt;Character&gt;ç±»å‹</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">letters.insert(<span class="string">&quot;a&quot;</span>)</span><br><span class="line"><span class="comment">// letters now contains 1 value of type Character</span></span><br><span class="line">letters <span class="operator">=</span> []</span><br><span class="line"><span class="comment">// letters is now an empty set, but is still of type Set&lt;Character&gt;</span></span><br></pre></td></tr></table></figure>

<p>  ä½¿ç”¨æ•°ç»„å­—é¢é‡æ¥åˆ›å»ºé›†åˆ</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> favoriteGenres: <span class="type">Set</span>&lt;<span class="type">String</span>&gt; <span class="operator">=</span> [<span class="string">&quot;Rock&quot;</span>, <span class="string">&quot;Classical&quot;</span>, <span class="string">&quot;Hip hop&quot;</span>]</span><br><span class="line"><span class="comment">// favoriteGenres has been initialized with three initial items</span></span><br></pre></td></tr></table></figure>

<p>  ä½¿ç”¨<code>remove()</code>æ¥åˆ é™¤setä¸­çš„å…ƒç´ ï¼Œå½“ç„¶å’Œå­—å…¸ä¸€æ ·ï¼Œè¿”å›çš„æ˜¯optional</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> removedGenre <span class="operator">=</span> favoriteGenres.remove(<span class="string">&quot;Rock&quot;</span>) &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;<span class="subst">\(removedGenre)</span>? I&#x27;m over it.&quot;</span>)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;I never much cared for that.&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Prints &quot;Rock? I&#x27;m over it.&quot;</span></span><br></pre></td></tr></table></figure>

<p>  ä½¿ç”¨<code>contains()</code>åˆ¤æ–­æ˜¯å¦åŒ…å«æŸä¸ªå…ƒç´ </p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> favoriteGenres.contains(<span class="string">&quot;Funk&quot;</span>) &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;I get up on the good foot.&quot;</span>)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;It&#x27;s too funky in here.&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Prints &quot;It&#x27;s too funky in here.&quot;</span></span><br></pre></td></tr></table></figure>

<p>  åšé›†åˆæ“ä½œç•¥</p>
</li>
</ul>
<h2 id="Control-Flow"><a href="#Control-Flow" class="headerlink" title="Control Flow"></a>Control Flow</h2><ul>
<li><p>ç±»ä¼¼pythonä¸­ï¼Œæœ‰æ­¥é•¿çš„rangeèŒƒå›´</p>
<p>  åŠå¼€åŠé—­[0, 60)ï¼Œæ­¥é•¿ä¸º5</p>
<p>  <code>stride(from: å¼€å§‹,to: ç»“æŸ, by: æ­¥é•¿)</code></p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> minuteInterval <span class="operator">=</span> <span class="number">5</span>, minutes <span class="operator">=</span> <span class="number">60</span></span><br><span class="line"><span class="keyword">for</span> tickMark <span class="keyword">in</span> <span class="built_in">stride</span>(from: <span class="number">0</span>, to: minutes, by: minuteInterval) &#123;</span><br><span class="line">    <span class="comment">// render the tick mark every 5 minutes (0, 5, 10, 15 ... 45, 50, 55)</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>  å…¨é—­</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> hours <span class="operator">=</span> <span class="number">12</span></span><br><span class="line"><span class="keyword">let</span> hourInterval <span class="operator">=</span> <span class="number">3</span></span><br><span class="line"><span class="keyword">for</span> tickMark <span class="keyword">in</span> <span class="built_in">stride</span>(from: <span class="number">3</span>, through: hours, by: hourInterval) &#123;</span><br><span class="line">    <span class="comment">// render the tick mark every 3 hours (3, 6, 9, 12)</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



</li>
</ul>
<ul>
<li><p>switch</p>
<p>  è¿™é‡Œå’ŒCæœ‰ç‚¹ä¸ä¸€æ ·ï¼Œæ²¡æœ‰breakã€‚ä¸Cä¸­ä¸åŒçš„æ˜¯ï¼ŒSwiftå¹¶æ²¡æœ‰implicit fallthroughï¼Œ==åªè¦æ‰¾åˆ°ç¬¬ä¸€ä¸ªåŒ¹é…çš„caseï¼Œå°±è·³å‡ºå»==</p>
<p>  Every <code>switch</code> statement must be <em>exhaustive</em>ï¼Œä¹Ÿå°±æ˜¯è¯´å¿…é¡»åœ¨caseé‡Œæ‰¾åˆ°ä¸€ä¸ªå¯ä»¥<em>åŒ¹é…</em>çš„é€‰é¡¹ï¼Œå¦‚æœæ²¡æœ‰ä»»ä½•ä¸€ç§æƒ…å†µåŒ¹é…ï¼Œå°±ä¼šæŠ¥é”™ã€‚</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> someCharacter: <span class="type">Character</span> <span class="operator">=</span> <span class="string">&quot;z&quot;</span></span><br><span class="line"><span class="keyword">switch</span> someCharacter &#123;</span><br><span class="line"><span class="keyword">case</span> <span class="string">&quot;a&quot;</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;The first letter of the alphabet&quot;</span>)</span><br><span class="line"><span class="keyword">case</span> <span class="string">&quot;z&quot;</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;The last letter of the alphabet&quot;</span>)</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Some other character&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Prints &quot;The last letter of the alphabet&quot;</span></span><br></pre></td></tr></table></figure>

<p>  caseä¸­å¿…é¡»è‡³å°‘åŒ…å«ä¸€æ¡å¯ä»¥æ‰§è¡Œçš„è¯­å¥ï¼Œä¸‹é¢çš„ä¾‹å­ï¼Œ<code>case:&quot;a&quot;</code>ä¸­æ²¡æœ‰æ‰§è¡Œè¯­å¥ï¼Œç„¶è€Œæˆ‘ä»¬é€‰æ‹©çš„åˆæ˜¯<code>a</code>ã€‚æŒ‰ä¸Šè¿°ä¸¤æ¡ï¼Œä¹Ÿå°±æ˜¯å¿…é¡»åŒ¹é…ï¼Œè€Œä¸”caseä¸­å¿…é¡»æœ‰æ‰§è¡Œè¯­å¥ã€‚</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> anotherCharacter: <span class="type">Character</span> <span class="operator">=</span> <span class="string">&quot;a&quot;</span></span><br><span class="line"><span class="keyword">switch</span> anotherCharacter &#123;</span><br><span class="line"><span class="keyword">case</span> <span class="string">&quot;a&quot;</span>: <span class="comment">// Invalid, the case has an empty body</span></span><br><span class="line"><span class="keyword">case</span> <span class="string">&quot;A&quot;</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;The letter A&quot;</span>)</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Not the letter A&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// This will report a compile-time error.</span></span><br></pre></td></tr></table></figure>

<p>  caseä¸­å¯ä»¥åˆ¤æ–­å¤šç§æƒ…å†µï¼ˆå¤šä¸ªå€¼ï¼‰ï¼Œç”¨é€—å·åˆ†éš”ï¼Œæ»¡è¶³å…¶ä¸­ä¸€ç§å³å¯</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> anotherCharacter: <span class="type">Character</span> <span class="operator">=</span> <span class="string">&quot;a&quot;</span></span><br><span class="line"><span class="keyword">switch</span> anotherCharacter &#123;</span><br><span class="line"><span class="keyword">case</span> <span class="string">&quot;a&quot;</span>, <span class="string">&quot;A&quot;</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;The letter A&quot;</span>)</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Not the letter A&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Prints &quot;The letter A&quot;</span></span><br></pre></td></tr></table></figure>

<p>  switchä¸­è¿˜æœ‰ä¸€äº›ç‹¬æœ‰ç‰¹æ€§ï¼Œå¤§è‡´çœ‹äº†ä¸€ä¸‹ï¼Œæ„Ÿè§‰å¾ˆå°‘ç”¨switch</p>
<p>  é€šè¿‡<code>fallthrough</code>å¼ºåˆ¶<code>switch</code>åœ¨åŒ¹é…ç»§ç»­å¾€ä¸‹åŒ¹é…ä¸€ä¸ªï¼Ÿ(<strong>fallthroughåªæ˜¯å¼ºåˆ¶ç»§ç»­å¾€ä¸‹çœ‹ä¸€ä¸ªï¼Œä¸ç®¡æ˜¯å¦åŒ¹é…ï¼Œæ¯”å¦‚è¿™é‡Œåªçœ‹åˆ°äº†defaultï¼Œå¦‚æœcase 2,3â€¦ ä¹‹åæœ‰ä¸€ä¸ªcase 20ï¼Œä»–ä»ç„¶ä¼šæ‰§è¡Œcase20çš„ä»£ç </strong>)ã€‚ä¸çŸ¥é“è¿™æ ·å†™æ³•çš„æ„ä¹‰ä½•åœ¨ï¼Ÿ</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> integerToDescribe <span class="operator">=</span> <span class="number">5</span></span><br><span class="line"><span class="keyword">var</span> description <span class="operator">=</span> <span class="string">&quot;The number <span class="subst">\(integerToDescribe)</span> is&quot;</span></span><br><span class="line"><span class="keyword">switch</span> integerToDescribe &#123;</span><br><span class="line"><span class="keyword">case</span> <span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">11</span>, <span class="number">13</span>, <span class="number">17</span>, <span class="number">19</span>:</span><br><span class="line">    description <span class="operator">+=</span> <span class="string">&quot; a prime number, and also&quot;</span></span><br><span class="line">    <span class="keyword">fallthrough</span></span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">    description <span class="operator">+=</span> <span class="string">&quot; an integer.&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">print</span>(description)</span><br><span class="line"><span class="comment">// Prints &quot;The number 5 is a prime number, and also an integer.&quot;</span></span><br></pre></td></tr></table></figure>

<p>  switchçš„å€¼ç»‘å®šï¼Œä½¿ç”¨ä¸´æ—¶çš„å¸¸é‡æˆ–è€…å˜é‡æ¥ç»‘å®šå¯¹åº”çš„å€¼ã€‚ä¸´æ—¶åœ¨äºï¼Œåªåœ¨è¿™ä¸ªcaseçš„ä½œç”¨åŸŸå†…æœ‰æ•ˆã€‚è¿™ä¸ªå€¼ç»‘å®šï¼Œè¿˜æ˜¯å’Œenumçš„å€¼ç»‘å®šå¾ˆåƒçš„ï¼Œé‚£ä¸ªä¹Ÿæ˜¯é€šè¿‡switch</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> anotherPoint <span class="operator">=</span> (<span class="number">2</span>, <span class="number">0</span>)</span><br><span class="line"><span class="keyword">switch</span> anotherPoint &#123;</span><br><span class="line"><span class="keyword">case</span> (<span class="keyword">let</span> x, <span class="number">0</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;on the x-axis with an x value of <span class="subst">\(x)</span>&quot;</span>)</span><br><span class="line"><span class="keyword">case</span> (<span class="number">0</span>, <span class="keyword">let</span> y):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;on the y-axis with a y value of <span class="subst">\(y)</span>&quot;</span>)</span><br><span class="line"><span class="keyword">case</span> <span class="keyword">let</span> (x, y):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;somewhere else at (<span class="subst">\(x)</span>, <span class="subst">\(y)</span>)&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Prints &quot;on the x-axis with an x value of 2&quot;</span></span><br></pre></td></tr></table></figure>

<p>  switchä¸­è¿˜å¯ä»¥ä½¿ç”¨whereæ¥è¿›è¡ŒåŒ¹é…ï¼Œæ„Ÿè§‰ä¹Ÿæ˜¯æŒºå°‘è§çš„ï¼Œè§ä¾‹å­</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> yetAnotherPoint <span class="operator">=</span> (<span class="number">1</span>, <span class="operator">-</span><span class="number">1</span>)</span><br><span class="line"><span class="keyword">switch</span> yetAnotherPoint &#123;</span><br><span class="line"><span class="keyword">case</span> <span class="keyword">let</span> (x, y) <span class="keyword">where</span> x <span class="operator">==</span> y:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;(<span class="subst">\(x)</span>, <span class="subst">\(y)</span>) is on the line x == y&quot;</span>)</span><br><span class="line"><span class="keyword">case</span> <span class="keyword">let</span> (x, y) <span class="keyword">where</span> x <span class="operator">==</span> <span class="operator">-</span>y:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;(<span class="subst">\(x)</span>, <span class="subst">\(y)</span>) is on the line x == -y&quot;</span>)</span><br><span class="line"><span class="keyword">case</span> <span class="keyword">let</span> (x, y):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;(<span class="subst">\(x)</span>, <span class="subst">\(y)</span>) is just some arbitrary point&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Prints &quot;(1, -1) is on the line x == -y&quot;</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<ul>
<li><p>è¿™é‡Œå–çš„æ ‡é¢˜æ˜¯early exit</p>
<p>  åƒ <code>if</code> è¯­å¥ä¸€æ ·ï¼Œ<code>guard</code> çš„æ‰§è¡Œå–å†³äºä¸€ä¸ªè¡¨è¾¾å¼çš„å¸ƒå°”å€¼ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>guard</code> è¯­å¥æ¥è¦æ±‚æ¡ä»¶å¿…é¡»ä¸ºçœŸæ—¶ï¼Œä»¥æ‰§è¡Œ <code>guard</code> è¯­å¥åçš„ä»£ç ã€‚ä¸åŒäº <code>if</code> è¯­å¥ï¼Œä¸€ä¸ª <code>guard</code> è¯­å¥æ€»æ˜¯æœ‰ä¸€ä¸ª <code>else</code> ä»å¥ï¼Œå¦‚æœæ¡ä»¶ä¸ä¸ºçœŸåˆ™æ‰§è¡Œ <code>else</code> ä»å¥ä¸­çš„ä»£ç ã€‚</p>
<p>  <code>guard</code>ä½œç”¨å’Œifç±»ä¼¼ï¼Œä¸åŒçš„åœ°æ–¹æ˜¯ï¼Œ1, ä»–ä¸€å®šè¦è·Ÿelseï¼Œè€Œä¸”elseä¸­éœ€è¦return æˆ–è€… throw(å¿…é¡»ä½¿ç”¨åœ¨å‡½æ•°å†…éƒ¨ï¼Ÿ) 2, ä½œç”¨åŸŸé—®é¢˜ã€‚ifæ¡ä»¶ä¸­å®šä¹‰çš„å˜é‡åªèƒ½èŠ±æ‹¬å·é‡Œä½¿ç”¨ï¼Œguardåœ¨èŠ±æ‹¬å·ä¹‹å¤–è¿˜èƒ½ä½¿ç”¨ï¼Œå¦‚ä¸‹é¢çš„æ‰“å°</p>
<blockquote>
<p>Any variables or constants that were assigned values using an optional binding as part of the condition are available for the rest of the code block that the <code>guard</code> statement appears in.</p>
</blockquote>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">greet</span>(<span class="params">person</span>: [<span class="params">String</span>: <span class="type">String</span>]) &#123;</span><br><span class="line">    <span class="keyword">guard</span> <span class="keyword">let</span> name <span class="operator">=</span> person[<span class="string">&quot;name&quot;</span>] <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Hello <span class="subst">\(name)</span>!&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">guard</span> <span class="keyword">let</span> location <span class="operator">=</span> person[<span class="string">&quot;location&quot;</span>] <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;I hope the weather is nice near you.&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;I hope the weather is nice in <span class="subst">\(location)</span>.&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">greet(person: [<span class="string">&quot;name&quot;</span>: <span class="string">&quot;John&quot;</span>])</span><br><span class="line"><span class="comment">// Prints &quot;Hello John!&quot;</span></span><br><span class="line"><span class="comment">// Prints &quot;I hope the weather is nice near you.&quot;</span></span><br><span class="line">greet(person: [<span class="string">&quot;name&quot;</span>: <span class="string">&quot;Jane&quot;</span>, <span class="string">&quot;location&quot;</span>: <span class="string">&quot;Cupertino&quot;</span>])</span><br><span class="line"><span class="comment">// Prints &quot;Hello Jane!&quot;</span></span><br><span class="line"><span class="comment">// Prints &quot;I hope the weather is nice in Cupertino.&quot;</span></span><br></pre></td></tr></table></figure>

<p>  å¦‚æœ <code>guard</code> è¯­å¥çš„æ¡ä»¶è¢«æ»¡è¶³ï¼Œåˆ™ç»§ç»­æ‰§è¡Œ <code>guard</code> è¯­å¥å¤§æ‹¬å·åçš„ä»£ç ã€‚å°†å˜é‡æˆ–è€…å¸¸é‡çš„å¯é€‰ç»‘å®šä½œä¸º <code>guard</code>è¯­å¥çš„æ¡ä»¶ï¼Œéƒ½å¯ä»¥ä¿æŠ¤ <code>guard</code> è¯­å¥åé¢çš„ä»£ç ã€‚</p>
</li>
</ul>
<ul>
<li><p>æ£€æŸ¥APIå¯ç”¨æ€§</p>
<p>  æœ‰ç‚¹ä¸å¤ªç†è§£ã€‚æ„Ÿè§‰å°±æ˜¯ä¸€ä¸ªifæˆ–è€…guardè¯­å¥ï¼Œåˆ¤æ–­å½“å‰ç‰ˆæœ¬æ˜¯å¦èƒ½è°ƒç”¨è¿™ä¸ªAPIã€‚</p>
</li>
</ul>
<h2 id="function"><a href="#function" class="headerlink" title="function"></a>function</h2><p>Every function in Swift has a type, consisting of the functionâ€™s parameter types and return type. You can use this type like any other type in Swift, which makes it easy to pass functions as parameters to other functions, and to return functions from functions. </p>
<p>æ¯ä¸€ä¸ªå‡½æ•°éƒ½æœ‰ä¸€ä¸ªtypeï¼Œç”±å‚æ•°çš„ç±»å‹å’Œè¿”å›ç±»å‹ç»„æˆã€‚ä½ å¯ä»¥æŠŠä»–å½“åšswiftä¸­çš„ä»»æ„å…¶ä»–ç±»å‹ï¼Œè¿™æ ·æ–¹ä¾¿äº†å‡½æ•°ä½œä¸ºä¸€ä¸ªå‚æ•°ä¼ é€’ï¼Œæˆ–è€…ä½œä¸ºè¿”å›å€¼è¿”å›</p>
<p><em>å½¢å‚æ˜¯parameter</em>ï¼Œå®å‚æ˜¯argument</p>
<ul>
<li><p>å®šä¹‰å‡½æ•°</p>
<p>  å‚æ•°ç±»å‹Stringï¼Œè¿”å›ç±»å‹String</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">greet</span>(<span class="params">person</span>: <span class="type">String</span>) -&gt; <span class="type">String</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> greeting <span class="operator">=</span> <span class="string">&quot;Hello, &quot;</span> <span class="operator">+</span> person <span class="operator">+</span> <span class="string">&quot;!&quot;</span></span><br><span class="line">    <span class="keyword">return</span> greeting</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>  ==è°ƒç”¨å‡½æ•°çš„æ—¶å€™ï¼Œå¿…é¡»å†™æ˜label personï¼Œä¸ç„¶æŠ¥é”™==ï¼Œä¹Ÿå°±æ˜¯è¯´<code>greet(person: &quot;Sam&quot;)</code>ï¼Œpersonä¸èƒ½çœç•¥</p>
</li>
<li><p>ä¸¤ä¸ªå‡½æ•°å˜é‡åç›¸åŒï¼Œä½†æ˜¯å‚æ•°è¿”å›ç±»å‹ä¸åŒï¼Œç¼–è¯‘å™¨è¿˜æ˜¯å¯ä»¥åŒºåˆ†çš„ã€‚è¿™æ˜¯å¤šæ€ï¼Ÿå¿˜äº†</p>
</li>
<li><p>ä½¿ç”¨tupleæ¥è¿”å›å¤šä¸ªå€¼ï¼Œä¸åŒçš„æ˜¯ï¼Œè¿”å›çš„å¤šä¸ªå€¼ï¼Œå¯ä»¥å¸¦ä¸Šlabelï¼ˆ==ä¹Ÿå¯ä»¥ä¸å–åå­—å’Œå…¶ä»–è¿”å›ç±»å‹ä¸€æ ·ï¼Œç›´æ¥å†™<code>(Int, Int)</code>==ï¼‰ï¼Œæ–¹ä¾¿åç»­çš„è®¿é—®ã€‚å’Œä¹‹å‰ç¬¬ä¸€ç« å®šä¹‰tupleçš„å†…å®¹ç±»ä¼¼ï¼Œåœ¨è¿™é‡Œ<code>bounds</code>æ˜¯ä¸€ä¸ªtupleã€‚</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">minMax</span>(<span class="params">array</span>: [<span class="type">Int</span>]) -&gt; (min: <span class="type">Int</span>, max: <span class="type">Int</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> currentMin <span class="operator">=</span> array[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">var</span> currentMax <span class="operator">=</span> array[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">for</span> value <span class="keyword">in</span> array[<span class="number">1</span><span class="operator">..&lt;</span>array.count] &#123;</span><br><span class="line">        <span class="keyword">if</span> value <span class="operator">&lt;</span> currentMin &#123;</span><br><span class="line">            currentMin <span class="operator">=</span> value</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> value <span class="operator">&gt;</span> currentMax &#123;</span><br><span class="line">            currentMax <span class="operator">=</span> value</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (currentMin, currentMax)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> bounds <span class="operator">=</span> minMax(array: [<span class="number">8</span>, <span class="operator">-</span><span class="number">6</span>, <span class="number">2</span>, <span class="number">109</span>, <span class="number">3</span>, <span class="number">71</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;min is <span class="subst">\(bounds.min)</span> and max is <span class="subst">\(bounds.max)</span>&quot;</span>)</span><br><span class="line"><span class="comment">// Prints &quot;min is -6 and max is 109&quot;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>è¿”å›optional tupleç±»å‹ï¼Œæœ‰å¯èƒ½è¿”å›tupleï¼Œä¹Ÿæœ‰å¯èƒ½è¿”å›nilï¼Œå¦‚</p>
<p>  <code>(Int, Int)?</code></p>
<blockquote>
<p>(Int, Int)?çš„æ„æ€å°±æ˜¯æˆ‘ä¸Šé¢è¯´çš„ï¼Œæœ‰å¯èƒ½è¿”å›tupleï¼Œä¹Ÿæœ‰å¯èƒ½è¿”å›nil</p>
<p>(Int?, Int?)çš„æ„æ€ä¸åŒï¼Œè¿™æ˜¯ä¸¤ä¸ªå•ç‹¬çš„å€¼</p>
</blockquote>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">minMax</span>(<span class="params">array</span>: [<span class="type">Int</span>]) -&gt; (min: <span class="type">Int</span>, max: <span class="type">Int</span>)<span class="operator">?</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> array.isEmpty &#123; <span class="keyword">return</span> <span class="literal">nil</span> &#125;</span><br><span class="line">    <span class="keyword">var</span> currentMin <span class="operator">=</span> array[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">var</span> currentMax <span class="operator">=</span> array[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">for</span> value <span class="keyword">in</span> array[<span class="number">1</span><span class="operator">..&lt;</span>array.count] &#123;</span><br><span class="line">        <span class="keyword">if</span> value <span class="operator">&lt;</span> currentMin &#123;</span><br><span class="line">            currentMin <span class="operator">=</span> value</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> value <span class="operator">&gt;</span> currentMax &#123;</span><br><span class="line">            currentMax <span class="operator">=</span> value</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (currentMin, currentMax)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>éšå¼è¿”å›å€¼ï¼Œè¿™ä¸ªè¦æ±‚æ•´ä¸ªå‡½æ•°ä½“åªæœ‰ä¸€è¡Œï¼Œè¿™ä¸ªä¹Ÿå¤ªå°‘è§äº†å§</p>
</li>
<li><p>The argument label is used when calling the function; each argument is written in the function call with its argument label before it. The parameter name is used in the implementation of the function. By default, parameters use their parameter name as their argument label.</p>
<p>  å¾ˆå¥‡æ€ªçš„åšæ³•ï¼Œæ¯ä¸ªå‡½æ•°éƒ½æœ‰<code>argument label</code>å®å‚çš„æ ‡æ³¨ï¼Œåœ¨è°ƒç”¨å‡½æ•°çš„æ—¶å€™ï¼Œå¿…é¡»æ³¨æ˜labelã€‚æ¯ä¸ªå‡½æ•°è¿˜æœ‰<code>parameter name</code>å½¢å‚çš„åå­—ï¼Œç”¨äºåœ¨å‡½æ•°ä½“å†…å®ç°ç›¸å…³è¡Œä¸ºã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œå½¢å‚ä½¿ç”¨åå­—ä½œä¸ºå¯¹åº”çš„label</p>
<p>  è¿™ä¸€ç‚¹æ¯”è¾ƒæœ‰æ„æ€ï¼Œä¸æ˜ç™½æ„ä¹‰åœ¨å“ªé‡Œã€‚æ¯ä¸€ä¸ªå‡½æ•°çš„å‚æ•°ï¼Œæœ‰<code>argument label</code>å’Œ<code>parameter name</code></p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">someFunction</span>(<span class="params">argumentLabel</span> <span class="params">parameterName</span>: <span class="type">Int</span>) &#123;</span><br><span class="line">    <span class="comment">// In the function body, parameterName refers to the argument value</span></span><br><span class="line">    <span class="comment">// for that parameter.</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>  <code>argument label</code>ç”¨åœ¨Callè¿™ä¸ªå‡½æ•°ï¼Œ<code>parameter name</code>ç”¨åœ¨å‡½æ•°å†…éƒ¨ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>argument label</code>è¢«<code>parameter name</code>ä»£æ›¿</p>
</li>
<li><p>æˆ‘ä»¬å¯ä»¥ç”¨ä¸‹åˆ’çº¿æ¥å¿½ç•¥<code>argument label</code>ï¼Œ==è¿™æ ·åœ¨è°ƒç”¨å‡½æ•°æ—¶ï¼Œå°±ä¸ç”¨å†™labelåå­—å•¦==ï¼Œå¦‚ä¸‹ï¼š</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">someFunction</span>(<span class="keyword">_</span> <span class="params">firstParameterName</span>: <span class="type">Int</span>, <span class="params">secondParameterName</span>: <span class="type">Int</span>) &#123;</span><br><span class="line">    <span class="comment">// In the function body, firstParameterName and secondParameterName</span></span><br><span class="line">    <span class="comment">// refer to the argument values for the first and second parameters.</span></span><br><span class="line">&#125;</span><br><span class="line">someFunction(<span class="number">1</span>, secondParameterName: <span class="number">2</span>)</span><br></pre></td></tr></table></figure>



</li>
</ul>
<ul>
<li><p>é»˜è®¤å‚æ•°å€¼(Default Parameter Values)</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">someFunction</span>(<span class="params">parameterWithoutDefault</span>: <span class="type">Int</span>, <span class="params">parameterWithDefault</span>: <span class="type">Int</span> <span class="operator">=</span> <span class="number">12</span>) &#123;</span><br><span class="line">    <span class="comment">// If you omit the second argument when calling this function, then</span></span><br><span class="line">    <span class="comment">// the value of parameterWithDefault is 12 inside the function body.</span></span><br><span class="line">&#125;</span><br><span class="line">someFunction(parameterWithoutDefault: <span class="number">3</span>, parameterWithDefault: <span class="number">6</span>) <span class="comment">// parameterWithDefault is 6</span></span><br><span class="line">someFunction(parameterWithoutDefault: <span class="number">4</span>) <span class="comment">// parameterWithDefault is 12</span></span><br></pre></td></tr></table></figure>

</li>
<li><p>å¯å˜å½¢å‚(variadic parameters)ï¼Œç”¨<code>Int...</code>è¡¨ç¤ºï¼Œè¾“å…¥çš„å¤šä¸ªå€¼ï¼Œè¢«ä½œä¸ºconstantçš„Arrayä¼ å…¥</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">arithmeticMean</span>(<span class="keyword">_</span> <span class="params">numbers</span>: <span class="type">Double</span>...) -&gt; <span class="type">Double</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> total: <span class="type">Double</span> <span class="operator">=</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> number <span class="keyword">in</span> numbers &#123;</span><br><span class="line">        total <span class="operator">+=</span> number</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> total <span class="operator">/</span> <span class="type">Double</span>(numbers.count)</span><br><span class="line">&#125;</span><br><span class="line">arithmeticMean(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>)</span><br><span class="line"><span class="comment">// returns 3.0, which is the arithmetic mean of these five numbers</span></span><br><span class="line">arithmeticMean(<span class="number">3</span>, <span class="number">8.25</span>, <span class="number">18.75</span>)</span><br><span class="line"><span class="comment">// returns 10.0, which is the arithmetic mean of these three numbers</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>==æ³¨æ„ç‚¹==ï¼Œåœ¨è¿™é‡Œååˆ†å‚»é€¼çš„æ˜¯ï¼Œå‡½æ•°çš„å‚æ•°æ˜¯==å¸¸æ•°ç±»å‹==ï¼Œä¸èƒ½å†bodyé‡Œé¢æ”¹å˜</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">change</span>(<span class="params">a</span>: <span class="type">Int</span>) &#123;</span><br><span class="line">    a <span class="operator">=</span> <span class="number">36</span>  <span class="comment">// æŠ¥é”™</span></span><br><span class="line">    <span class="built_in">print</span>(a)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">change(a: <span class="number">10</span>)</span><br></pre></td></tr></table></figure>

<p>  å¦‚æœä½ æƒ³æ”¹å˜å€¼ï¼ˆ==è¿™é‡ŒåŒæ—¶æ”¹å˜äº†ä¼ å…¥çš„å®å‚çš„å€¼ï¼Œè¿™æ ·æˆ‘ä»¬çš„å®å‚åªèƒ½æ˜¯å˜é‡ï¼Œä¸èƒ½æ˜¯å¸¸é‡å’Œå­—é¢é‡==ï¼‰ï¼Œåœ¨ç±»å‹å‰é¢åŠ ä¸Š<code>inout</code>ï¼Œå¦‚äº¤æ¢ä¸¤ä¸ªæ•°çš„å€¼</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">swapTwoInts</span>(<span class="keyword">_</span> <span class="params">a</span>: <span class="keyword">inout</span> <span class="type">Int</span>, <span class="keyword">_</span> <span class="params">b</span>: <span class="keyword">inout</span> <span class="type">Int</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> temporaryA <span class="operator">=</span> a</span><br><span class="line">    a <span class="operator">=</span> b</span><br><span class="line">    b <span class="operator">=</span> temporaryA</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>  è€Œä¸”åªèƒ½ä¼ å…¥å¯ä»¥ä¿®æ”¹çš„å˜é‡ï¼Œä¼ å…¥æ—¶å€™è¿˜è¦åŠ ä¸Š<code>&amp;</code></p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> someInt <span class="operator">=</span> <span class="number">3</span></span><br><span class="line"><span class="keyword">var</span> anotherInt <span class="operator">=</span> <span class="number">107</span></span><br><span class="line">swapTwoInts(<span class="operator">&amp;</span>someInt, <span class="operator">&amp;</span>anotherInt)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;someInt is now <span class="subst">\(someInt)</span>, and anotherInt is now <span class="subst">\(anotherInt)</span>&quot;</span>)</span><br><span class="line"><span class="comment">// Prints &quot;someInt is now 107, and anotherInt is now 3&quot;</span></span><br></pre></td></tr></table></figure>

<p>  è¿™åƒæŒ‡é’ˆåˆä¸åƒï¼Œåƒå¼•ç”¨åˆä¸åƒã€‚<strong>è€Œä¸”ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦ä¸ä¿®æ”¹å¤–éƒ¨çš„å˜é‡ï¼Œå°±ä¸èƒ½ç”¨inoutäº†ï¼ŒæŠŠå½¢å‚å¼ºåˆ¶è®¾ç½®ä¸ºå¸¸æ•°çœŸçš„å¾ˆå‚»</strong></p>
</li>
<li><p>å‡½æ•°ç±»å‹</p>
<p>  å‡½æ•°ç±»å‹ç”±å‚æ•°çš„ç±»å‹å’Œè¿”å›çš„ç±»å‹æ‰€å†³å®šï¼š</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">addTwoInts</span>(<span class="keyword">_</span> <span class="params">a</span>: <span class="type">Int</span>, <span class="keyword">_</span> <span class="params">b</span>: <span class="type">Int</span>) -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> a <span class="operator">+</span> b</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">func</span> <span class="title function_">multiplyTwoInts</span>(<span class="keyword">_</span> <span class="params">a</span>: <span class="type">Int</span>, <span class="keyword">_</span> <span class="params">b</span>: <span class="type">Int</span>) -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> a <span class="operator">*</span> b</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>  è¿™ä¸¤ä¸ªå‡½æ•°çš„ç±»å‹éƒ½ä¸º<code>(Int, Int) -&gt; Int</code></p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">printHelloWorld</span>() &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;hello, world&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>  è¿™ä¸ªå‡½æ•°ç±»å‹ä¸º<code>() -&gt; Void</code></p>
</li>
<li><p>==æ³¨æ„==å‡½æ•°ç±»å‹å’Œå…¶ä»–ä»»ä½•ç±»å‹ï¼Œåœ¨swiftä¸­éƒ½ä¸€æ ·çš„ä½¿ç”¨ï¼Œä½ å¯ä»¥ç”¨å®ƒæ¥å®šä¹‰å˜é‡ï¼Œå¹¶assginä¸€ä¸ªåˆé€‚çš„å‡½æ•°ã€‚==é‚£ä¹Ÿå¯ä»¥ç†è§£æˆï¼Œå…¶å®å‡½æ•°ä¹Ÿæ˜¯ä¸€ä¸ªå˜é‡ï¼Ÿèµ‹ç»™å¦ä¸€ä¸ªå˜é‡ï¼Œç›¸å½“äºåˆ«åï¼Ÿ==</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> mathFunction: (<span class="type">Int</span>, <span class="type">Int</span>) -&gt; <span class="type">Int</span> <span class="operator">=</span> addTwoInts</span><br></pre></td></tr></table></figure>

<p>  ä½ å¯ä»¥ç”¨å®ƒæ¥è°ƒç”¨å‡½æ•°</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Result: <span class="subst">\(mathFunction(<span class="number">2</span>, <span class="number">3</span>))</span>&quot;</span>)</span><br><span class="line"><span class="comment">// Prints &quot;Result: 5&quot;</span></span><br></pre></td></tr></table></figure>

<p>  è¿˜å¯ä»¥ç”¨å…¶ä»–å‡½æ•°æ¥æ”¹å˜å®ƒçš„å€¼ï¼Œå¹¶ä¸”è°ƒç”¨</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mathFunction <span class="operator">=</span> multiplyTwoInts</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Result: <span class="subst">\(mathFunction(<span class="number">2</span>, <span class="number">3</span>))</span>&quot;</span>)</span><br><span class="line"><span class="comment">// Prints &quot;Result: 6&quot;</span></span><br></pre></td></tr></table></figure>

<p>  ==å½“ç„¶ï¼Œå’Œå…¶ä»–å˜é‡ä¸€æ ·ï¼Œä½ å¯ä»¥è®©swiftè‡ªå·±å»æ¨æ–­å˜é‡çš„ç±»å‹==</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> anotherMathFunction <span class="operator">=</span> addTwoInts</span><br><span class="line"><span class="comment">// anotherMathFunction is inferred to be of type (Int, Int) -&gt; Int</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å‡½æ•°ç±»å‹è¿˜å¯ä»¥ç”¨ä½œå‚æ•°çš„ç±»å‹ï¼ˆï¼Ÿï¼Ÿï¼Ÿè¯´å®è¯ï¼Œä¸æ˜¯å¾ˆç†è§£è¿™æ ·çš„ç”¨é€”</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">printMathResult</span>(<span class="keyword">_</span> <span class="params">mathFunction</span>: (<span class="type">Int</span>, <span class="type">Int</span>) -&gt; <span class="type">Int</span>, <span class="keyword">_</span> <span class="params">a</span>: <span class="type">Int</span>, <span class="keyword">_</span> <span class="params">b</span>: <span class="type">Int</span>) &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Result: <span class="subst">\(mathFunction(a, b))</span>&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line">printMathResult(addTwoInts, <span class="number">3</span>, <span class="number">5</span>)</span><br><span class="line"><span class="comment">// Prints &quot;Result: 8&quot;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å‡½æ•°ç±»å‹è¿˜èƒ½ä½œä¸ºè¿”å›ç±»å‹</p>
<p>  é¦–å…ˆå®šä¹‰ä¸¤ä¸ªå‡½æ•°</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">stepForward</span>(<span class="keyword">_</span> <span class="params">input</span>: <span class="type">Int</span>) -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> input <span class="operator">+</span> <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">func</span> <span class="title function_">stepBackward</span>(<span class="keyword">_</span> <span class="params">input</span>: <span class="type">Int</span>) -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> input <span class="operator">-</span> <span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>  å°†<code>(Int)-&gt;Int</code>ä½œä¸ºè¿”å›ç±»å‹</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">chooseStepFunction</span>(<span class="params">backward</span>: <span class="type">Bool</span>) -&gt; (<span class="type">Int</span>) -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> backward <span class="operator">?</span> stepBackward : stepForward</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åµŒå¥—å‡½æ•°(nested function)ï¼Œåœ¨å‡½æ•°é‡ŒåµŒå¥—å®šä¹‰å‡½æ•°ï¼Œä»–çš„ä½œç”¨åŸŸåªåœ¨èŠ±æ‹¬å·é‡Œæœ‰æ•ˆ</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">chooseStepFunction</span>(<span class="params">backward</span>: <span class="type">Bool</span>) -&gt; (<span class="type">Int</span>) -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">stepForward</span>(<span class="params">input</span>: <span class="type">Int</span>) -&gt; <span class="type">Int</span> &#123; <span class="keyword">return</span> input <span class="operator">+</span> <span class="number">1</span> &#125;</span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">stepBackward</span>(<span class="params">input</span>: <span class="type">Int</span>) -&gt; <span class="type">Int</span> &#123; <span class="keyword">return</span> input <span class="operator">-</span> <span class="number">1</span> &#125;</span><br><span class="line">    <span class="keyword">return</span> backward <span class="operator">?</span> stepBackward : stepForward</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="Closures"><a href="#Closures" class="headerlink" title="Closures"></a>Closures</h2><p>ä¹‹å‰æ²¡çœ‹æ‡‚ï¼Œå¼€å¤´çš„è¯è·³è¿‡äº†ã€‚</p>
<p>å…¨å±€å’ŒåµŒå¥—å‡½æ•°ä¹Ÿæ˜¯ä¸€ç§ç‰¹æ®Šçš„é—­åŒ…ã€‚</p>
<blockquote>
<p>å…¨å±€å‡½æ•°æ˜¯ä¸€ä¸ªæœ‰åå­—ä½†ä¸ä¼šæ•è·ä»»ä½•å€¼çš„é—­åŒ…</p>
<p>åµŒå¥—å‡½æ•°æ˜¯ä¸€ä¸ªæœ‰åå­—å¹¶å¯ä»¥æ•è·å…¶å°é—­å‡½æ•°åŸŸå†…å€¼çš„é—­åŒ…</p>
<p>é—­åŒ…è¡¨è¾¾å¼æ˜¯ä¸€ä¸ªåˆ©ç”¨è½»é‡çº§è¯­æ³•æ‰€å†™çš„å¯ä»¥æ•è·å…¶ä¸Šä¸‹æ–‡ä¸­å˜é‡æˆ–å¸¸é‡å€¼çš„åŒ¿åé—­åŒ…</p>
</blockquote>
<p>åº”è¯¥å’Œlambdaå‡½æ•°ç±»ä¼¼</p>
<p>ä»¥<code>sorted</code>å‡½æ•°ä¸¾ä¾‹å­ï¼Œè¿™ä¸ªå’ŒC++é‡Œçš„åº“å‡½æ•°å·®ä¸å¤šï¼Œéœ€è¦æ¥æ”¶ä¸€ä¸ªå‡½æ•°è¿”å›å¸ƒå°”å€¼æ¥å¸®åŠ©æ’åºã€‚å¸¸è§„æ–¹æ³•ï¼Œæ„é€ ä¸€ä¸ªæ™®é€šçš„å‡½æ•°ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> names <span class="operator">=</span> [<span class="string">&quot;Chris&quot;</span>, <span class="string">&quot;Alex&quot;</span>, <span class="string">&quot;Ewa&quot;</span>, <span class="string">&quot;Barry&quot;</span>, <span class="string">&quot;Daniella&quot;</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">func</span> <span class="title function_">backward</span>(<span class="keyword">_</span> <span class="params">s1</span>: <span class="type">String</span>, <span class="keyword">_</span> <span class="params">s2</span>: <span class="type">String</span>) -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> s1 <span class="operator">&gt;</span> s2</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> reversedNames <span class="operator">=</span> names.sorted(by: backward)</span><br><span class="line"><span class="comment">// reversedNames is equal to [&quot;Ewa&quot;, &quot;Daniella&quot;, &quot;Chris&quot;, &quot;Barry&quot;, &quot;Alex&quot;]</span></span><br></pre></td></tr></table></figure>

<p>è¿™æ ·å†™æœ‰ç‚¹å¤æ‚ï¼Œé—­åŒ…çš„æ ¼å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123; (parameters) -&gt; <span class="keyword">return</span> type <span class="keyword">in</span></span><br><span class="line">    statements</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ’åºå‡½æ•°ä¸­ä¼ å…¥é—­åŒ…</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">reversedNames <span class="operator">=</span> names.sorted(by: &#123; (s1: <span class="type">String</span>, s2: <span class="type">String</span>) -&gt; <span class="type">Bool</span> <span class="keyword">in</span></span><br><span class="line">    <span class="keyword">return</span> s1 <span class="operator">&gt;</span> s2</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>==æ³¨æ„è¿™ç§å†™æ³•ï¼Œå…¶å®å’Œå‡½æ•°çš„å†™æ³•æ˜¯ç›¸ä¼¼çš„==ã€‚åŒæ ·æ‹¥æœ‰<code>(s1: String, s2: String) -&gt; Bool</code>ï¼Œåªä¸è¿‡å†™åœ¨äº†èŠ±æ‹¬å·é‡Œé¢ï¼Œè€Œä¸”æ²¡æœ‰äº†åå­—ï¼Œå¤šäº†<code>in</code></p>
<blockquote>
<p>The start of the closureâ€™s body is introduced by the <code>in</code> keyword. This keyword indicates that the definition of the closureâ€™s parameters and return type has finished, and the body of the closure is about to begin.</p>
</blockquote>
<p><code>in</code>æ„å‘³ç€å‚æ•°å’Œè¿”å›ç±»å‹å·²ç»ç»“æŸï¼Œå‡½æ•°ä½“å¼€å§‹äº†ã€‚</p>
<ul>
<li><p>æ¨æ–­é—­åŒ…ä¸­å‚æ•°çš„è¿”å›å€¼çš„ç±»å‹ï¼Œè®©ç¼–è¯‘å™¨è‡ªå·±æ¨æ–­ï¼Œæ‰€ä»¥å»æ‰äº†å‚æ•°ä¸¤ä¾§çš„æ‹¬å·ï¼Œä»¥åŠè¿”å›ç±»å‹</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">reversedNames <span class="operator">=</span> names.sorted(by: &#123; s1, s2 <span class="keyword">in</span> <span class="keyword">return</span> s1 <span class="operator">&gt;</span> s2 &#125; )</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Itâ€™s always possible to infer the parameter types and return type when passing a closure to a function or method as an inline closure expression. As a result, you never need to write an inline closure in its fullest form when the closure is used as a function or method argument.</p>
</blockquote>
<p>  ==ï¼Ÿå½“ä¸€ä¸ªé—­åŒ…è¢«ç”¨ä½œå‡½æ•°æˆ–è€…æ–¹æ³•çš„å®å‚æ—¶ï¼Œä¸éœ€è¦å†™å®Œæ•´çš„å®šä¹‰ï¼Œå¦‚å‚æ•°ç±»å‹ï¼Œè¿”å›å€¼ï¼Œåªéœ€åƒä¸Šé¢é‚£ä¹ˆå†™å°±è¡Œ==</p>
</li>
<li><p>==åªæœ‰å•å¥è¡¨è¾¾å¼==çš„é—­åŒ…ï¼Œå¯ä»¥éšå¼è•´å«äº†<code>return</code>è¯­å¥ã€‚ç›¸æ¯”ä¸Šé¢å»æ‰å‚æ•°å’Œè¿”å›ç±»å‹ï¼Œè¿™é‡Œè¿›ä¸€æ­¥å»æ‰äº†<code>return</code>å…³é”®å­—</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">reversedNames <span class="operator">=</span> names.sorted(by: &#123; s1, s2 <span class="keyword">in</span> s1 <span class="operator">&gt;</span> s2 &#125; )</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¿˜å¯ä»¥è¿›ä¸€æ­¥ç®€åŒ–ï¼Œå»æ‰æ•´ä¸ªå‚æ•°åˆ—è¡¨å’Œ<code>in</code>ï¼Œ<strong>åªæœ‰è¿™ç§ç®€åŒ–å†™æ³•çš„æ—¶å€™ï¼Œå¯ä»¥å»æ‰å‚æ•°åˆ—è¡¨</strong></p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">reversedNames <span class="operator">=</span> names.sorted(by: &#123; <span class="variable">$0</span> <span class="operator">&gt;</span> <span class="variable">$1</span> &#125; )</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ›´è¿›ä¸€æ­¥ç®€åŒ–</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">reversedNames <span class="operator">=</span> names.sorted(by: <span class="operator">&gt;</span>)</span><br></pre></td></tr></table></figure>



</li>
</ul>
<ul>
<li><p>å°¾éƒ¨é—­åŒ…</p>
<p>  <strong>æ„Ÿè§‰ä¸»è¦ä¸¤ä¸ªç‚¹ï¼Œç¬¬ä¸€ä¸ªå°¾é—­åŒ…å¯å¿½ç•¥labelï¼Œä½œä¸ºå”¯ä¸€å‚æ•°æ—¶å¯ä»¥å¿½ç•¥æ‹¬å·</strong></p>
<p>  å‡½æ•°å‚æ•°å¯ä»¥æ¥å—å‡½æ•°ç±»å‹ï¼Œå½“é—­åŒ…ä½œä¸º<del>æœ€åä¸€ä¸ª</del>è‹±æ–‡æ˜¯lastå‚æ•°ï¼ˆå…¶å®ï¼Œå¥½åƒæ˜¯åé¢çš„å°±å¯ä»¥ï¼‰ä¼ é€’æ—¶ï¼Œå¯ä»¥ç”¨å°¾éƒ¨é—­åŒ…ã€‚å†™åœ¨å‡½æ•°è°ƒç”¨çš„æ‹¬å·ä¹‹å¤–ã€‚ä¸€æ¬¡å‡½æ•°è°ƒç”¨ï¼Œå¯ä»¥åŒ…å«å¤šä¸ªå°¾éƒ¨é—­åŒ…ï¼Œç¬¬ä¸€å°¾éƒ¨é—­åŒ…å¯ä»¥ä¸å†™argument labelï¼Ÿ</p>
<blockquote>
<p>If you need to pass a closure expression to a function as the functionâ€™s <strong>final</strong> argument and the closure expression is long, it can be useful to write it as a <em>trailing closure</em> instead. You write a trailing closure <strong>after the function callâ€™s parentheses</strong>, even though the trailing closure is still an argument to the function. When you use the trailing closure syntax, you <strong>donâ€™t write the argument label for the first closure</strong> as part of the function call. A function call can include multiple trailing closures; however, the first few examples below use a single trailing closure.</p>
</blockquote>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‡½æ•°ï¼Œå‚æ•°ç±»å‹ä¸ºå‡½æ•°ç±»å‹</span></span><br><span class="line"><span class="keyword">func</span> <span class="title function_">someFunctionThatTakesAClosure</span>(<span class="params">closure</span>: () -&gt; <span class="type">Void</span>) &#123;</span><br><span class="line">    <span class="comment">// function body goes here</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨è¯¥å‡½æ•°</span></span><br><span class="line"><span class="comment">// Here&#x27;s how you call this function without using a trailing closure:</span></span><br><span class="line"><span class="comment">// è¿™æ˜¯å¸¸è§„é—­åŒ…è°ƒç”¨çš„æ–¹æ³•</span></span><br><span class="line">someFunctionThatTakesAClosure(closure: &#123;</span><br><span class="line">    <span class="comment">// closure&#x27;s body goes here</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç”¨å°¾éƒ¨é—­åŒ…çš„æ–¹å¼è°ƒç”¨</span></span><br><span class="line">someFunctionThatTakesAClosure() &#123;</span><br><span class="line">    <span class="comment">// trailing closure&#x27;s body goes here</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>  ä¸Šæ–‡ä¸­çš„æ’åºå°±å¯ä»¥ç”¨å°¾éƒ¨é—­åŒ…æ¥å†™</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">reversedNames <span class="operator">=</span> names.sorted() &#123; <span class="variable">$0</span> <span class="operator">&gt;</span> <span class="variable">$1</span> &#125;</span><br></pre></td></tr></table></figure>

<p>  å¦‚æœé—­åŒ…è¡¨è¾¾å¼ä½œä¸ºå‡½æ•°çš„==å”¯ä¸€å‚æ•°==ï¼Œè€Œä¸”å†™ä½œå°¾éƒ¨é—­åŒ…æ—¶ï¼Œ==å¯ä»¥æŠŠå‡½æ•°è°ƒç”¨çš„æ‹¬å·å»æ‰==ã€‚å…¶å®ä¸å”¯ä¸€çš„ä¹Ÿå»äº†æ‹¬å·ï¼Œå¦‚lec2é‡Œçš„buttonã€‚</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">reversedNames <span class="operator">=</span> names.sorted &#123; <span class="variable">$0</span> <span class="operator">&gt;</span> <span class="variable">$1</span> &#125;</span><br></pre></td></tr></table></figure>

<p>  å°¾é—­åŒ…ç”¨åœ¨Arrayç±»å‹çš„æ–¹æ³•<code>map(_:)</code>é‡Œï¼Œè‡ªå·±çœ‹å§ï¼Œä¸æƒ³ç†äº†ã€‚ï¼ˆä¸»è¦å†…å®¹å°±æ˜¯ä½œä¸ºå”¯ä¸€å‚æ•°çš„å°¾éƒ¨é—­åŒ…ï¼Œå»æ‰äº†æ‹¬å·ï¼Œè°ƒç”¨å†™åœ¨å¤–éƒ¨ï¼‰ç›¸å½“äºï¼Œå®ç°äº†å¯¹æ•°ç»„ä¸­çš„æŸä¸€ä¸ªå¯¹è±¡åšçš„æ“ä½œï¼Œä½†æ˜¯è°ƒç”¨æ—¶ä¼šå¯¹æ¯ä¸€ä¸ªå¯¹è±¡æŒ‰é¡ºåºåšä¸€éæ“ä½œã€‚<strong>è¿™é‡Œæœ‰æ„æ€çš„ä¸€ç‚¹æ˜¯ï¼Œå’Œä¸Šæ–‡ä¸­çš„è¯´æ³•ä¸åŒï¼Œé—­åŒ…ä½œä¸ºå‡½æ•°çš„å‚æ•°æ—¶ï¼Œä¸ç”¨å†™å…¨å®Œæ•´çš„å½¢å¼ï¼Œä½†æ˜¯è¿™é‡Œåˆ æ‰è¿”å›å€¼ç±»å‹ï¼ŒæŠ¥é”™ï¼Œä¸èƒ½æ¨æ–­</strong></p>
<p>  å¯ä»¥å†™å¤šä¸ªå°¾éƒ¨é—­åŒ…ï¼Œä½†æ˜¯==ç¬¬ä¸€ä¸ªå°¾éƒ¨é—­åŒ…çš„labelå¯ä»¥çœç•¥ä¸å†™==ï¼Œå†æ³¨æ„ä¸€ä¸‹å‡½æ•°è°ƒç”¨æ—¶ï¼Œæ‹¬å·é‡Œçš„å‚æ•°åˆ—è¡¨ã€‚</p>
<p>  å¦‚ä¸‹ï¼Œè¿™ä¸ªå‡½æ•°ï¼Œæœ€åä¸¤ä¸ªå‚æ•°æ˜¯å‡½æ•°ç±»å‹ï¼Œå¯ä»¥ä¼ å…¥å°¾éƒ¨é—­åŒ…</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">loadPicture</span>(<span class="params">from</span> <span class="params">server</span>: <span class="type">Server</span>, <span class="params">completion</span>: (<span class="type">Picture</span>) -&gt; <span class="type">Void</span>, <span class="params">onFailure</span>: () -&gt; <span class="type">Void</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">let</span> picture <span class="operator">=</span> download(<span class="string">&quot;photo.jpg&quot;</span>, from: server) &#123;</span><br><span class="line">        completion(picture)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        onFailure()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>  è°ƒç”¨è¯¥å‡½æ•°ï¼Œ==ç¬¬äºŒä¸ªlabelè¿˜æ˜¯è¦å†™çš„==</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">loadPicture(from: someServer) &#123; picture <span class="keyword">in</span></span><br><span class="line">    someView.currentPicture <span class="operator">=</span> picture</span><br><span class="line">&#125; onFailure: &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Couldn&#x27;t download the next picture.&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>




</li>
</ul>
<ul>
<li><p>å€¼æ•è· capturing values</p>
<p>  æ„Ÿè§‰æœ‰ç‚¹å¤æ‚ï¼Œè¿™é‡Œæ˜¯ä»¥åµŒå¥—å‡½æ•°çš„æ•è·ä¸ºä¾‹å­çš„ã€‚</p>
<blockquote>
<p>A closure can <em>capture</em> constants and variables from the surrounding context in which itâ€™s defined. The closure can then refer to and modify the values of those constants and variables from within its body, even if the original scope that defined the constants and variables no longer exists.</p>
</blockquote>
<p>  é—­åŒ…å¯ä»¥åœ¨å…¶è¢«å®šä¹‰çš„ä¸Šä¸‹æ–‡ä¸­<em>æ•è·</em>å¸¸é‡æˆ–å˜é‡ã€‚å³ä½¿å®šä¹‰è¿™äº›å¸¸é‡å’Œå˜é‡çš„åŸä½œç”¨åŸŸå·²ç»ä¸å­˜åœ¨ï¼Œé—­åŒ…ä»ç„¶å¯ä»¥åœ¨é—­åŒ…å‡½æ•°ä½“å†…å¼•ç”¨å’Œä¿®æ”¹è¿™äº›å€¼ã€‚</p>
<p>  åµŒå¥—å‡½æ•°å¯ä»¥æ•è·å…¶å¤–éƒ¨å‡½æ•°æ‰€æœ‰çš„å‚æ•°ä»¥åŠå®šä¹‰çš„å¸¸é‡å’Œå˜é‡ã€‚çœ‹ä¸‹é¢çš„ä¾‹å­å§</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">makeIncrementer</span>(<span class="params">forIncrement</span> <span class="params">amount</span>: <span class="type">Int</span>) -&gt; () -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> runningTotal <span class="operator">=</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">incrementer</span>() -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">        runningTotal <span class="operator">+=</span> amount</span><br><span class="line">        <span class="keyword">return</span> runningTotal</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> incrementer</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>  åµŒå¥—å‡½æ•° <code>incrementer()</code> ä»ä¸Šä¸‹æ–‡ä¸­æ•è·äº†ä¸¤ä¸ªå€¼ï¼Œå®šä¹‰åœ¨å¤–é¢è¿™ä¸ªå‡½æ•°ä½œç”¨åŸŸé‡Œçš„å˜é‡<code>runningTotal</code> å’Œ å¤–é¢å‡½æ•°çš„å½¢å‚<code>amount</code>ã€‚</p>
<blockquote>
<p> It does this by capturing a <em>reference</em> to <code>runningTotal</code> and <code>amount</code> from the surrounding function and using them within its own function body. Capturing by reference ensures that <code>runningTotal</code> and <code>amount</code>donâ€™t disappear when the call to <code>makeIncrementer</code> ends, and also ensures that <code>runningTotal</code> is available the next time the <code>incrementer</code> function is called.</p>
</blockquote>
<p>  è¿™æ˜¯å› ä¸ºå®ƒä»å¤–å›´å‡½æ•°æ•è·äº† <code>runningTotal</code> å’Œ <code>amount</code> å˜é‡çš„==å¼•ç”¨==ã€‚æ•è·å¼•ç”¨ä¿è¯äº† <code>runningTotal</code> å’Œ <code>amount</code> å˜é‡åœ¨è°ƒç”¨å®Œ <code>makeIncrementer</code> åä¸ä¼šæ¶ˆå¤±ï¼Œå¹¶ä¸”ä¿è¯äº†åœ¨ä¸‹ä¸€æ¬¡æ‰§è¡Œ <code>incrementer</code> å‡½æ•°æ—¶ï¼Œ<code>runningTotal</code> ä¾æ—§å­˜åœ¨ã€‚</p>
<p>  ä¾‹å­ï¼Œé‡è¦</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> incrementByTen <span class="operator">=</span> makeIncrementer(forIncrement: <span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">incrementByTen()</span><br><span class="line"><span class="comment">// è¿”å›çš„å€¼ä¸º10</span></span><br><span class="line">incrementByTen()</span><br><span class="line"><span class="comment">// è¿”å›çš„å€¼ä¸º20</span></span><br><span class="line">incrementByTen()</span><br><span class="line"><span class="comment">// è¿”å›çš„å€¼ä¸º30</span></span><br></pre></td></tr></table></figure>

<p>  æ¯æ¬¡è°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼Œ<code>runningTotal</code>çš„å€¼éƒ½ä¼šå¢åŠ ï¼Œå¹¶ä¸æ˜¯æ¯æ¬¡éƒ½åˆå§‹åŒ–ä¸º0ï¼è¿™å’ŒCé‡Œé¢æœ‰å¾ˆå¤šçš„å·®åˆ«ã€‚</p>
<p>  å¦‚æœä½ åˆ›å»ºäº†å¦ä¸€ä¸ª <code>incrementer</code>ï¼Œå®ƒä¼šæœ‰å±äºè‡ªå·±çš„å¼•ç”¨ï¼ŒæŒ‡å‘ä¸€ä¸ªå…¨æ–°ã€ç‹¬ç«‹çš„ <code>runningTotal</code> å˜é‡ï¼š</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> incrementBySeven <span class="operator">=</span> makeIncrementer(forIncrement: <span class="number">7</span>)</span><br><span class="line">incrementBySeven()</span><br><span class="line"><span class="comment">// è¿”å›çš„å€¼ä¸º7</span></span><br></pre></td></tr></table></figure>

<p>  å†æ¬¡è°ƒç”¨åŸæ¥çš„ <code>incrementByTen</code> ä¼šç»§ç»­å¢åŠ å®ƒè‡ªå·±çš„ <code>runningTotal</code> å˜é‡ï¼Œè¯¥å˜é‡å’Œ <code>incrementBySeven</code> ä¸­æ•è·çš„å˜é‡æ²¡æœ‰ä»»ä½•è”ç³»ï¼š</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">incrementByTen()</span><br><span class="line"><span class="comment">// è¿”å›çš„å€¼ä¸º40</span></span><br></pre></td></tr></table></figure>



</li>
</ul>
<ul>
<li><p>é—­åŒ…æ˜¯å¼•ç”¨ç±»å‹ï¼Œæ„Ÿè§‰è¿™ä¸€ç‚¹å’Œè¯´çš„classç±»ä¼¼</p>
<p>  ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œ<code>incrementBySeven</code> å’Œ <code>incrementByTen</code> éƒ½æ˜¯==å¸¸é‡==ï¼Œä½†æ˜¯è¿™äº›å¸¸é‡æŒ‡å‘çš„é—­åŒ…ä»ç„¶å¯ä»¥å¢åŠ å…¶æ•è·çš„å˜é‡çš„å€¼ã€‚è¿™æ˜¯å› ä¸ºå‡½æ•°å’Œé—­åŒ…éƒ½æ˜¯<em>å¼•ç”¨ç±»å‹</em>ã€‚</p>
<p>  æ— è®ºä½ å°†å‡½æ•°æˆ–é—­åŒ…èµ‹å€¼ç»™ä¸€ä¸ªå¸¸é‡è¿˜æ˜¯å˜é‡ï¼Œä½ å®é™…ä¸Šéƒ½æ˜¯å°†å¸¸é‡æˆ–å˜é‡çš„å€¼è®¾ç½®ä¸ºå¯¹åº”å‡½æ•°æˆ–é—­åŒ…çš„<em>å¼•ç”¨</em>ã€‚ä¸Šé¢çš„ä¾‹å­ä¸­ï¼ŒæŒ‡å‘é—­åŒ…çš„å¼•ç”¨ <code>incrementByTen</code> æ˜¯ä¸€ä¸ªå¸¸é‡ï¼Œè€Œå¹¶éé—­åŒ…å†…å®¹æœ¬èº«ã€‚</p>
<p>  è¿™ä¹Ÿæ„å‘³ç€å¦‚æœä½ å°†é—­åŒ…èµ‹å€¼ç»™äº†ä¸¤ä¸ªä¸åŒçš„å¸¸é‡æˆ–å˜é‡ï¼Œä¸¤ä¸ªå€¼éƒ½ä¼šæŒ‡å‘åŒä¸€ä¸ªé—­åŒ…ï¼š</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> alsoIncrementByTen <span class="operator">=</span> incrementByTen</span><br><span class="line">alsoIncrementByTen()</span><br><span class="line"><span class="comment">// è¿”å›çš„å€¼ä¸º50,å€¼ç»§ç»­å¢åŠ </span></span><br></pre></td></tr></table></figure>



</li>
</ul>
<ul>
<li><p>é€ƒé€¸é—­åŒ…çœ‹ä¸æ‡‚</p>
<p>  ä¸€ä¸ªé—­åŒ…ä½œä¸ºå®å‚ä¼ é€’ç»™å‡½æ•°ï¼Œä½†æ˜¯è¦åœ¨å‡½æ•°è¿”å›ä¹‹åæ‰è°ƒç”¨è¿™ä¸ªé—­åŒ…ï¼Œç§°ä¸ºè¿™ä¸ªé—­åŒ…é€ƒé€¸äº†ã€‚å¦‚æœä½ å…è®¸ä¸€ä¸ªé—­åŒ…é€ƒé€¸ï¼Œåœ¨å†™å‡½æ•°çš„å‚æ•°æ—¶ï¼Œè¦åŠ ä¸Š<code>@escaping</code>å…³é”®å­—ã€‚</p>
<p>  ç„¶åä¹‹åéœ€ä¸éœ€è¦éšå¼åœ°è°ƒç”¨selfï¼Œåˆæ²¡çœ‹æ‡‚ã€‚åº”è¯¥å’Œä¼šå½¢æˆå¼•ç”¨æœ‰å…³ç³»ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œé€ƒé€¸é—­åŒ…æ•è·äº†selfï¼Œä½†æ˜¯éœ€è¦åœ¨å‡½æ•°æ‰§è¡Œä¹‹åä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™æ‰è°ƒç”¨ã€‚è¿™æ ·è¿™ä¸ªå¼•ç”¨å°±ä¼šä¸€ç›´å­˜åœ¨ã€‚ç±»å¯¹è±¡ï¼Œå¿…é¡»æ˜¾ç¤ºå¼•ç”¨selfã€‚</p>
<p>  å¦‚æœselfæ˜¯ä¸€ä¸ªç»“æ„ä½“å’Œæšä¸¾ç±»å‹ç±»å‹çš„selfï¼Œä½ å¯ä»¥éšå¼çš„å¼•ç”¨ä»–ï¼Œä½†æ˜¯ä¸èƒ½ä¿®æ”¹ä»–ã€‚</p>
</li>
</ul>
<h2 id="Enumerations"><a href="#Enumerations" class="headerlink" title="Enumerations"></a>Enumerations</h2><p><strong>æšä¸¾ç±»å‹èµ·åˆå¹¶æ²¡æœ‰å’Œä»€ä¹ˆå€¼ç»‘å®šï¼Œä»–å°±æ˜¯ä»–è‡ªå·±ä½œä¸ºå€¼ã€‚å¯ä»¥ç”¨switchåˆ¤æ–­ï¼Œä¹Ÿå¯ä»¥ç”¨CaseIterableæ¥åˆ›å»ºcollectionã€‚ç„¶åå¼•å…¥äº†ï¼Œå…³è”çš„å€¼ï¼Œä¸ºæ¯ä¸ªcaseå…³è”å€¼ã€‚</strong></p>
<p>==å¯ä»¥ç¡®å®šçš„æ˜¯ï¼Œä»–ä¹Ÿæ˜¯ä¸€ä¸ª<strong>TYPE</strong>==ï¼Œå¯ä»¥ç†è§£æˆå’Œstructç±»ä¼¼ï¼Ÿ</p>
<p>æšä¸¾ç±»å‹çš„æ ¼å¼</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">SomeEnumeration</span> &#123;</span><br><span class="line">    <span class="comment">// enumeration definition goes here</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸¤ä¸ªå®šä¹‰æšä¸¾ç±»å‹çš„ä¾‹å­</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">CompassPoint</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> north</span><br><span class="line">    <span class="keyword">case</span> south</span><br><span class="line">    <span class="keyword">case</span> east</span><br><span class="line">    <span class="keyword">case</span> west</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç”¨é€—å·åˆ†éš”å¤šä¸ªcase</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">Planet</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> mercury, venus, earth, mars, jupiter, saturn, uranus, neptune</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸åœ¨Cä¸­ä¸åŒçš„æ˜¯ï¼Œè¿™äº›caseå¹¶æ²¡æœ‰ç»‘å®šé»˜è®¤çš„å€¼ï¼Œæˆ‘çš„ç†è§£æ˜¯ï¼Œä»–çš„å€¼å°±æ˜¯å®šä¹‰åœ¨caseçš„å³è¾¹çš„æœ¬èº«</p>
<ul>
<li><p>Each enumeration definition defines a new type. Like other types in Swift, their names (such as <code>CompassPoint</code> and <code>Planet</code>) start with a capital letter.</p>
<p>  æ¯ä¸€ä¸ªæšä¸¾ç±»å‹å®šä¹‰äº†ä¸€ä¸ªæ–°çš„ç±»å‹ï¼Œä»–ä»¬çš„ç±»å‹åå­—ç”¨å¤§å†™å­—æ¯å¼€å¤´ã€‚</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> directionToHead <span class="operator">=</span> <span class="type">CompassPoint</span>.west</span><br></pre></td></tr></table></figure>

<p>  The type of <code>directionToHead</code> is inferred when itâ€™s initialized with one of the possible values of <code>CompassPoint</code>. Once <code>directionToHead</code> is declared as a <code>CompassPoint</code>, you can set it to a different <code>CompassPoint</code> value using a shorter dot syntax:</p>
<p>  æ—¢ç„¶å·²ç»ç¡®å®šäº†å˜é‡<code>directionToHead</code>æ˜¯ç±»å‹<code>CompassPoint</code>ï¼Œå†ä¸ºä»–èµ‹å€¼æ—¶ï¼Œå¯ä»¥ä½¿ç”¨æ›´ç®€å•çš„æ–¹å¼</p>
<p>  <code>directionToHead is CompassPoint</code>è¿”å›çš„æ˜¯true</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">directionToHead <span class="operator">=</span> .east</span><br></pre></td></tr></table></figure>



</li>
</ul>
<ul>
<li>ä½¿ç”¨switchåŒ¹é…æšä¸¾ç±»å‹ï¼Œç•¥ã€‚åªæœ‰ä¸€ä¸ªæ³¨æ„ç‚¹ï¼Œå°±æ˜¯è¦åŒ¹é…åˆ°æšä¸¾ç±»å‹é‡Œæ‰€æœ‰çš„caseæ‰èƒ½ä¿è¯å®Œå¤‡ã€‚</li>
</ul>
<ul>
<li><p>è¿­ä»£æšä¸¾ç±»å‹</p>
<p>  é¦–å…ˆè¦åœ¨æšä¸¾ç±»å‹çš„åå­—åé¢åŠ ä¸Š<code>CaseIterable</code>ï¼Œè¿™æ ·åœ¨è®¿é—®å±æ€§<code>allCases</code>æ—¶ï¼Œå°±åˆ›å»ºäº†ä¸€ä¸ªå«æœ‰æšä¸¾ç±»å‹ä¸­æ‰€æœ‰caseçš„collectionï¼Œå¯ä»¥ä½¿ç”¨for-inå¯¹collectionè¿›è¡Œè®¿é—®</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">Beverage</span>: <span class="title class_">CaseIterable</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> coffee, tea, juice</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> numberOfChoices <span class="operator">=</span> <span class="type">Beverage</span>.allCases.count</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;<span class="subst">\(numberOfChoices)</span> beverages available&quot;</span>)</span><br><span class="line"><span class="comment">// Prints &quot;3 beverages available&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> beverage <span class="keyword">in</span> <span class="type">Beverage</span>.allCases &#123;</span><br><span class="line">    <span class="built_in">print</span>(beverage)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// coffee</span></span><br><span class="line"><span class="comment">// tea</span></span><br><span class="line"><span class="comment">// juice</span></span><br></pre></td></tr></table></figure>



</li>
</ul>
<ul>
<li><p><code>associated value</code></p>
<p>  å¯ä»¥æŠŠæ¯ä¸ªcaseå­˜å‚¨ç›¸å…³çš„å€¼ï¼Œè¿™æ ·æ›´æœ‰æ„ä¹‰ã€‚è€Œä¸”æ¯ä¸ªcaseå¯ä»¥æœ‰ä¸åŒçš„å€¼ç±»å‹ã€‚</p>
<p>  ä»–çš„ä¸¾ä¾‹ä¸ºï¼Œä¸€ä¸ªä¸€ç»´æ¡å½¢ç upcï¼Œå’ŒäºŒç»´ç qrcode</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">Barcode</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> upc(<span class="type">Int</span>, <span class="type">Int</span>, <span class="type">Int</span>, <span class="type">Int</span>)</span><br><span class="line">    <span class="keyword">case</span> qrCode(<span class="type">String</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>â€œDefine an enumeration type called <code>Barcode</code>, which can take either a value of <code>upc</code> with an associated value of type (<code>Int</code>, <code>Int</code>, <code>Int</code>, <code>Int</code>), or a value of <code>qrCode</code> with an associated value of type <code>String</code>.â€</p>
</blockquote>
<p>  å®šä¹‰ä¸€ä¸ªæšä¸¾ç±»å‹å«åš<code>Barcode</code>ï¼Œè¦ä¹ˆæ˜¯å€¼<code>upc</code>åŒæ—¶æœ‰ä¸€ä¸ªassociated valueæ˜¯ç±»å‹<code>(Int, Int, Int, Int)</code>ï¼Œè¦ä¹ˆæ˜¯å€¼<code>qrCode</code>åŒæ—¶æœ‰ä¸€ä¸ªassociated valueæ˜¯ç±»å‹<code>String</code></p>
<blockquote>
<p>This definition doesnâ€™t provide any actual <code>Int</code> or <code>String</code> valuesâ€”it just defines the <em>type</em> of associated values that <code>Barcode</code> constants and variables can store when theyâ€™re equal to <code>Barcode.upc</code> or <code>Barcode.qrCode</code>.</p>
</blockquote>
<p>  è¿™ä¸ªå®šä¹‰å¹¶æ²¡æœ‰æä¾›ä¸€ä¸ªå®é™…çš„<code>Int</code>æˆ–è€…<code>String</code>å€¼ï¼Œä»–åªæ˜¯å®šä¹‰äº†associated valueçš„ç±»å‹ï¼Œå½“ä»–ä»¬ä¸<code>Barcode.upc</code>æˆ–<code>Barcode.qrCode</code>ç›¸ç­‰æ—¶ï¼Œä¸€ä¸ª<code>BarCode</code>å˜é‡å¯èƒ½å­˜å‚¨çš„å€¼ã€‚</p>
<p>  è¿˜æ˜¯çœ‹ä¾‹å­å§</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> productBarcode <span class="operator">=</span> <span class="type">Barcode</span>.upc(<span class="number">8</span>, <span class="number">85909</span>, <span class="number">51226</span>, <span class="number">3</span>)</span><br></pre></td></tr></table></figure>

<p>  å®šä¹‰äº†ä¸€ä¸ªå˜é‡ï¼Œè€Œä¸”assigns it a value of <code>Barcode.upc</code> with an associated tuple value of <code>(8, 85909, 51226, 3)</code>.</p>
<p>  åŒæ ·å’Œä¸Šæ–‡ä¸€æ ·ï¼Œå¯ä»¥ä¿®æ”¹è¿™ä¸ªå˜é‡ä¸ºå…¶ä»–çš„case</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">productBarcode <span class="operator">=</span> .qrCode(<span class="string">&quot;ABCDEFGHIJKLMNOP&quot;</span>)</span><br></pre></td></tr></table></figure>



</li>
</ul>
<ul>
<li>è¿˜æ˜¯å¯ä»¥ç”¨switchåˆ¤æ–­ç±»å‹ï¼Œä½†æ˜¯å¯ä»¥æå–associated valueï¼Œè¿™é‡Œå°±ä¸å†™äº†ã€‚</li>
</ul>
<ul>
<li><p>Raw Values</p>
<p>  é™¤äº†ç”¨å…³è”å€¼ä¸ºä¸€ä¸ªcaseå…³è”å€¼ï¼Œç±»ä¼¼ç±»å’Œç»“æ„ä½“çš„åˆå§‹åŒ–ï¼Œæšä¸¾ç±»å‹è¿™é‡Œä¹Ÿå¯ä»¥ä½¿ç”¨åŸå§‹å€¼é¢„å¡«å……ï¼Œæ¯ä¸ªåŸå§‹å€¼çš„ç±»å‹å¿…é¡»æ˜¯ä¸€è‡´çš„ã€‚å¦‚ä¸‹ï¼Œ==<strong>æ³¨æ„</strong>ç¬¬ä¸€è¡Œåé¢å†™äº†ç±»å‹==</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">ASCIIControlCharacter</span>: <span class="title class_">Character</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> tab <span class="operator">=</span> <span class="string">&quot;<span class="subst">\t</span>&quot;</span></span><br><span class="line">    <span class="keyword">case</span> lineFeed <span class="operator">=</span> <span class="string">&quot;<span class="subst">\n</span>&quot;</span></span><br><span class="line">    <span class="keyword">case</span> carriageReturn <span class="operator">=</span> <span class="string">&quot;<span class="subst">\r</span>&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>  åŸå§‹å€¼ä¹‹é—´å¿…é¡»æ˜¯<strong>ä¸ç›¸åŒçš„</strong>ã€‚</p>
<p>  <code>ASCIIControlCharacter.tab</code>ä»ç„¶æ˜¯<code>ASCIIControlCharacter</code>æšä¸¾ç±»å‹ï¼Œ<code>ASCIIControlCharacter.tab.rawValue</code>æ‰æ˜¯å¯¹åº”çš„åŸå§‹å€¼ç±»å‹ã€‚å…·ä½“è§æˆ‘ä»¬å†cs193ç¬”è®°å¼€å¤´å†™çš„ä»£ç ä¾‹å­ã€‚</p>
</li>
</ul>
<ul>
<li><p>å½“ä½¿ç”¨Intæˆ–è€…Stringä½œä¸ºåŸå§‹å€¼æ—¶ï¼Œä¼šå­˜åœ¨ç€éšå¼çš„èµ‹å€¼ã€‚è¿™ä¸€ç‚¹å’ŒCå¾ˆåƒã€‚</p>
<p>  å½“ä½¿ç”¨æ•´æ•°ä½œä¸ºåŸå§‹å€¼æ—¶ï¼Œéšå¼èµ‹å€¼çš„å€¼ä¾æ¬¡é€’å¢ <code>1</code>ã€‚å¦‚æœç¬¬ä¸€ä¸ªæšä¸¾æˆå‘˜æ²¡æœ‰è®¾ç½®åŸå§‹å€¼ï¼Œå…¶åŸå§‹å€¼å°†ä¸º <code>0</code>ã€‚</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">Planet</span>: <span class="title class_">Int</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> mercury <span class="operator">=</span> <span class="number">1</span>, venus, earth, mars, jupiter, saturn, uranus, neptune</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>  åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œ<code>Plant.mercury</code> çš„æ˜¾å¼åŸå§‹å€¼ä¸º <code>1</code>ï¼Œ<code>Planet.venus</code> çš„éšå¼åŸå§‹å€¼ä¸º <code>2</code>ï¼Œä¾æ¬¡ç±»æ¨ã€‚</p>
<p>  å½“ä½¿ç”¨å­—ç¬¦ä¸²ä½œä¸ºæšä¸¾ç±»å‹çš„åŸå§‹å€¼æ—¶ï¼Œæ¯ä¸ªæšä¸¾æˆå‘˜çš„éšå¼åŸå§‹å€¼ä¸ºè¯¥æšä¸¾æˆå‘˜çš„åç§°ã€‚</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">CompassPoint</span>: <span class="title class_">String</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> north, south, east, west</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>  é¢ä¾‹å­ä¸­ï¼Œ<code>CompassPoint.south</code> æ‹¥æœ‰éšå¼åŸå§‹å€¼ <code>south</code>ï¼Œä¾æ¬¡ç±»æ¨ã€‚</p>
<p>  ä½¿ç”¨æšä¸¾æˆå‘˜çš„ <code>rawValue</code> å±æ€§å¯ä»¥è®¿é—®è¯¥æšä¸¾æˆå‘˜çš„åŸå§‹å€¼ï¼š</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> earthsOrder <span class="operator">=</span> <span class="type">Planet</span>.earth.rawValue</span><br><span class="line"><span class="comment">// earthsOrder å€¼ä¸º 3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> sunsetDirection <span class="operator">=</span> <span class="type">CompassPoint</span>.west.rawValue</span><br><span class="line"><span class="comment">// sunsetDirection å€¼ä¸º &quot;west&quot;</span></span><br></pre></td></tr></table></figure>



</li>
</ul>
<ul>
<li><p>ä½¿ç”¨åŸå§‹å€¼åˆå§‹åŒ–æšä¸¾å®ä¾‹ initializing from raw valueæ„Ÿè§‰æœ‰ç‚¹é¸¡è‚‹</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> possiblePlanet <span class="operator">=</span> <span class="type">Planet</span>(rawValue: <span class="number">7</span>)</span><br><span class="line"><span class="comment">// possiblePlanet is of type Planet? and equals Planet.uranus</span></span><br></pre></td></tr></table></figure>

<p>  å°±æ˜¯ç”¨åŸå§‹å€¼ï¼Œæ‰¾åˆ°å¯¹åº”çš„caseæ¥åˆå§‹åŒ–ä¸€ä¸ªå˜é‡ã€‚==æ³¨æ„==ï¼Œè¿”å›çš„æ˜¯å¯¹åº”çš„æšä¸¾optionalç±»å‹ï¼Œå› ä¸ºå¯èƒ½æ‰¾ä¸åˆ°ã€‚</p>
</li>
<li><p>é€’å½’æšä¸¾ï¼Œæœ‰ç‚¹ç»•ï¼Œä½†æ˜¯èƒ½çœ‹æ‡‚ï¼Œä¼°è®¡ç”¨å¤„ä¸å¤§ï¼Œè¿™é‡Œä¸å†™äº†</p>
</li>
</ul>
<h2 id="Structures-and-Classes"><a href="#Structures-and-Classes" class="headerlink" title="Structures and Classes"></a>Structures and Classes</h2><p><strong>æ€»ç»“ï¼Œç»“æ„ä½“å’Œå…¶ä»–å¤§å¤šæ•°ç±»å‹æ˜¯å€¼ç±»å‹ï¼Œä¼ é€’æ—¶ï¼Œå…ˆåšå¤åˆ¶ï¼Œå½¼æ­¤ä¹‹é—´çš„ä¿®æ”¹ç›¸äº’ç‹¬ç«‹ã€‚ç±»ç±»å‹æ˜¯å¼•ç”¨ç±»å‹ï¼Œå’Œpythonç±»ä¼¼ï¼Œéƒ½æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ï¼Œè€Œä¸”æœ‰ç‚¹åƒå­˜å‚¨åœ°å€çš„æ„æ€ï¼Ÿè™½ç„¶æ–‡æ¡£è¯´ä¸æ˜¯ï¼Œä½†æ˜¯å¯ä»¥è¿™ä¹ˆç†è§£</strong></p>
<p>ç±»å‹åå­—å¤§å†™é©¼å³°å‘½åï¼Œå¦‚<code>SomeStructure</code>å’Œ<code>SomeClass</code>ã€‚å±æ€§åå’Œæ–¹æ³•åï¼Œå°å†™é©¼å³°å‘½åï¼Œå¦‚<code>frameRate</code>å’Œ<code>incrementCount</code></p>
<ul>
<li><p>Structures and enumerations are value type. ç»“æ„ä½“å’Œæšä¸¾ç±»å‹æ˜¯å€¼ç±»å‹ã€‚</p>
<blockquote>
<p>A <em>value type</em> is a type whose value is <em>copied</em> when itâ€™s assigned to a variable or constant, or when itâ€™s passed to a function.</p>
</blockquote>
<p>  å€¼ç±»å‹æ˜¯ä¸€ç§ç±»å‹ï¼Œå½“ä¼ é€’ç»™å˜é‡æˆ–è€…å¸¸é‡æ—¶ï¼Œæˆ–è€…ä¼ é€’ç»™å‡½æ•°æ—¶ï¼Œå®ƒåªæ˜¯å°†å€¼åšä¸€éæ‹·è´ã€‚</p>
<blockquote>
<p>all of the basic types in Swiftâ€”integers, floating-point numbers, Booleans, strings, arrays and dictionariesâ€”are value types, and are implemented as structures behind the scenes.</p>
</blockquote>
<p>  swiftä¸­å‡ ä¹æ‰€æœ‰çš„åŸºç¡€ç±»å‹ï¼Œæ•´æ•°ï¼Œæµ®ç‚¹ï¼Œå¸ƒå°”ï¼Œå­—ç¬¦ä¸²ï¼Œæ•°ç»„ï¼Œå­—å…¸éƒ½æ˜¯å€¼ç±»å‹ï¼Œéƒ½æ˜¯ä½¿ç”¨ç»“æ„ä½“å®ç°çš„ã€‚</p>
</li>
</ul>
<ul>
<li><p>Classes are reference types. ç±»æ˜¯å¼•ç”¨ç±»å‹ã€‚</p>
<p>  ä¹Ÿå°±æ˜¯è¯´ï¼Œå°†ä¸€ä¸ªå˜é‡aèµ‹ç»™å˜é‡bæ—¶ï¼Œä¸¤ä¸ªå˜é‡æŒ‡å‘åŒä¸€ä¸ªå†…å­˜åŒºåŸŸã€‚è¿™ä¸ªå’Œpythoné‡Œä¸€æ ·ã€‚</p>
<p>  Effectively, theyâ€™re just two different names for the same single instance</p>
<p>  è¿˜ä¸€ä¸ªæœ‰æ„æ€çš„ç°è±¡ï¼Œ==è¿™é‡Œå˜é‡è²Œä¼¼å­˜å‚¨çš„æ˜¯ä¸€ä¸ªåœ°å€ï¼Ÿ==ï¼Œå› ä¸ºæˆ‘å¯ä»¥ä¿®æ”¹ä¸€ä¸ªå¸¸é‡ç±»å˜é‡å±æ€§çš„å€¼ã€‚å¯¹æ­¤æ–‡æ¡£çš„è§£é‡Šæ˜¯ï¼Œå±æ€§çš„å€¼æ”¹å˜ï¼Œå¹¶æ²¡æœ‰æ”¹å˜å®ä¾‹ã€‚ they both <em>refer</em> to a <code>VideoMode</code> instance behind the scenes. Itâ€™s the <code>frameRate</code> property of the underlying <code>VideoMode</code> thatâ€™s changed, not the values of the constant references to that <code>VideoMode</code>.æˆ‘è§‰å¾—ï¼Œå¤§æ¦‚çš„æ„æ€æ˜¯ï¼Œå°±æ˜¯åœ°å€ã€‚</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Resolution</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> width <span class="operator">=</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">var</span> height <span class="operator">=</span> <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">VideoMode</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> resolution <span class="operator">=</span> <span class="type">Resolution</span>()</span><br><span class="line">    <span class="keyword">var</span> interlaced <span class="operator">=</span> <span class="literal">false</span></span><br><span class="line">    <span class="keyword">var</span> frameRate <span class="operator">=</span> <span class="number">0.0</span></span><br><span class="line">    <span class="keyword">var</span> name: <span class="type">String</span>?</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> hd <span class="operator">=</span> <span class="type">Resolution</span>(width: <span class="number">1920</span>, height: <span class="number">1080</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> tenEighty <span class="operator">=</span> <span class="type">VideoMode</span>()</span><br><span class="line">tenEighty.resolution <span class="operator">=</span> hd</span><br><span class="line">tenEighty.interlaced <span class="operator">=</span> <span class="literal">true</span></span><br><span class="line">tenEighty.name <span class="operator">=</span> <span class="string">&quot;1080i&quot;</span></span><br><span class="line">tenEighty.frameRate <span class="operator">=</span> <span class="number">25.0</span></span><br></pre></td></tr></table></figure>



</li>
</ul>
<ul>
<li><p>ä½¿ç”¨ä¸‰ä¸ªç­‰äºå·</p>
<p>  <code>===</code>æ¥åˆ¤æ–­ä¸¤ä¸ªå˜é‡æ˜¯å¦æŒ‡å‘åŒä¸€ä¸ªç¤ºä¾‹</p>
<p>  <code>!==</code>æŒ‡å‘ä¸åŒçš„ç¤ºä¾‹</p>
</li>
</ul>
<h2 id="Properties"><a href="#Properties" class="headerlink" title="Properties"></a>Properties</h2><ul>
<li><p>stored propertiesæ„Ÿè§‰å°±å’ŒCä¸­çš„å±æ€§ç±»ä¼¼</p>
<p>  ç”±äºç»“æ„ä½“æ˜¯value typeï¼Œæ‰€ä»¥ä¸ä¸Šæ–‡ä¸­çš„classä¸åŒï¼Œä¸èƒ½å¯¹å¸¸é‡ç±»å‹çš„ç»“æ„ä½“çš„å±æ€§è¿›è¡Œä¿®æ”¹ï¼Œå¦‚ä¸‹ï¼Œ==ä½†æ˜¯å®šä¹‰æˆå˜é‡çš„ç»“æ„ä½“ï¼Œæ˜¯å¯ä»¥ä¿®æ”¹å±æ€§çš„==</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> rangeOfFourItems <span class="operator">=</span> <span class="type">FixedLengthRange</span>(firstValue: <span class="number">0</span>, length: <span class="number">4</span>)</span><br><span class="line"><span class="comment">// this range represents integer values 0, 1, 2, and 3</span></span><br><span class="line">rangeOfFourItems.firstValue <span class="operator">=</span> <span class="number">6</span></span><br><span class="line"><span class="comment">// this will report an error, even though firstValue is a variable property</span></span><br></pre></td></tr></table></figure>



</li>
</ul>
<ul>
<li><p>lazy stored properties. åˆ©ç”¨<code>lazy</code>ä¿®é¥°å™¨ï¼Œä¿®é¥°ä¸€ä¸ªå­˜å‚¨å˜é‡å±æ€§ï¼ˆåªèƒ½ä¿®é¥°å˜é‡ï¼‰ï¼Œä½¿å¾—å½“è¿™ä¸ªå±æ€§ç¬¬ä¸€æ¬¡è¢«ä½¿ç”¨æ—¶ï¼Œæ‰ä¼šçœŸæ­£çš„åˆå§‹åŒ–ã€‚é€‚ç”¨äºï¼Œåˆå§‹åŒ–æ¶ˆè€—æ¯”è¾ƒå¤šçš„åœºæ™¯ã€‚</p>
<blockquote>
<p>å¿…é¡»å°†å»¶æ—¶åŠ è½½å±æ€§å£°æ˜æˆå˜é‡ï¼ˆä½¿ç”¨ <code>var</code> å…³é”®å­—ï¼‰ï¼Œå› ä¸ºå±æ€§çš„åˆå§‹å€¼å¯èƒ½åœ¨å®ä¾‹æ„é€ å®Œæˆä¹‹åæ‰ä¼šå¾—åˆ°ã€‚è€Œ<strong>å¸¸é‡å±æ€§åœ¨æ„é€ è¿‡ç¨‹å®Œæˆä¹‹å‰å¿…é¡»è¦æœ‰åˆå§‹å€¼</strong></p>
</blockquote>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">DataImporter</span> &#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    DataImporter is a class to import data from an external file.</span></span><br><span class="line"><span class="comment">    The class is assumed to take a nontrivial amount of time to initialize.</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="keyword">var</span> filename <span class="operator">=</span> <span class="string">&quot;data.txt&quot;</span></span><br><span class="line">    <span class="comment">// the DataImporter class would provide data importing functionality here</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">DataManager</span> &#123;</span><br><span class="line">    <span class="keyword">lazy</span> <span class="keyword">var</span> importer <span class="operator">=</span> <span class="type">DataImporter</span>()</span><br><span class="line">    <span class="keyword">var</span> data: [<span class="type">String</span>] <span class="operator">=</span> []</span><br><span class="line">    <span class="comment">// the DataManager class would provide data management functionality here</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> manager <span class="operator">=</span> <span class="type">DataManager</span>()</span><br><span class="line">manager.data.append(<span class="string">&quot;Some data&quot;</span>)</span><br><span class="line">manager.data.append(<span class="string">&quot;Some more data&quot;</span>)</span><br><span class="line"><span class="comment">// the DataImporter instance for the importer property hasn&#x27;t yet been created</span></span><br></pre></td></tr></table></figure>

<p>  å¦‚ä¸Šï¼Œåˆ›å»ºDataManagerå®ä¾‹åï¼Œå…¶ä¸­çš„å±æ€§importerå¹¶æ²¡æœ‰åˆ›å»ºå®ä¾‹ï¼Œç›´åˆ°å®ƒç¬¬ä¸€æ¬¡è¢«ä½¿ç”¨ã€‚</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(manager.importer.filename)</span><br><span class="line"><span class="comment">// the DataImporter instance for the importer property has now been created</span></span><br><span class="line"><span class="comment">// Prints &quot;data.txt&quot;</span></span><br></pre></td></tr></table></figure>



</li>
</ul>
<ul>
<li><p>Computed properties</p>
<p>  ä¸¾å‡ ä¸ªä¾‹å­ï¼Œ<code>var body</code>è¿˜æœ‰<code>viewModel</code>é‡Œè¿”å›<code>cards</code>çš„å˜é‡éƒ½æ˜¯è®¡ç®—å±æ€§ï¼Œä¸è¿‡ä»–ä»¬æ˜¯åªè¯»çš„ï¼Œå…¶å®è®¡ç®—ç±»å‹å¾ˆå¥½ç†è§£çš„ã€‚</p>
<p>  <strong>è®¡ç®—ç±»å‹ä¸€å®šè¦è®¾ç½®ä¸ºå˜é‡</strong>ï¼Œä»–ä»¬å¹¶ä¸å­˜å‚¨å€¼ï¼Œé€šè¿‡<code>get</code>ä¸­è¿”å›ä¸€ä¸ªä¸å®šä¹‰çš„å˜é‡ç±»å‹ç›¸åŒçš„å€¼æ¥è·å–å€¼ï¼ŒåŒæ—¶ä»–ä¹Ÿèƒ½é€šè¿‡<code>set</code>æ¥å½±å“å…¶ä»–çš„å±æ€§ã€‚</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Point</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> x <span class="operator">=</span> <span class="number">0.0</span>, y <span class="operator">=</span> <span class="number">0.0</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Size</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> width <span class="operator">=</span> <span class="number">0.0</span>, height <span class="operator">=</span> <span class="number">0.0</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Rect</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> origin <span class="operator">=</span> <span class="type">Point</span>()</span><br><span class="line">    <span class="keyword">var</span> size <span class="operator">=</span> <span class="type">Size</span>()</span><br><span class="line">    <span class="keyword">var</span> center: <span class="type">Point</span> &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123;</span><br><span class="line">            <span class="keyword">let</span> centerX <span class="operator">=</span> origin.x <span class="operator">+</span> (size.width <span class="operator">/</span> <span class="number">2</span>)</span><br><span class="line">            <span class="keyword">let</span> centerY <span class="operator">=</span> origin.y <span class="operator">+</span> (size.height <span class="operator">/</span> <span class="number">2</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="type">Point</span>(x: centerX, y: centerY)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">set</span>(newCenter) &#123;</span><br><span class="line">            origin.x <span class="operator">=</span> newCenter.x <span class="operator">-</span> (size.width <span class="operator">/</span> <span class="number">2</span>)</span><br><span class="line">            origin.y <span class="operator">=</span> newCenter.y <span class="operator">-</span> (size.height <span class="operator">/</span> <span class="number">2</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> square <span class="operator">=</span> <span class="type">Rect</span>(origin: <span class="type">Point</span>(x: <span class="number">0.0</span>, y: <span class="number">0.0</span>),</span><br><span class="line">    size: <span class="type">Size</span>(width: <span class="number">10.0</span>, height: <span class="number">10.0</span>))</span><br><span class="line"><span class="keyword">let</span> initialSquareCenter <span class="operator">=</span> square.center</span><br><span class="line"><span class="comment">// initialSquareCenter is at (5.0, 5.0)</span></span><br><span class="line">square.center <span class="operator">=</span> <span class="type">Point</span>(x: <span class="number">15.0</span>, y: <span class="number">15.0</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;square.origin is now at (<span class="subst">\(square.origin.x)</span>, <span class="subst">\(square.origin.y)</span>)&quot;</span>)</span><br><span class="line"><span class="comment">// Prints &quot;square.origin is now at (10.0, 10.0)&quot;</span></span><br></pre></td></tr></table></figure>

<p>  æœ€å…³é”®çš„ä»£ç å°±æ˜¯ç¬¬10-20è¡Œï¼Œè¿™ä¸ªè®¡ç®—å˜é‡<code>center</code>çš„ä»£ç ã€‚æˆ‘ä»¬åˆå§‹åŒ–è¿™ä¸ªæ­£æ–¹ä½“ï¼Œåªç»™äº†å±æ€§<code>origin</code>å’Œ<code>size</code>å€¼ï¼Œæˆ‘ä»¬é€šè¿‡<code>get</code>è®¡ç®—å‡ºå€¼æ¥èµ‹ç»™<code>center</code>ã€‚åŒæ ·ï¼Œæˆ‘ä»¬æ”¹å˜<code>center</code>çš„å€¼ï¼Œä¼šè‡ªåŠ¨çš„é€šè¿‡<code>set</code>æ¥å½±å“åˆ°å…¶ä»–å±æ€§ã€‚</p>
</li>
<li><p>ç®€åŒ–setterå£°æ˜ï¼Œåœ¨ä¸Šæ–‡ä¸­ï¼Œæˆ‘ä»¬å¯¹setè®¾ç½®äº†å‚æ•°<code>set(newCenter)</code>ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä¸è®¾ç½®å‚æ•°ï¼Œä½¿ç”¨ç®€å†™çš„æ–¹å¼,é»˜è®¤çš„åå­—æ˜¯<code>newValue</code></p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">set</span>(newCenter) &#123;</span><br><span class="line">    origin.x <span class="operator">=</span> newValue.x <span class="operator">-</span> (size.width <span class="operator">/</span> <span class="number">2</span>)</span><br><span class="line">    origin.y <span class="operator">=</span> newValue.y <span class="operator">-</span> (size.height <span class="operator">/</span> <span class="number">2</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>  getterç®€å†™ï¼Œå°±æ˜¯ä¸€è¡Œä»£ç ä¸å†™returnï¼Œè¿™ä¸ªå’Œå‡½æ•°ä¹Ÿå’Œé—­åŒ…é‡Œé¢ä¸€æ ·</p>
</li>
</ul>
<ul>
<li><p>read-only computed propertiesåªè¯»è®¡ç®—å±æ€§ï¼Œæ²¡æœ‰setterçš„è®¡ç®—å±æ€§</p>
<p>  è¿™ä¸ªå°±æ˜¯æˆ‘ä»¬ç»å¸¸è§åˆ°çš„<code>var body</code>å•¦ã€‚è¿™æ¬¡çœç•¥çš„æ›´å‰å®³ï¼Œ==æŠŠgetï¼Œè¿åŒgetçš„èŠ±æ‹¬å·å…¨éƒ¨çœç•¥äº†==</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Cuboid</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> width <span class="operator">=</span> <span class="number">0.0</span>, height <span class="operator">=</span> <span class="number">0.0</span>, depth <span class="operator">=</span> <span class="number">0.0</span></span><br><span class="line">    <span class="keyword">var</span> volume: <span class="type">Double</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> width <span class="operator">*</span> height <span class="operator">*</span> depth</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> fourByFiveByTwo <span class="operator">=</span> <span class="type">Cuboid</span>(width: <span class="number">4.0</span>, height: <span class="number">5.0</span>, depth: <span class="number">2.0</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;the volume of fourByFiveByTwo is <span class="subst">\(fourByFiveByTwo.volume)</span>&quot;</span>)</span><br><span class="line"><span class="comment">// Prints &quot;the volume of fourByFiveByTwo is 40.0&quot;</span></span><br></pre></td></tr></table></figure>

<p>  æ„Ÿè§‰è¿™é‡Œreturnéƒ½èƒ½çœç•¥</p>
</li>
<li><p>type properties</p>
<p>  æˆ‘è§‰å¾—type stored propertieså°±æ˜¯C++ä¸­ç±»é‡Œçš„é™æ€ç±»å‹ï¼Œç”¨<code>static</code>æ¥å£°æ˜ã€‚type computed propertiesåº”è¯¥å°±å’Œcopmuted propertiesç±»ä¼¼ï¼Œå¤šäº†ä¸ªå…³é”®å­—ï¼Ÿ</p>
<blockquote>
<p>Unlike stored instance properties, you must always give stored type properties a default value. This is because the type itself doesnâ€™t have an initializer that can assign a value to a stored type property at initialization time.</p>
<p>Stored type properties are lazily initialized on their first access. Theyâ€™re guaranteed to be initialized only once, even when accessed by multiple threads simultaneously, and they donâ€™t need to be marked with the <code>lazy</code> modifier.</p>
</blockquote>
<p>  å¿…é¡»ç»™<strong>stored</strong> type propertiesä¸€ä¸ªé»˜è®¤å€¼ã€‚ç„¶åstored type propertiesæ˜¯lazyåˆå§‹åŒ–çš„ï¼Œåªæœ‰ç¬¬ä¸€æ¬¡è®¿é—®åˆ°ä»–ï¼Œæ‰ä¼šç”¨å€¼åˆå§‹åŒ–ã€‚</p>
</li>
</ul>
<ul>
<li><p>property obsevers</p>
<p>  è¿™ä¸ªå’Œè®¡ç®—å±æ€§å…¶å®æœ‰ç‚¹åƒï¼Œä½†æ˜¯æ˜¯æœ‰åŒºåˆ«çš„ã€‚</p>
<blockquote>
<p>Property observers are called every time a propertyâ€™s value is set, even if the new value is the same as the propertyâ€™s current value.</p>
</blockquote>
<p>  æ¯æ¬¡å±æ€§å€¼æ”¹å˜çš„æ—¶å€™ï¼Œéƒ½æ˜¯ç”¨å±æ€§è§‚å¯Ÿè€…ã€‚</p>
<p>  ä½ å¯ä»¥åœ¨ä»¥ä¸‹ä½ç½®æ·»åŠ å±æ€§è§‚å¯Ÿå™¨ï¼š</p>
<ul>
<li><p>è‡ªå®šä¹‰çš„å­˜å‚¨å±æ€§</p>
</li>
<li><p>ç»§æ‰¿çš„å­˜å‚¨å±æ€§</p>
</li>
<li><p>ç»§æ‰¿çš„è®¡ç®—å±æ€§</p>
<p>==åŒºåˆ«1ï¼Œå±æ€§è§‚å¯Ÿè€…å¯ä»¥ç”¨åœ¨å­˜å‚¨å±æ€§ä¸Šã€‚==åŒºåˆ«2ï¼Œè¿™é‡Œä½¿ç”¨çš„æ˜¯<code>willSet</code>æˆ–è€…<code>didSet</code>ï¼Œå¯ä»¥ä¸¤è€…éƒ½ç”¨ï¼Œæˆ–è€…åªç”¨å…¶ä¸­ä¹‹ä¸€ã€‚</p>
<p><code>willSet</code>åœ¨å€¼è¢«æ”¹å˜å‰è°ƒç”¨ï¼Œ<code>didSet</code>åœ¨å€¼è¢«æ”¹å˜åè°ƒç”¨ã€‚</p>
<p>å¦‚æœä½ å®ç°<code>willSet</code>çš„è¯ï¼Œæ–°å€¼å°†ä¼šä½œä¸ºå¸¸é‡å‚æ•°ä¼ å…¥ã€‚ä½ å¯ä»¥ç»™å‚æ•°åå­—ï¼Œå¦‚æœä¸ç»™åå­—ï¼Œé»˜è®¤å°±æ˜¯<code>newValue</code></p>
<p>åŒæ ·åœ°ï¼Œå®ç°<code>didSet</code>çš„è¯ï¼Œæ—§å€¼ä½œä¸ºå¸¸é‡å‚æ•°ä¼ å…¥ã€‚ä½ å¯ä»¥ç»™å‚æ•°åå­—ï¼Œå¦‚æœä¸ç»™åå­—ï¼Œé»˜è®¤å°±æ˜¯<code>oldValue</code></p>
<p>è¿™é‡Œæœ‰ä¸€äº›å…³äºç»§æ‰¿çš„noteï¼Œæš‚æ—¶ä¸æ‘˜è¿‡æ¥äº†ã€‚ä¾‹å­ï¼š</p>
</li>
</ul>
<p>  <strong>æ³¨æ„ä¸€ä¸‹,didSetä¹‹åï¼Œä½ å¯ä»¥ç›´æ¥ä½¿ç”¨å˜é‡çš„åå­—ï¼Œé‚£é‡Œé¢æ”¾çš„å°±æ˜¯æ–°å€¼</strong></p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">StepCounter</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> totalSteps: <span class="type">Int</span> <span class="operator">=</span> <span class="number">0</span> &#123;</span><br><span class="line">        <span class="keyword">willSet</span>(newTotalSteps) &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;å°† totalSteps çš„å€¼è®¾ç½®ä¸º <span class="subst">\(newTotalSteps)</span>&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">didSet</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> totalSteps <span class="operator">&gt;</span> oldValue  &#123;</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&quot;å¢åŠ äº† <span class="subst">\(totalSteps <span class="operator">-</span> oldValue)</span> æ­¥&quot;</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> stepCounter <span class="operator">=</span> <span class="type">StepCounter</span>()</span><br><span class="line">stepCounter.totalSteps <span class="operator">=</span> <span class="number">200</span></span><br><span class="line"><span class="comment">// å°† totalSteps çš„å€¼è®¾ç½®ä¸º 200</span></span><br><span class="line"><span class="comment">// å¢åŠ äº† 200 æ­¥</span></span><br><span class="line">stepCounter.totalSteps <span class="operator">=</span> <span class="number">360</span></span><br><span class="line"><span class="comment">// å°† totalSteps çš„å€¼è®¾ç½®ä¸º 360</span></span><br><span class="line"><span class="comment">// å¢åŠ äº† 160 æ­¥</span></span><br><span class="line">stepCounter.totalSteps <span class="operator">=</span> <span class="number">896</span></span><br><span class="line"><span class="comment">// å°† totalSteps çš„å€¼è®¾ç½®ä¸º 896</span></span><br><span class="line"><span class="comment">// å¢åŠ äº† 536 æ­¥</span></span><br></pre></td></tr></table></figure>

<p>  æ³¨æ„è¿™ä¸ªå±æ€§æ˜¯å­˜å‚¨å±æ€§ã€‚æ¯æ¬¡è¢«èµ‹äºˆæ–°å€¼çš„æ—¶å€™ï¼Œï¼ˆå³ä½¿æ–°å€¼ç­‰äºæ—§å€¼ï¼‰ï¼ŒwillSetå’ŒdidSetéƒ½ä¼šè¢«è°ƒç”¨ã€‚</p>
<blockquote>
<p>If you pass a property that has observers to a function as an in-out parameter, the <code>willSet</code> and <code>didSet</code> observers are always called. This is because of the copy-in copy-out memory model for in-out parameters: The value is always written back to the property at the end of the function.</p>
</blockquote>
<p>  å¦‚æœå°†å¸¦æœ‰è§‚å¯Ÿå™¨çš„å±æ€§é€šè¿‡ in-out æ–¹å¼ä¼ å…¥å‡½æ•°ï¼Œ<code>willSet</code> å’Œ <code>didSet</code> ä¹Ÿä¼šè°ƒç”¨ã€‚è¿™æ˜¯å› ä¸º in-out å‚æ•°é‡‡ç”¨äº†æ‹·å…¥æ‹·å‡ºå†…å­˜æ¨¡å¼ï¼šå³åœ¨å‡½æ•°å†…éƒ¨ä½¿ç”¨çš„æ˜¯å‚æ•°çš„ copyï¼Œå‡½æ•°ç»“æŸåï¼Œåˆå¯¹å‚æ•°é‡æ–°èµ‹å€¼ã€‚</p>
</li>
</ul>
<ul>
<li><p>property wrapper</p>
<p>  å½“ä½¿ç”¨å±æ€§åŒ…è£…å™¨æ—¶ï¼Œä½ åªéœ€åœ¨å®šä¹‰å±æ€§åŒ…è£…å™¨æ—¶ç¼–å†™ä¸€æ¬¡ç®¡ç†ä»£ç ï¼Œç„¶ååº”ç”¨åˆ°å¤šä¸ªå±æ€§ä¸Šæ¥è¿›è¡Œå¤ç”¨ã€‚</p>
<p>  ä¸ºäº†å®šä¹‰ä¸€ä¸ªproperty wrapperï¼Œä½ å¯ä»¥å®šä¹‰ä¸€ä¸ªç»“æ„ä½“ï¼Œæšä¸¾ï¼Œç±»ï¼Œå®šä¹‰ä¸€ä¸ªå±æ€§wrappedValueã€‚<code>TwelveOrLess</code> ç»“æ„ä½“ç¡®ä¿å®ƒåŒ…è£…çš„å€¼å§‹ç»ˆæ˜¯å°äºç­‰äº 12 çš„æ•°å­—ã€‚å¦‚æœè¦æ±‚å®ƒå­˜å‚¨ä¸€ä¸ªæ›´å¤§çš„æ•°å­—ï¼Œå®ƒåˆ™ä¼šå­˜å‚¨ 12 è¿™ä¸ªæ•°å­—ã€‚</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@propertyWrapper</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">TwelveOrLess</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> number <span class="operator">=</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">var</span> wrappedValue: <span class="type">Int</span> &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123; <span class="keyword">return</span> number &#125;</span><br><span class="line">        <span class="keyword">set</span> &#123; number <span class="operator">=</span> <span class="built_in">min</span>(newValue, <span class="number">12</span>) &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>  è¿™é‡Œ<code>wrappedValue</code>è¢«å®šä¹‰ä¸ºè®¡ç®—å˜é‡ï¼Œsetä¿è¯äº†è®¾ç½®çš„å€¼ä¸ä¼šè¶…è¿‡12.</p>
<blockquote>
<p>You apply a wrapper to a property by writing the wrapperâ€™s name before the property as an attribute.</p>
</blockquote>
<p>  ä½ å¯ä»¥åº”ç”¨ä¸€ä¸ªåŒ…è£…å™¨ï¼Œé€šè¿‡æŠŠä»–çš„åç§°å†™åœ¨å±æ€§ä¹‹å‰ï¼Œå¦‚è¿™é‡Œ<code>@TwelveOrLess</code>ã€‚é€šè¿‡ <code>TwelveOrLess</code> å±æ€§åŒ…è£…å™¨æ¥ç¡®ä¿å®ƒçš„é•¿å®½å‡å°äºç­‰äº 12ã€‚==å€¼å¾—æ³¨æ„çš„ä¸€ç‚¹ï¼Œ==The <code>height</code> and <code>width</code> properties get their initial values from the definition of <code>TwelveOrLess</code>, which sets <code>TwelveOrLess.number</code> to zero.è¿™é‡Œheightçš„åˆå€¼åº”è¯¥è¿˜æ˜¯æ¥è‡ª12è¿™ä¸ªç»“æ„ä½“çš„è®¡ç®—å˜é‡ã€‚</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">SmallRectangle</span> &#123;</span><br><span class="line">    <span class="meta">@TwelveOrLess</span> <span class="keyword">var</span> height: <span class="type">Int</span></span><br><span class="line">    <span class="meta">@TwelveOrLess</span> <span class="keyword">var</span> width: <span class="type">Int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> rectangle <span class="operator">=</span> <span class="type">SmallRectangle</span>()</span><br><span class="line"><span class="built_in">print</span>(rectangle.height)</span><br><span class="line"><span class="comment">// æ‰“å° &quot;0&quot;</span></span><br><span class="line"></span><br><span class="line">rectangle.height <span class="operator">=</span> <span class="number">10</span></span><br><span class="line"><span class="built_in">print</span>(rectangle.height)</span><br><span class="line"><span class="comment">// æ‰“å° &quot;10&quot;</span></span><br><span class="line"></span><br><span class="line">rectangle.height <span class="operator">=</span> <span class="number">24</span></span><br><span class="line"><span class="built_in">print</span>(rectangle.height)</span><br><span class="line"><span class="comment">// æ‰“å° &quot;12&quot;</span></span><br></pre></td></tr></table></figure>

<p>  ä¸‹é¢è¿™ä¸²ä»£ç å’Œæˆ‘ä»¬å†™å±æ€§åŒ…è£…å™¨çš„æ•ˆæœæ˜¯ä¸€æ ·çš„ã€‚_heightæ˜¯ä¸€ä¸ª<code>TwelveOrLess</code>å®ä¾‹ï¼Œè¿™ä¸ªç‰ˆæœ¬å°†å…¶å±æ€§æ˜ç¡®åœ°åŒ…è£…åœ¨ <code>TwelveOrLess</code> ç»“æ„ä½“ä¸­ï¼Œè€Œä¸æ˜¯æŠŠ <code>@TwelveOrLess</code> ä½œä¸ºç‰¹æ€§å†™ä¸‹æ¥ï¼šç°åœ¨ç†è§£ä¸ºä»€ä¹ˆå«å±æ€§åŒ…è£…å™¨äº†å§ã€‚</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">SmallRectangle</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> _height <span class="operator">=</span> <span class="type">TwelveOrLess</span>()</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> _width <span class="operator">=</span> <span class="type">TwelveOrLess</span>()</span><br><span class="line">    <span class="keyword">var</span> height: <span class="type">Int</span> &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123; <span class="keyword">return</span> _height.wrappedValue &#125;</span><br><span class="line">        <span class="keyword">set</span> &#123; _height.wrappedValue <span class="operator">=</span> newValue &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> width: <span class="type">Int</span> &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123; <span class="keyword">return</span> _width.wrappedValue &#125;</span><br><span class="line">        <span class="keyword">set</span> &#123; _width.wrappedValue <span class="operator">=</span> newValue &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>  ==å› ä¸ºå±æ€§åŒ…è£…å™¨è¯­æ³•åªæ˜¯å…·æœ‰ getter å’Œ setter çš„å±æ€§çš„è¯­æ³•ç³–==</p>
</li>
</ul>
<h2 id="Methods"><a href="#Methods" class="headerlink" title="Methods"></a>Methods</h2><p>æ–¹æ³•ï¼Œæˆ‘æ„Ÿè§‰å°±æ˜¯å®šä¹‰åœ¨ç±»ï¼Œç»“æ„ä½“ï¼Œæšä¸¾ç±»å‹é‡Œçš„å‡½æ•°ï¼Ÿ</p>
<p>åˆ†ä¸º<code>instance methods</code>ï¼Œå®ä¾‹åŒ–åä½¿ç”¨ï¼›å’Œ<code>type methods</code>ï¼Œæ„Ÿè§‰å’Œé™æ€çš„ç±»ä¼¼ï¼Ÿ</p>
<ul>
<li><p>ä¸€ä¸ªéå¸¸é‡è¦çš„ç†è§£ï¼Œ<strong>selfæ˜¯ä¸€ä¸ªinstance</strong>ï¼Œè¿™å¯¹æŠ¥åˆå§‹åŒ–é”™çš„ç†è§£æœ‰å¸®åŠ©</p>
</li>
<li><p><code>instance methods</code>å°±æ˜¯Cé‚£ä¸€å¥—ï¼Œä¸å¤šè¯´äº†ã€‚</p>
<p>  ä¸€ä¸ªinstance methodå¯ä»¥æœ‰éšå¼åœ°è®¿é—®å…¶ä»–çš„instance methodå’Œpropertiesï¼Œåªèƒ½ç”±å®ä¾‹è°ƒç”¨ã€‚å†ä¸€ä¸ªï¼Œå¯ä»¥é‡åå†™ï¼ˆå‚æ•°ç±»å‹ä¸ä¸€æ ·å°±å¯ä»¥ï¼Ÿï¼‰ï¼Œå¦‚ä¸‹ã€‚</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Counter</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> count <span class="operator">=</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">increment</span>() &#123;</span><br><span class="line">        count <span class="operator">+=</span> <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">increment</span>(<span class="params">by</span> <span class="params">amount</span>: <span class="type">Int</span>) &#123;</span><br><span class="line">        count <span class="operator">+=</span> amount</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">reset</span>() &#123;</span><br><span class="line">        count <span class="operator">=</span> <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Every instance of a type has an implicit property called <code>self</code>, which is exactly equivalent to the instance itself. You use the <code>self</code> property to refer to the current instance within its own instance methods.</p>
</blockquote>
<p>  æ¯ä¸€ä¸ªç±»å‹çš„å®ä¾‹ï¼Œæœ‰ä¸€ä¸ªéšå¼çš„å±æ€§ï¼Œå«åš<code>self</code>ã€‚ä¸ç±»å‹æœ¬èº«å®Œå…¨ä¸€è‡´ï¼Œå¯ä»¥ç”¨selfåœ¨methodé‡Œä½œä¸ºæœ¬èº«çš„æŒ‡ä»£ã€‚</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">increment</span>() &#123;</span><br><span class="line">    <span class="keyword">self</span>.count <span class="operator">+=</span> <span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>  å…¶å®ä¸éœ€è¦æ˜¾ç¤ºçš„å†™<code>self</code>ï¼Œswiftä¼šè‡ªå·±è¿›è¡Œæ¨æ–­ã€‚ä¾‹å¤–åœ¨ï¼Œmethodçš„å‚æ•°å’Œå¤–éƒ¨çš„å‚æ•°å†²çªï¼Œå¯ä»¥ä½¿ç”¨self</p>
</li>
</ul>
<ul>
<li><p>ä¸Šæ–‡ä¸­<strong>åœ¨methodé‡Œå¯¹å±æ€§ç›´æ¥ä¿®æ”¹çš„æ˜¯class</strong></p>
<blockquote>
<p>Structures and enumerations are <em>value types</em>. By default, the properties of a value type canâ€™t be modified from within its instance methods.</p>
</blockquote>
<p>  è¿™åˆæ˜¯ä¸€ä¸ªå¾ˆå¥‡æ€ªçš„å±æ€§ï¼Œç”±äºç»“æ„ä½“å’Œæšä¸¾ç±»å‹æ˜¯value typeã€‚é»˜è®¤çš„ä»–ä»¬çš„å±æ€§çš„å€¼ï¼Œä¸èƒ½å¤Ÿè¢«instance methodä¿®æ”¹ï¼Œè¦åœ¨methodå‰ä½¿ç”¨<code>mutating</code>å…³é”®å­—ã€‚å¾ˆå¥‡æ€ªçš„ç‰¹æ€§ï¼Œå› ä¸ºå¯¹äºå˜é‡ç»“æ„ä½“è€Œè¨€ï¼Œä»–çš„å±æ€§å¯ä»¥åœ¨å¤–éƒ¨ç›´æ¥ä¿®æ”¹ï¼Œåœ¨methodé‡Œå´ä¸èƒ½ç›´æ¥æ”¹ã€‚</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Point</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> x <span class="operator">=</span> <span class="number">0.0</span>, y <span class="operator">=</span> <span class="number">0.0</span></span><br><span class="line">    <span class="keyword">mutating</span> <span class="keyword">func</span> <span class="title function_">moveBy</span>(<span class="params">x</span> <span class="params">deltaX</span>: <span class="type">Double</span>, <span class="params">y</span> <span class="params">deltaY</span>: <span class="type">Double</span>) &#123;</span><br><span class="line">        x <span class="operator">+=</span> deltaX</span><br><span class="line">        y <span class="operator">+=</span> deltaY</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> somePoint <span class="operator">=</span> <span class="type">Point</span>(x: <span class="number">1.0</span>, y: <span class="number">1.0</span>)</span><br><span class="line">somePoint.moveBy(x: <span class="number">2.0</span>, y: <span class="number">3.0</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;The point is now at (<span class="subst">\(somePoint.x)</span>, <span class="subst">\(somePoint.y)</span>)&quot;</span>)</span><br><span class="line"><span class="comment">// Prints &quot;The point is now at (3.0, 4.0)&quot;</span></span><br></pre></td></tr></table></figure>

<p>  è€Œä¸”</p>
<blockquote>
<p>The method can also assign a completely new instance to its implicit <code>self</code> property, and this new instance will replace the existing one when the method ends.</p>
</blockquote>
<p>  è¿™ä¸ªæ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªæ–°çš„å®ä¾‹æ¥æ›¿ä»£<code>self</code>ï¼Œæ‰€ä»¥æœ‰å¦ä¸€ç§å†™æ³•ã€‚</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Point</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> x <span class="operator">=</span> <span class="number">0.0</span>, y <span class="operator">=</span> <span class="number">0.0</span></span><br><span class="line">    <span class="keyword">mutating</span> <span class="keyword">func</span> <span class="title function_">moveBy</span>(<span class="params">x</span> <span class="params">deltaX</span>: <span class="type">Double</span>, <span class="params">y</span> <span class="params">deltaY</span>: <span class="type">Double</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span> <span class="operator">=</span> <span class="type">Point</span>(x: x <span class="operator">+</span> deltaX, y: y <span class="operator">+</span> deltaY)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>  æˆ‘ä»¬ä¹‹å‰åœ¨enumç« èŠ‚ï¼Œå·²ç»ä»‹ç»è¿‡åœ¨æšä¸¾ç±»å‹çš„methodé‡Œï¼Œå¯ä»¥ç”¨switch selfã€‚åœ¨è¿™é‡Œä¹Ÿæœ‰ä¸€ä¸ªåº”ç”¨ï¼Œç”¨åœ¨mutatingçš„methodé‡Œ</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">TriStateSwitch</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> off, low, high</span><br><span class="line">    <span class="keyword">mutating</span> <span class="keyword">func</span> <span class="title function_">next</span>() &#123;</span><br><span class="line">        <span class="keyword">switch</span> <span class="keyword">self</span> &#123;</span><br><span class="line">        <span class="keyword">case</span> .off:</span><br><span class="line">            <span class="keyword">self</span> <span class="operator">=</span> .low</span><br><span class="line">        <span class="keyword">case</span> .low:</span><br><span class="line">            <span class="keyword">self</span> <span class="operator">=</span> .high</span><br><span class="line">        <span class="keyword">case</span> .high:</span><br><span class="line">            <span class="keyword">self</span> <span class="operator">=</span> .off</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> ovenLight <span class="operator">=</span> <span class="type">TriStateSwitch</span>.low</span><br><span class="line">ovenLight.next()</span><br><span class="line"><span class="comment">// ovenLight is now equal to .high</span></span><br><span class="line">ovenLight.next()</span><br><span class="line"><span class="comment">// ovenLight is now equal to .off</span></span><br></pre></td></tr></table></figure>

</li>
<li><p>type methods. ä¸instance methodsä¸åŒï¼Œä¸éœ€è¦å®ä¾‹åŒ–ï¼ŒåŸºäºç±»å‹è°ƒç”¨ã€‚<strong>ä¸èƒ½åŸºäºå®ä¾‹å»è°ƒç”¨</strong></p>
<blockquote>
<p>You indicate type methods by writing the <code>static</code> keyword before the methodâ€™s <code>func</code> keyword. Classes can use the <code>class</code> keyword instead, to allow subclasses to override the superclassâ€™s implementation of that method.</p>
</blockquote>
<p>  åœ¨æ–¹æ³•å‰åŠ ä¸Š<code>static</code>ï¼Œå°±æ˜¯type methodsã€‚ä½†æ˜¯åœ¨ç±»é‡Œï¼Œå¯ä»¥ä½¿ç”¨<code>class</code>å…³é”®å­—ï¼Œå»å…è®¸å­ç±»è¦†ç›–è¶…ç±»ä¸­æ–¹æ³•çš„å®ç°ã€‚</p>
<p>  å…è®¸ç›´æ¥ç”¨ç±»åå»è°ƒç”¨type methods</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">SomeClass</span> &#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">func</span> <span class="title class_">someTypeMethod</span>() &#123;</span><br><span class="line">        <span class="comment">// type method implementation goes here</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">SomeClass</span>.someTypeMethod()</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Within the body of a type method, the implicit <code>self</code> property refers to the type itself, rather than an instance of that type. This means that you can use <code>self</code> to disambiguate between type properties and type method parameters, just as you do for instance properties and instance method parameters.</p>
</blockquote>
<p>  åœ¨type methodé‡Œï¼Œ==selfå±æ€§æŒ‡çš„æ˜¯typeæœ¬èº«ï¼Œæ‰€ä»¥å¯ä»¥ç›´å‡»åœ¨é‡Œé¢ç›´æ¥ä½¿ç”¨é™æ€çš„å±æ€§==å¹¶ä¸æ˜¯å®ä¾‹ã€‚æ‰€ä»¥å¦‚åŒä¸Šæ–‡ä¸€æ ·ï¼Œä½ å¯ä»¥ç”¨selfæ¥é¿å…å‘½åçš„é‡å¤ã€‚</p>
</li>
</ul>
<ul>
<li><p><code>type method</code>é‡Œä½¿ç”¨å…¶ä»–çš„type methodå’Œtype propertiesï¼Œè€Œä¸ç”¨ä½¿ç”¨typeåä½œä¸ºå‰ç¼€ã€‚==å®éªŒäº†ä¸€ä¸‹ï¼Œéé™æ€çš„å±æ€§ä¸èƒ½ç”¨åœ¨type methodé‡Œï¼Œä¼šæŠ¥é”™ã€‚Instance member â€˜currentLevelâ€™ cannot be used on type â€˜LevelTrackerâ€™==</p>
<p>  åŒæ ·åœ¨instance methodä¸­ä¹Ÿä¸èƒ½ç›´æ¥è®¿é—®é™æ€çš„å±æ€§ï¼Œè¦åŠ ä¸Šç±»æˆ–è€…ç»“æ„ä½“çš„åç§°ã€‚</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">LevelTracker</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">var</span> highestUnlockedLevel <span class="operator">=</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">var</span> currentLevel <span class="operator">=</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">func</span> <span class="title function_">unlock</span>(<span class="keyword">_</span> <span class="params">level</span>: <span class="type">Int</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> level <span class="operator">&gt;</span> highestUnlockedLevel &#123; highestUnlockedLevel <span class="operator">=</span> level &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">func</span> <span class="title function_">isUnlocked</span>(<span class="keyword">_</span> <span class="params">level</span>: <span class="type">Int</span>) -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> level <span class="operator">&lt;=</span> highestUnlockedLevel</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">@discardableResult</span></span><br><span class="line">    <span class="keyword">mutating</span> <span class="keyword">func</span> <span class="title function_">advance</span>(<span class="params">to</span> <span class="params">level</span>: <span class="type">Int</span>) -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> <span class="type">LevelTracker</span>.isUnlocked(level) &#123;</span><br><span class="line">            currentLevel <span class="operator">=</span> level</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="subscripts"><a href="#subscripts" class="headerlink" title="subscripts"></a>subscripts</h2><p>access the elements of a collection</p>
<p>è¯­æ³•ï¼Œä½¿ç”¨subsciptå…³é”®å­—ï¼Œåè·Ÿå‚æ•°ä»¥åŠè¿”å›ç±»å‹ï¼ˆæœ‰ç‚¹åƒå‡½æ•°ï¼‰ã€‚å†…éƒ¨æœ‰ç‚¹åƒè®¡ç®—å˜é‡ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">subscript</span>(<span class="params">index</span>: <span class="type">Int</span>) -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">    <span class="keyword">get</span> &#123;</span><br><span class="line">      <span class="comment">// è¿”å›ä¸€ä¸ªé€‚å½“çš„ä¸‹æ ‡å€¼</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">set</span>(newValue) &#123;</span><br><span class="line">      <span class="comment">// æ‰§è¡Œé€‚å½“çš„èµ‹å€¼æ“ä½œ</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>The type of <code>newValue</code> is the same as the return value of the subscript. <code>newValue</code>çš„ç±»å‹å’Œä¸‹æ ‡çš„è¿”å›å€¼ä¸€è‡´ã€‚ä¸‹é¢çš„ä¾‹å­</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">TimesTable</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> multiplier: <span class="type">Int</span></span><br><span class="line">    <span class="keyword">subscript</span>(<span class="params">index</span>: <span class="type">Int</span>) -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> multiplier <span class="operator">*</span> index</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> threeTimesTable <span class="operator">=</span> <span class="type">TimesTable</span>(multiplier: <span class="number">3</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;six times three is <span class="subst">\(threeTimesTable[<span class="number">6</span>])</span>&quot;</span>)</span><br><span class="line"><span class="comment">// Prints &quot;six times three is 18&quot;</span></span><br></pre></td></tr></table></figure>



<p>ä¸‹æ ‡å¯ä»¥æ¥å—ä»»æ„æ•°é‡çš„å‚æ•°ï¼Œè¿™äº›å‚æ•°å¯ä»¥æ˜¯ä»»æ„ç±»å‹çš„ï¼Œè¿”å›å€¼ä¹Ÿå¯ä»¥æ˜¯ä»»æ„ç±»å‹çš„ã€‚</p>
<h2 id="inheritance"><a href="#inheritance" class="headerlink" title="inheritance"></a>inheritance</h2><p>ä¸ç»§æ‰¿è‡ªå…¶å®ƒçš„ç±»ç§°ä¸ºbase class</p>
<p>å­ç±»å¯ä»¥ä¸ºç»§æ‰¿æ¥çš„å®ä¾‹æ–¹æ³•ï¼Œç±»æ–¹æ³•ï¼Œå®ä¾‹å±æ€§ï¼Œç±»å±æ€§ï¼Œæˆ–ä¸‹æ ‡æä¾›è‡ªå·±å®šåˆ¶çš„å®ç°ã€‚å¦‚æœè¦overrideï¼Œå¿…é¡»åŠ ä¸Šoverrideå…³é”®å­—ã€‚</p>
<p>ä½ å¯ä»¥æä¾›å®šåˆ¶çš„ getterï¼ˆæˆ– setterï¼‰æ¥é‡å†™ä»»ä½•ä¸€ä¸ªç»§æ‰¿æ¥çš„å±æ€§ï¼Œæ— è®ºè¿™ä¸ªå±æ€§æ˜¯å­˜å‚¨å‹è¿˜æ˜¯è®¡ç®—å‹å±æ€§ã€‚å­ç±»å¹¶ä¸çŸ¥é“ç»§æ‰¿æ¥çš„å±æ€§æ˜¯å­˜å‚¨å‹çš„è¿˜æ˜¯è®¡ç®—å‹çš„ï¼Œå®ƒåªçŸ¥é“ç»§æ‰¿æ¥çš„å±æ€§ä¼šæœ‰ä¸€ä¸ªåå­—å’Œç±»å‹ã€‚ä½ åœ¨é‡å†™ä¸€ä¸ªå±æ€§æ—¶ï¼Œå¿…é¡»å°†å®ƒçš„åå­—å’Œç±»å‹éƒ½å†™å‡ºæ¥ã€‚</p>
<p>è¿˜å¯ä»¥ä¸ºç»§æ‰¿æ¥çš„å±æ€§è®¾ç½®å±æ€§è§‚å¯Ÿå™¨ï¼Œ</p>
<p>æŠŠå±æ€§æ–¹æ³•æˆ–è€…ä¸‹æ ‡å®šä¹‰æˆfinalï¼Œæ¥é˜²æ­¢è¢«é‡å†™ã€‚</p>
<h2 id="Initialization"><a href="#Initialization" class="headerlink" title="Initialization"></a>Initialization</h2><ul>
<li><blockquote>
<p>Classes and structures <em>must</em> set all of their stored properties to an appropriate initial value by the time an instance of that class or structure is created. Stored properties canâ€™t be left in an indeterminate state.</p>
</blockquote>
<p>  ç±»å’Œç»“æ„ä½“çš„<code>å­˜å‚¨å±æ€§</code>ï¼Œåœ¨åˆ›å»ºä¸€ä¸ªå®ä¾‹åï¼Œ==å¿…é¡»æœ‰ä¸€ä¸ªåˆå§‹å€¼ã€‚==å¯ä»¥é€šè¿‡åˆå§‹åŒ–å™¨ï¼Œä¹Ÿå¯ä»¥é€šè¿‡èµ‹é»˜è®¤çš„å±æ€§å€¼ã€‚</p>
<p>  é€šè¿‡åˆå§‹åŒ–å™¨åˆå§‹åŒ–</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Fahrenheit</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> temperature: <span class="type">Double</span></span><br><span class="line">    <span class="keyword">init</span>() &#123;</span><br><span class="line">        temperature <span class="operator">=</span> <span class="number">32.0</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> f <span class="operator">=</span> <span class="type">Fahrenheit</span>()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;The default temperature is <span class="subst">\(f.temperature)</span>Â° Fahrenheit&quot;</span>)</span><br><span class="line"><span class="comment">// Prints &quot;The default temperature is 32.0Â° Fahrenheit&quot;</span></span><br></pre></td></tr></table></figure>

<p>  é€šè¿‡å±æ€§çš„é»˜è®¤å€¼åˆå§‹åŒ–</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Fahrenheit</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> temperature <span class="operator">=</span> <span class="number">32.0</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



</li>
</ul>
<ul>
<li><p>è‡ªå®šä¹‰åˆå§‹åŒ–ï¼Œåˆå§‹åŒ–å™¨å¯ä»¥å¼•å…¥argument labelå’Œparameter nameï¼Œ==å¦‚æœå†™äº†labelï¼Œé‚£ä¹ˆåœ¨è°ƒç”¨æ—¶ä¸€å®šè¦è¿›è¡Œè°ƒç”¨ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨ç›®å‰è¿™ä¸ªä¾‹å­é‡Œï¼Œ<code>Celsius(30.0)æ¥åˆå§‹åŒ–æ˜¯é”™çš„ï¼Œå› ä¸ºä¸¤ä¸ªåˆå§‹åŒ–å™¨éƒ½æœ‰label</code>==</p>
<p>  å¦‚ä¸‹ï¼Œæ¸©åº¦è½¬åŒ–çš„ä¾‹å­</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Celsius</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> temperatureInCelsius: <span class="type">Double</span></span><br><span class="line">    <span class="keyword">init</span>(<span class="params">fromFahrenheit</span> <span class="params">fahrenheit</span>: <span class="type">Double</span>) &#123;</span><br><span class="line">        temperatureInCelsius <span class="operator">=</span> (fahrenheit <span class="operator">-</span> <span class="number">32.0</span>) <span class="operator">/</span> <span class="number">1.8</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">init</span>(<span class="params">fromKelvin</span> <span class="params">kelvin</span>: <span class="type">Double</span>) &#123;</span><br><span class="line">        temperatureInCelsius <span class="operator">=</span> kelvin <span class="operator">-</span> <span class="number">273.15</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> boilingPointOfWater <span class="operator">=</span> <span class="type">Celsius</span>(fromFahrenheit: <span class="number">212.0</span>)</span><br><span class="line"><span class="comment">// boilingPointOfWater.temperatureInCelsius is 100.0</span></span><br><span class="line"><span class="keyword">let</span> freezingPointOfWater <span class="operator">=</span> <span class="type">Celsius</span>(fromKelvin: <span class="number">273.15</span>)</span><br><span class="line"><span class="comment">// freezingPointOfWater.temperatureInCelsius is 0.0</span></span><br></pre></td></tr></table></figure>

<p>  å¦‚æœä¸æƒ³å†™labelï¼Œè¿˜æ˜¯å’Œä¹‹å‰å‡½æ•°ç« èŠ‚æè¿°çš„ä¸€æ ·ï¼Œä½¿ç”¨ä¸‹åˆ’çº¿</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Celsius</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> temperatureInCelsius: <span class="type">Double</span></span><br><span class="line">    <span class="keyword">init</span>(<span class="params">fromFahrenheit</span> <span class="params">fahrenheit</span>: <span class="type">Double</span>) &#123;</span><br><span class="line">        temperatureInCelsius <span class="operator">=</span> (fahrenheit <span class="operator">-</span> <span class="number">32.0</span>) <span class="operator">/</span> <span class="number">1.8</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">init</span>(<span class="params">fromKelvin</span> <span class="params">kelvin</span>: <span class="type">Double</span>) &#123;</span><br><span class="line">        temperatureInCelsius <span class="operator">=</span> kelvin <span class="operator">-</span> <span class="number">273.15</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">init</span>(<span class="keyword">_</span> <span class="params">celsius</span>: <span class="type">Double</span>) &#123;</span><br><span class="line">        temperatureInCelsius <span class="operator">=</span> celsius</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> bodyTemperature <span class="operator">=</span> <span class="type">Celsius</span>(<span class="number">37.0</span>)</span><br><span class="line"><span class="comment">// bodyTemperature.temperatureInCelsius is 37.0</span></span><br></pre></td></tr></table></figure>

<p>  ä½†æ˜¯å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæˆ‘å¦‚æœæŠŠä»å¼€å°”æ–‡çš„æ¸©åº¦è½¬åŒ–ä¹Ÿå»æ‰labelåå­—ï¼Œè¿™æ ·å°±ä¼šå­˜åœ¨åˆå§‹åŒ–å™¨çš„å†²çªç°è±¡å‡ºç°ã€‚<code>init(_ kelvin: Double)</code>å’Œ<code>init(_ celsius: Double)</code>è¢«è®¤ä¸ºæ˜¯ä¸€æ ·çš„ã€‚</p>
</li>
</ul>
<ul>
<li><p>optional ç±»å‹çš„å±æ€§ï¼Œåœ¨åˆå§‹åŒ–æ—¶ï¼Œä¼šè¢«è‡ªåŠ¨çš„å®šä¹‰ä¸ºnilï¼Œå¯ä»¥åœ¨å®ä¾‹åŒ–ä¹‹åä¸ºå…¶èµ‹å€¼ã€‚</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">SurveyQuestion</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> text: <span class="type">String</span></span><br><span class="line">    <span class="keyword">var</span> response: <span class="type">String</span>?</span><br><span class="line">    <span class="keyword">init</span>(<span class="params">text</span>: <span class="type">String</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.text <span class="operator">=</span> text</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">ask</span>() &#123;</span><br><span class="line">        <span class="built_in">print</span>(text)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> cheeseQuestion <span class="operator">=</span> <span class="type">SurveyQuestion</span>(text: <span class="string">&quot;Do you like cheese?&quot;</span>)</span><br><span class="line">cheeseQuestion.ask()</span><br><span class="line"><span class="comment">// Prints &quot;Do you like cheese?&quot;</span></span><br><span class="line">cheeseQuestion.response <span class="operator">=</span> <span class="string">&quot;Yes, I do like cheese.&quot;</span></span><br></pre></td></tr></table></figure>



</li>
</ul>
<ul>
<li>åªè¦åœ¨åˆå§‹åŒ–ç»“æŸä¹‹å‰ä¸ºå¸¸é‡å±æ€§èµ‹å€¼å³å¯ï¼Œä¸€æ—¦å¸¸é‡å±æ€§è¢«èµ‹äº†ä¸€ä¸ªå€¼ï¼Œå°±ä¸èƒ½å†ä¿®æ”¹ã€‚å¯¹äºç±»æ¥è¯´ï¼Œå¸¸é‡å±æ€§åªèƒ½è¢«è¿™ä¸€çº§çš„ç±»ä¿®æ”¹ï¼Œä¸èƒ½è¢«å­ç±»ä¿®æ”¹ã€‚</li>
</ul>
<ul>
<li><blockquote>
<p>Structure types automatically receive a <em>memberwise initializer</em> if they donâ€™t define any of their own custom initializers. Unlike a default initializer, the structure receives a memberwise initializer even if it has stored properties that donâ€™t have default values.</p>
</blockquote>
<p>  å³ä½¿ä½ æ²¡æœ‰ç»™ç»“æ„ä½“æä¾›æ„é€ å™¨å’Œé»˜è®¤å€¼ï¼Œä»–ä¹Ÿä¼šè‡ªåŠ¨æœ‰ä¸€ä¸ª<code>memberwise initializer </code></p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Size</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> width <span class="operator">=</span> <span class="number">0.0</span>, height <span class="operator">=</span> <span class="number">0.0</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> twoByTwo <span class="operator">=</span> <span class="type">Size</span>(width: <span class="number">2.0</span>, height: <span class="number">2.0</span>)</span><br></pre></td></tr></table></figure>

<p>  å½“ä½ è°ƒç”¨memberwise initializeræ—¶ï¼Œå¯ä»¥å¿½ç•¥å·²æœ‰é»˜è®¤å€¼çš„å±æ€§ã€‚å¦‚ä¸‹ï¼Œå¯ä»¥å¿½ç•¥<code>width</code>ï¼Œä¹Ÿå¯ä»¥æŠŠ<code>width</code>å’Œ<code>height</code>éƒ½å¿½ç•¥ã€‚</p>
</li>
</ul>
<ul>
<li><p>==æ³¨æ„ä¸€ä¸‹ï¼Œ==å¯¹äºç»“æ„ä½“å’Œç±»æ¥è¯´ï¼Œå¦‚æœä¸ºæ‰€æœ‰çš„å±æ€§æä¾›äº†é»˜è®¤å€¼ï¼Œä½†åˆæ²¡æœ‰æä¾›åˆå§‹åŒ–å™¨ï¼Œå°±ä¼šè·å¾—ä¸€ä¸ª<code>default initializer</code>ï¼Œä¸éœ€è¦ä»»ä½•å‚æ•°ã€‚<strong>ç»“æ„ä½“é™¤æ­¤ä¹‹å¤–ï¼Œå°±ç®— ä»–ä¸ç»™å±æ€§æä¾›é»˜è®¤å€¼ï¼Œä»–ä¹Ÿä¼šè·å¾—ä¸€ä¸ªé»˜è®¤çš„<code>memberwise initializer</code>ï¼Œè¿™ä¸ªæ˜¯éœ€è¦å†™labelçš„</strong>ã€‚è¿™ä¸¤è€…æœ‰ä¸€äº›ç»†å¾®çš„å·®è·ã€‚å½“ç„¶å¯¹äºç»“æ„ä½“ï¼Œå‰è€…ä¹Ÿå¯ä»¥ç†è§£ä¸ºåè€…çš„å¿½ç•¥å·²æœ‰å€¼çš„ç®€å†™ã€‚</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// default initializer</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Size</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> width <span class="operator">=</span> <span class="number">0.0</span>, height <span class="operator">=</span> <span class="number">0.0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a <span class="operator">=</span> <span class="type">Size</span>() <span class="comment">//æ²¡å†™å‚æ•°</span></span><br><span class="line"><span class="keyword">var</span> b <span class="operator">=</span> <span class="type">Size</span>(width: <span class="number">3</span>, height: <span class="number">5</span>)  <span class="comment">// memberwise</span></span><br></pre></td></tr></table></figure>



</li>
</ul>
<ul>
<li><p>è¿™æ˜¯==ä¸¤ä¸ª==æ„é€ å™¨ï¼Œè¿™ç§æƒ…å†µæ˜¯å…è®¸å­˜åœ¨çš„ã€‚å°±æ˜¯labelçš„åå­—ä¸åŒï¼Œç«Ÿç„¶ç¼–è¯‘å™¨å°±è®¤ä¸ºè¿™æ˜¯ä¸¤ä¸ªæ„é€ å™¨</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Size</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> width <span class="operator">=</span> <span class="number">0</span>, height <span class="operator">=</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">init</span>(<span class="params">a</span>: <span class="type">Int</span>, <span class="params">b</span>: <span class="type">Int</span>) &#123;</span><br><span class="line">        width <span class="operator">=</span> a</span><br><span class="line">        height <span class="operator">=</span> b</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">init</span>(<span class="params">c</span>: <span class="type">Int</span>, <span class="params">d</span>: <span class="type">Int</span>) &#123;</span><br><span class="line">        width <span class="operator">=</span> c</span><br><span class="line">        height <span class="operator">=</span> d</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



</li>
</ul>
<ul>
<li><p>initializer delegation for value type</p>
<p>  å¤§æ¦‚æ„æ€å°±æ˜¯ï¼Œåœ¨ä¸€ä¸ª<code>init()</code>é‡Œå¯ä»¥è°ƒå…¶ä»–çš„æ„é€ å™¨ã€‚</p>
<p>  æ„é€ å™¨å¯ä»¥é€šè¿‡è°ƒç”¨å…¶å®ƒæ„é€ å™¨æ¥å®Œæˆå®ä¾‹çš„éƒ¨åˆ†æ„é€ è¿‡ç¨‹ã€‚è¿™ä¸€è¿‡ç¨‹ç§°ä¸º<em>æ„é€ å™¨ä»£ç†</em>ï¼Œå®ƒèƒ½é¿å…å¤šä¸ªæ„é€ å™¨é—´çš„ä»£ç é‡å¤ã€‚</p>
<p>  å¯¹äºå€¼ç±»å‹ï¼Œä½ å¯ä»¥ä½¿ç”¨ <code>self.init</code> åœ¨è‡ªå®šä¹‰çš„æ„é€ å™¨ä¸­å¼•ç”¨ç›¸åŒç±»å‹ä¸­çš„å…¶å®ƒæ„é€ å™¨ã€‚å¹¶ä¸”ä½ åªèƒ½åœ¨æ„é€ å™¨å†…éƒ¨è°ƒç”¨ <code>self.init</code>ã€‚</p>
<p>  è¯·æ³¨æ„ï¼Œå¦‚æœä½ ä¸ºæŸä¸ªå€¼ç±»å‹å®šä¹‰äº†ä¸€ä¸ªè‡ªå®šä¹‰çš„æ„é€ å™¨ï¼Œä½ å°†æ— æ³•è®¿é—®åˆ°é»˜è®¤æ„é€ å™¨ï¼ˆå¦‚æœæ˜¯ç»“æ„ä½“ï¼Œè¿˜å°†æ— æ³•è®¿é—®é€ä¸€æˆå‘˜æ„é€ å™¨ï¼‰ã€‚</p>
<p>  æˆ‘ä»¬è¿˜æ˜¯çœ‹ä¾‹å­å§</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Size</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> width <span class="operator">=</span> <span class="number">0.0</span>, height <span class="operator">=</span> <span class="number">0.0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Point</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> x <span class="operator">=</span> <span class="number">0.0</span>, y <span class="operator">=</span> <span class="number">0.0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Rect</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> origin <span class="operator">=</span> <span class="type">Point</span>()</span><br><span class="line">    <span class="keyword">var</span> size <span class="operator">=</span> <span class="type">Size</span>()</span><br><span class="line">    <span class="keyword">init</span>() &#123;&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">init</span>(<span class="params">origin</span>: <span class="type">Point</span>, <span class="params">size</span>: <span class="type">Size</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.origin <span class="operator">=</span> origin</span><br><span class="line">        <span class="keyword">self</span>.size <span class="operator">=</span> size</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">init</span>(<span class="params">center</span>: <span class="type">Point</span>, <span class="params">size</span>: <span class="type">Size</span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> originX <span class="operator">=</span> center.x <span class="operator">-</span> (size.width <span class="operator">/</span> <span class="number">2</span>)</span><br><span class="line">        <span class="keyword">let</span> originY <span class="operator">=</span> center.y <span class="operator">-</span> (size.height <span class="operator">/</span> <span class="number">2</span>)</span><br><span class="line">        <span class="keyword">self</span>.<span class="keyword">init</span>(origin: <span class="type">Point</span>(x: originX, y: originY), size: size)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>  è¿™é‡Œæä¾›äº†ä¸‰ä¸ªæ„é€ å™¨ã€‚</p>
<p>  ç¬¬ä¸€ä¸ª<code>init()</code>ï¼Œå’Œä»€ä¹ˆå‚æ•°éƒ½æ²¡æœ‰çš„é»˜è®¤æ„é€ å™¨ä¸€æ ·ã€‚ä¼šè‡ªåŠ¨èµ‹é»˜è®¤å€¼ã€‚</p>
<p>  ç¬¬äºŒä¸ª<code>init(origin:size:)</code>ï¼Œå’Œmemberwiseçš„æ„é€ å™¨ä¸€æ ·</p>
<p>  ç¬¬ä¸‰ä¸ª<code>init(center:size:)</code>ï¼Œæ³¨æ„å’Œå› ä¸ºlabelä¸ä¸€æ ·ï¼Œä¸Šé¢çš„æ„é€ å™¨æ˜¯ä¸ä¸€æ ·çš„ã€‚åœ¨è¿™ä¸ªæ„é€ å™¨é‡Œä½¿ç”¨<code>self.init</code>è°ƒç”¨äº†ä¸Šä¸€ä¸ªæ„é€ å‡½æ•°ã€‚</p>
</li>
</ul>
<ul>
<li><p>ç±»çš„ç»§æ‰¿å’Œåˆå§‹åŒ–</p>
<p>  swiftå®šä¹‰äº†ä¸¤ç§åˆå§‹åŒ–å™¨ï¼Œä¿è¯äº†æ‰€æœ‰çš„å­˜å‚¨å±æ€§éƒ½æœ‰åˆå§‹åŒ–å€¼ã€‚<code>designated initializers</code>å’Œ<code>convenience intializers</code>æŒ‡å®šæ„é€ å™¨å’Œä¾¿åˆ©æ„é€ å™¨ã€‚</p>
<p>  <em>æŒ‡å®šæ„é€ å™¨</em>æ˜¯ç±»ä¸­æœ€ä¸»è¦çš„æ„é€ å™¨ã€‚ä¸€ä¸ªæŒ‡å®šæ„é€ å™¨å°†åˆå§‹åŒ–ç±»ä¸­æä¾›çš„æ‰€æœ‰å±æ€§ï¼Œå¹¶è°ƒç”¨åˆé€‚çš„çˆ¶ç±»æ„é€ å™¨==è®©æ„é€ è¿‡ç¨‹æ²¿ç€çˆ¶ç±»é“¾ç»§ç»­å¾€ä¸Šè¿›è¡Œã€‚==</p>
<p>  æ¯ä¸€ä¸ªç±»éƒ½å¿…é¡»è‡³å°‘æ‹¥æœ‰ä¸€ä¸ªæŒ‡å®šæ„é€ å™¨ã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œè®¸å¤šç±»é€šè¿‡ç»§æ‰¿äº†çˆ¶ç±»ä¸­çš„æŒ‡å®šæ„é€ å™¨è€Œæ»¡è¶³äº†è¿™ä¸ªæ¡ä»¶ã€‚</p>
</li>
<li><p>æŒ‡å®šæ„é€ å™¨è¯­æ³•å’Œä¾¿åˆ©æ„é€ å™¨è¯­æ³•</p>
<p>  Designated initializer</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">init</span>(parameters) &#123;</span><br><span class="line">    statements</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>  ä¾¿åˆ©æ„é€ å™¨è¦åŠ ä¸Š<code>convenience</code>å…³é”®å­—</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">convenience</span> <span class="keyword">init</span>(parameters) &#123;</span><br><span class="line">    statements</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç±»ç±»å‹çš„æ„é€ å™¨ä»£ç†</p>
<p>  ==ä¸‰æ¡è§„åˆ™ã€‚==</p>
<p>  æŒ‡å®šæ„é€ å™¨å¿…é¡»è°ƒç”¨å…¶ç›´æ¥çˆ¶ç±»çš„çš„æŒ‡å®šæ„é€ å™¨ã€‚</p>
<p>  ä¾¿åˆ©æ„é€ å™¨å¿…é¡»è°ƒç”¨<em>åŒ</em>ç±»ä¸­å®šä¹‰çš„å…¶å®ƒæ„é€ å™¨ã€‚</p>
<p>  ä¾¿åˆ©æ„é€ å™¨æœ€åå¿…é¡»è°ƒç”¨æŒ‡å®šæ„é€ å™¨ã€‚</p>
<blockquote>
<p>æŒ‡å®šæ„é€ å™¨å¿…é¡»æ€»æ˜¯<em>å‘ä¸Š</em>ä»£ç†</p>
<p>ä¾¿åˆ©æ„é€ å™¨å¿…é¡»æ€»æ˜¯<em>æ¨ªå‘</em>ä»£ç†</p>
</blockquote>
<p>  å¦‚å›¾</p>
<p>  ![æˆªå±2023-03-10 15.33.27](swift-programming-languageç¬”è®°.assets/æˆªå±2023-03-10 15.33.27.png)</p>
</li>
<li><p>ä¸¤æ®µå¼åˆå§‹åŒ–</p>
<p>  ç¬¬ä¸€é˜¶æ®µï¼Œæ¯ä¸€ä¸ªå­˜å‚¨å±æ€§å¿…é¡»è¢«èµ‹äºˆåˆå€¼ï¼Œé€šè¿‡å¼•å…¥ä»–çš„ç±»ã€‚åœ¨æ‰€æœ‰å­˜å‚¨å±æ€§æœ‰åˆå€¼ä¹‹åï¼Œè¿›å…¥ç¬¬äºŒé˜¶æ®µï¼Œå®ƒç»™æ¯ä¸ªç±»ä¸€æ¬¡æœºä¼šï¼Œåœ¨æ–°å®ä¾‹å‡†å¤‡ä½¿ç”¨ä¹‹å‰è¿›ä¸€æ­¥è‡ªå®šä¹‰å®ƒä»¬çš„å­˜å‚¨å‹å±æ€§ã€‚</p>
<p>  å››æ¡è§„åˆ™æ€»ç»“ï¼Œ1 2æ¡å¯¹äºæŒ‡å®šæ„é€ å™¨ï¼Œå¿…é¡»å…ˆæŠŠæœ¬å±‚ç±»å¼•å…¥çš„å­˜å‚¨å±æ€§åˆå§‹åŒ–ï¼Œç„¶åè¿™æ—¶å€™å¿…é¡»äº¤ç»™çˆ¶ç±»çš„æ„é€ å™¨ï¼Œç„¶åæ‰èƒ½ä¿®æ”¹ç»§æ‰¿æ¥çš„å±æ€§ã€‚3 æ¡ ä¾¿åˆ©æ„é€ å™¨ï¼Œå¿…é¡»å…ˆè°ƒç”¨åŒçº§çš„å…¶ä»–æ„é€ å™¨ï¼Œç„¶åæ‰èƒ½ä¿®æ”¹å±æ€§å€¼ã€‚ 4 æ¡ åœ¨ç¬¬ä¸€é˜¶æ®µå®Œæˆä¹‹å‰ï¼Œä¸€ä¸ªæ„é€ å™¨ä¸èƒ½è®¿é—®selfçš„å€¼ï¼Œæˆ–è€…instanceæ–¹æ³•ã€‚</p>
</li>
<li><p>æ„é€ çš„ä¸¤ä¸ªé˜¶æ®µ</p>
<p>  è‡ªåº•å‘ä¸Šè°ƒç”¨çˆ¶ç±»çš„æ„é€ å™¨</p>
<blockquote>
<p>ç±»çš„æŸä¸ªæŒ‡å®šæ„é€ å™¨æˆ–ä¾¿åˆ©æ„é€ å™¨è¢«è°ƒç”¨ã€‚</p>
<p>å®Œæˆç±»çš„æ–°å®ä¾‹å†…å­˜çš„åˆ†é…ï¼Œä½†æ­¤æ—¶å†…å­˜è¿˜æ²¡æœ‰è¢«åˆå§‹åŒ–ã€‚</p>
<p>æŒ‡å®šæ„é€ å™¨ç¡®ä¿å…¶æ‰€åœ¨ç±»å¼•å…¥çš„æ‰€æœ‰å­˜å‚¨å‹å±æ€§éƒ½å·²èµ‹åˆå€¼ã€‚å­˜å‚¨å‹å±æ€§æ‰€å±çš„å†…å­˜å®Œæˆåˆå§‹åŒ–ã€‚</p>
<p>æŒ‡å®šæ„é€ å™¨åˆ‡æ¢åˆ°çˆ¶ç±»çš„æ„é€ å™¨ï¼Œå¯¹å…¶å­˜å‚¨å±æ€§å®Œæˆç›¸åŒçš„ä»»åŠ¡ã€‚</p>
<p>è¿™ä¸ªè¿‡ç¨‹æ²¿ç€ç±»çš„ç»§æ‰¿é“¾ä¸€ç›´å¾€ä¸Šæ‰§è¡Œï¼Œç›´åˆ°åˆ°è¾¾ç»§æ‰¿é“¾çš„æœ€é¡¶éƒ¨ã€‚</p>
<p>å½“åˆ°è¾¾äº†ç»§æ‰¿é“¾æœ€é¡¶éƒ¨ï¼Œè€Œä¸”ç»§æ‰¿é“¾çš„æœ€åä¸€ä¸ªç±»å·²ç¡®ä¿æ‰€æœ‰çš„å­˜å‚¨å‹å±æ€§éƒ½å·²ç»èµ‹å€¼ï¼Œè¿™ä¸ªå®ä¾‹çš„å†…å­˜è¢«è®¤ä¸ºå·²ç»å®Œå…¨åˆå§‹åŒ–ã€‚æ­¤æ—¶é˜¶æ®µ 1 å®Œæˆã€‚</p>
</blockquote>
<p>  ç¬¬äºŒé˜¶æ®µï¼Œ</p>
<blockquote>
<ul>
<li>Working back down from the top of the chain, each designated initializer in the chain has the option to customize the instance further. Initializers are now able to access <code>self</code> and can modify its properties, call its instance methods, and so on.</li>
<li>Finally, any convenience initializers in the chain have the option to customize the instance and to work with <code>self</code>.</li>
</ul>
</blockquote>
<p>  è‡ªå®šå‘ä¸‹æ‰€æœ‰çš„å­˜å‚¨å±æ€§å·²ç»å…¨éƒ¨æœ‰å€¼äº†ã€‚ç°åœ¨æŒ‡å®šæ„é€ å™¨èƒ½å¤Ÿè‡ªå·±ä¿®æ”¹å®ä¾‹äº†ï¼Œæ„é€ å™¨ä¹Ÿèƒ½è®¿é—®åˆ°selfå¹¶ä¸”ä¿®æ”¹ä»–äº†ã€‚ä¾¿åˆ©æ„é€ å™¨ä¹Ÿå¯ä»¥è‡ªå®šä¹‰å®ä¾‹äº†ã€‚</p>
</li>
</ul>
<ul>
<li><p>Swift ä¸­çš„å­ç±»é»˜è®¤æƒ…å†µä¸‹ä¸ä¼šç»§æ‰¿çˆ¶ç±»çš„æ„é€ å™¨ã€‚</p>
<blockquote>
<p>çˆ¶ç±»çš„æ„é€ å™¨ä»…ä¼šåœ¨å®‰å…¨å’Œé€‚å½“çš„æŸäº›æƒ…å†µä¸‹è¢«ç»§æ‰¿ã€‚</p>
</blockquote>
<p>  å½“ä½ å†™ä¸€ä¸ªå­ç±»æ„é€ å™¨åŒ¹é…çˆ¶ç±»çš„<strong>æŒ‡å®š</strong>æ„é€ å™¨ï¼Œä½ å°±æ˜¯åœ¨overrideã€‚</p>
<p>  å½“ä½ é‡å†™ä¸€ä¸ªçˆ¶ç±»çš„æŒ‡å®šæ„é€ å™¨æ—¶ï¼Œä½ æ€»æ˜¯éœ€è¦å†™ <code>override</code> ä¿®é¥°ç¬¦ã€‚</p>
<p>  å½“ä½ å†™äº†ä¸€ä¸ªå­ç±»åŒ¹é…çˆ¶ç±»çš„<strong>ä¾¿åˆ©</strong>æ„é€ å™¨ï¼Œç”±äºå­ç±»ä¸èƒ½ç›´æ¥è°ƒç”¨çˆ¶ç±»çš„ä¾¿åˆ©æ„é€ å™¨ï¼Œå› æ­¤è¿™ä¸æ˜¯é‡å†™ï¼Œä¸ç”¨å†™overrideã€‚</p>
<p>  ä¾‹å­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªè¡Œé©¶å·¥å…·ç±»</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Vehicle</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> numberOfWheels <span class="operator">=</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">var</span> description: <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;<span class="subst">\(numberOfWheels)</span> wheel(s)&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>  å­ç±»è‡ªè¡Œè½¦ç»§æ‰¿å¹¶é‡å†™äº†é»˜è®¤çš„æ„é€ å‡½æ•°</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Bicycle</span>: <span class="title class_">Vehicle</span> &#123;</span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">init</span>() &#123;</span><br><span class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>()</span><br><span class="line">        numberOfWheels <span class="operator">=</span> <span class="number">2</span>  <span class="comment">// ç¬¬äºŒé˜¶æ®µ</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>  ==å¦‚æœå­ç±»åœ¨ç¬¬äºŒé˜¶æ®µï¼Œä¸è‡ªå®šä¹‰æ“ä½œï¼Œå¯ä»¥çœç•¥<code>super.init()</code>==ï¼Œå¦‚ä¸‹</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Hoverboard</span>: <span class="title class_">Vehicle</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> color: <span class="type">String</span></span><br><span class="line">    <span class="keyword">init</span>(<span class="params">color</span>: <span class="type">String</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.color <span class="operator">=</span> color</span><br><span class="line">        <span class="comment">// éšå¼è°ƒç”¨</span></span><br><span class="line">        <span class="comment">// super.init() implicitly called here</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">var</span> description: <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;<span class="subst">\(<span class="keyword">super</span>.description)</span> in a beautiful <span class="subst">\(color)</span>&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



</li>
</ul>
<ul>
<li><p>æ„é€ å™¨çš„è‡ªåŠ¨ç»§æ‰¿</p>
<p>  é»˜è®¤æƒ…å†µä¸‹ï¼Œå­ç±»ä¸ä¼šç»§æ‰¿çˆ¶ç±»çš„æ„é€ å™¨ã€‚ä½†æ˜¯ï¼Œæœ‰ä¸¤ä¸ªè§„åˆ™ä¼šé€‚ç”¨ã€‚</p>
<p>  è§„åˆ™1ï¼šå¦‚æœå­ç±»æ²¡æœ‰å®šä¹‰ä»»ä½•æŒ‡å®šæ„é€ å™¨ï¼Œå®ƒå°†è‡ªåŠ¨ç»§æ‰¿çˆ¶ç±»æ‰€æœ‰çš„æŒ‡å®šæ„é€ å™¨ã€‚</p>
<p>  è§„åˆ™2ï¼šIf your subclass provides an implementation of all of its superclass designated initializers â€” either by inheriting them as per rule 1, or by providing a custom implementation as part of its definition â€” then it automatically inherits all of the superclass convenience initializers.å¦‚æœå­ç±»æä¾›äº†<strong>æ‰€æœ‰</strong>è¶…ç±»çš„æŒ‡å®šæ„é€ å™¨çš„å®ç°ï¼ˆä¸ç®¡æ˜¯ä¸æ˜¯é€šè¿‡è§„åˆ™1ç»§æ‰¿æ¥çš„ï¼‰ï¼Œé‚£ä¹ˆä»–å°†è‡ªåŠ¨çš„å®ç°è¶…ç±»æ‰€æœ‰çš„ä¾¿åˆ©æ„é€ å™¨</p>
</li>
</ul>
<ul>
<li><p>Failable initializers</p>
<p>  å°±æ˜¯æœ‰æ—¶å€™ä¼ å…¥æ— æ•ˆçš„å‚æ•°ï¼ˆå¦‚ç±»å‹è½¬åŒ–ï¼‰ï¼Œæˆ–è€…ç¼ºå°‘æŸç§å¤–éƒ¨èµ„æºï¼Œæ„é€ å™¨ä¼šå¤±è´¥ã€‚ä»¥return nilæ¥è¡¨ç¤ºæ„é€ å™¨å¤±è´¥ã€‚</p>
<p>  è¿™ä¸ªä¾‹å­ç±»å‹è½¬åŒ–å°±å¤±è´¥äº†ï¼Œè¿”å›äº†nilã€‚</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> wholeNumber: <span class="type">Double</span> <span class="operator">=</span> <span class="number">12345.0</span></span><br><span class="line"><span class="keyword">let</span> pi <span class="operator">=</span> <span class="number">3.14159</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> valueMaintained <span class="operator">=</span> <span class="type">Int</span>(exactly: wholeNumber) &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;<span class="subst">\(wholeNumber)</span> conversion to Int maintains value of <span class="subst">\(valueMaintained)</span>&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Prints &quot;12345.0 conversion to Int maintains value of 12345&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> valueChanged <span class="operator">=</span> <span class="type">Int</span>(exactly: pi)</span><br><span class="line"><span class="comment">// valueChanged is of type Int?, not Int</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> valueChanged <span class="operator">==</span> <span class="literal">nil</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;<span class="subst">\(pi)</span> conversion to Int doesn&#x27;t maintain value&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Prints &quot;3.14159 conversion to Int doesn&#x27;t maintain value&quot;</span></span><br></pre></td></tr></table></figure>

<p>  ç”¨<code>init?</code>è¡¨ç¤ºè¡¨ç¤ºæ„é€ å™¨å¯èƒ½ä¼šå¤±è´¥ï¼Œå¦‚ä¸‹ï¼Œå½“ä¼ å…¥çš„å­—ç¬¦ä¸²ä¸ºç©ºæ—¶ï¼Œä¼šè§¦å‘æ„é€ å™¨å¤±è´¥ã€‚</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> species: <span class="type">String</span></span><br><span class="line">    <span class="keyword">init?</span>(<span class="params">species</span>: <span class="type">String</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> species.isEmpty &#123; <span class="keyword">return</span> <span class="literal">nil</span> &#125;</span><br><span class="line">        <span class="keyword">self</span>.species <span class="operator">=</span> species</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<ul>
<li><p>required initializers</p>
<p>  åœ¨ç±»ä¸­ç”¨requiredå…³é”®å­—ä¿®é¥°åˆå§‹åŒ–å™¨ï¼Œè¦æ±‚è¯¥ç±»çš„æ‰€æœ‰å­ç±»éƒ½è¦å®ç°è¿™ä¸ªæ„é€ å™¨</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">SomeClass</span> &#123;</span><br><span class="line">    <span class="keyword">required</span> <span class="keyword">init</span>() &#123;</span><br><span class="line">        <span class="comment">// æ„é€ å™¨çš„å®ç°ä»£ç </span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>  åœ¨å­ç±»é‡å†™çˆ¶ç±»çš„å¿…è¦æ„é€ å™¨æ—¶ï¼Œå¿…é¡»åœ¨å­ç±»çš„æ„é€ å™¨å‰ä¹Ÿæ·»åŠ  <code>required</code> ä¿®é¥°ç¬¦ï¼Œè¡¨æ˜è¯¥æ„é€ å™¨è¦æ±‚ä¹Ÿåº”ç”¨äºç»§æ‰¿é“¾åé¢çš„å­ç±»ã€‚åœ¨é‡å†™çˆ¶ç±»ä¸­å¿…è¦çš„æŒ‡å®šæ„é€ å™¨æ—¶ï¼Œä¸éœ€è¦æ·»åŠ  <code>override</code> ä¿®é¥°ç¬¦ï¼š</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">SomeSubclass</span>: <span class="title class_">SomeClass</span> &#123;</span><br><span class="line">    <span class="keyword">required</span> <span class="keyword">init</span>() &#123;</span><br><span class="line">        <span class="comment">// æ„é€ å™¨çš„å®ç°ä»£ç </span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<ul>
<li><p>é€šè¿‡é—­åŒ…æˆ–è€…å‡½æ•°è®¾ç½®å±æ€§çš„<strong>é»˜è®¤å€¼</strong></p>
<p>  è¿™ä¸€ç« <strong>å¾ˆæ–°</strong></p>
<p>  ==è¿™æ ·å¯ä»¥é¿å…äº†ï¼Œæˆ‘ä»¬ä½¿ç”¨property initilizeræ—¶æ— æ³•è°ƒç”¨ä¸€ä¸ªå†…å®¹ä¸selfæ— å…³çš„methodï¼Œç›´æ¥å†™ä¸€ä¸ªé—­åŒ…ï¼ŒåŒæ—¶ä¹Ÿé¿å…äº†å†™æˆå…¨å±€å¤ªéš¾çœ‹==</p>
<p>  æˆ‘ä»¬å¯ä»¥ä½¿ç”¨é—­åŒ…æˆ–è€…<strong>å…¨å±€</strong>å‡½æ•°ä¸º==å­˜å‚¨==å±æ€§æä¾›é»˜è®¤å€¼ã€‚ï¼ˆè¿™å’Œè®¡ç®—å±æ€§æ˜¯æœ‰å¾ˆå¤§ä¸åŒçš„ï¼‰ã€‚é€šè¿‡é—­åŒ…æˆ–è€…å‡½æ•°çš„è¿”å›å€¼ï¼Œæ¥ä½œä¸ºå±æ€§çš„é»˜è®¤å€¼ã€‚</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">SomeClass</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> someProperty: <span class="type">SomeType</span> <span class="operator">=</span> &#123;</span><br><span class="line">        <span class="comment">// åœ¨è¿™ä¸ªé—­åŒ…ä¸­ç»™ someProperty åˆ›å»ºä¸€ä¸ªé»˜è®¤å€¼</span></span><br><span class="line">        <span class="comment">// someValue å¿…é¡»å’Œ SomeType ç±»å‹ç›¸åŒ</span></span><br><span class="line">        <span class="keyword">return</span> someValue</span><br><span class="line">    &#125;()  <span class="comment">// è¿™ä¸ªèŠ±æ‹¬å·å¾ˆé‡è¦</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>  ==æ³¨æ„é—­åŒ…ç»“å°¾çš„èŠ±æ‹¬å·åé¢æ¥äº†ä¸€å¯¹ç©ºçš„å°æ‹¬å·ã€‚è¿™ç”¨æ¥å‘Šè¯‰ Swift ç«‹å³æ‰§è¡Œæ­¤é—­åŒ…ã€‚å¦‚æœä½ å¿½ç•¥äº†è¿™å¯¹æ‹¬å·ï¼Œç›¸å½“äºå°†é—­åŒ…æœ¬èº«ä½œä¸ºå€¼èµ‹å€¼ç»™äº†å±æ€§ï¼Œè€Œä¸æ˜¯å°†é—­åŒ…çš„è¿”å›å€¼èµ‹å€¼ç»™å±æ€§ã€‚==</p>
<blockquote>
<p>å¦‚æœä½ ä½¿ç”¨é—­åŒ…æ¥åˆå§‹åŒ–å±æ€§ï¼Œè¯·è®°ä½åœ¨é—­åŒ…æ‰§è¡Œæ—¶ï¼Œå®ä¾‹çš„å…¶å®ƒéƒ¨åˆ†éƒ½è¿˜æ²¡æœ‰åˆå§‹åŒ–ã€‚è¿™æ„å‘³ç€ä½ ä¸èƒ½åœ¨é—­åŒ…é‡Œè®¿é—®å…¶å®ƒå±æ€§ï¼Œå³ä½¿è¿™äº›å±æ€§æœ‰é»˜è®¤å€¼ã€‚åŒæ ·ï¼Œä½ ä¹Ÿä¸èƒ½ä½¿ç”¨éšå¼çš„ <code>self</code> å±æ€§ï¼Œæˆ–è€…è°ƒç”¨ä»»ä½•å®ä¾‹æ–¹æ³•ã€‚</p>
</blockquote>
</li>
</ul>
<ul>
<li><p>åªè¯»è®¡ç®—å±æ€§computated propertues å’Œ é€šè¿‡é—­åŒ…è®¾ç½®å­˜å‚¨å±æ€§çš„é»˜è®¤å€¼çš„åŒºåˆ«</p>
<p>  å…ˆæ€»ç»“ä¸€ä¸‹åŒºåˆ«ï¼š</p>
<ol>
<li><p>è®¡ç®—å±æ€§ä¸éœ€è¦åˆå§‹åŒ–ï¼Œé—­åŒ…èµ‹å€¼é’ˆå¯¹æ˜¯é»˜è®¤åˆå§‹åŒ–çš„èµ‹å€¼</p>
</li>
<li><p>è®¡ç®—å±æ€§çš„èŠ±æ‹¬å·é‡Œå¯ä»¥è®¿é—®selfå³å…¶ç›¸å…³å±æ€§æˆ–æ–¹æ³•ï¼Œé—­åŒ…èµ‹å€¼çš„èŠ±æ‹¬å·é‡Œæ˜¯ä¸èƒ½è®¿é—®selfçš„ã€‚ï¼ˆæˆ‘çš„ç†è§£ï¼Œproperty initializeré‡Œé¢éƒ½ä¸èƒ½è®¿é—®selfï¼‰</p>
</li>
<li><p>è®¡ç®—å±æ€§åé¢æ²¡æœ‰<code>=</code>ï¼Œä¹Ÿæœ‰æœ«å°¾çš„<code>()</code></p>
<p>ç›¸åŒç‚¹ï¼ŒèŠ±æ‹¬å·é‡Œéƒ½èƒ½å®šä¹‰å±€éƒ¨å˜é‡ç­‰ã€‚</p>
</li>
</ol>
</li>
</ul>
<h2 id="deinitialization"><a href="#deinitialization" class="headerlink" title="deinitialization"></a>deinitialization</h2><p>ææ„å‡½æ•°ï¼Œåªéœ€ç”¨äºç±»ç±»å‹</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">deinit</span> &#123;</span><br><span class="line">    <span class="comment">// perform the deinitialization</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ¯ä¸ªç±»<strong>æœ€å¤šåªæœ‰ä¸€ä¸ª</strong>ææ„å‡½æ•°ã€‚Deinitializers are called automatically, just before instance deallocation takes place.åœ¨å®ä¾‹è¢«é‡Šæ”¾å‰ï¼Œå°†ä¼šè¢«è‡ªåŠ¨è°ƒç”¨ã€‚</p>
<p>Superclass deinitializers are inherited by their subclasses, and the superclass deinitializer is called automatically at the end of a subclass deinitializer implementation. Superclass deinitializers are always called, even if a subclass doesnâ€™t provide its own deinitializer.</p>
<p>è¶…ç±»çš„ææ„å‡½æ•°ä¼šè¢«å­ç±»ç»§æ‰¿ï¼Œè¶…ç±»çš„ææ„å‡½æ•°ä¼šåœ¨å­ç±»ææ„å‡½æ•°å®ç°çš„æœ€åè¢«è‡ªåŠ¨è°ƒç”¨ã€‚è¶…ç±»çš„ææ„å‡½æ•°æ€»æ˜¯ä¼šè¢«è°ƒç”¨ï¼Œå³ä½¿ä¸€ä¸ªå­ç±»æ²¡æœ‰æä¾›è‡ªå·±çš„ææ„å‡½æ•°ã€‚</p>
<h2 id="Optional-Chaining"><a href="#Optional-Chaining" class="headerlink" title="Optional Chaining"></a>Optional Chaining</h2><p>å…ˆç®€å•è¯´ä¸€ç‚¹ã€‚ä¸€ä¸ªoptional ç±»å‹å˜é‡æƒ³è¦é€šè¿‡dotä¹Ÿå°±æ˜¯ç‚¹<code>.</code>æ¥è®¿é—®æ–¹æ³•ï¼Œå±æ€§æˆ–è€…è®¿é—®ä¸‹æ ‡ æˆ–è€… é€šè¿‡ä¸‹æ ‡æ¥è®¿é—®ã€‚ä½†æ˜¯ï¼Œåˆä¸æƒ³é€šè¿‡å¼ºåˆ¶è§£åŒ…æˆ–è€…optional bindingæ¥å…ˆåˆ¤æ–­è¿™ä¸ªoptional ç±»å‹æ˜¯å¦æ˜¯<code>nil</code>ï¼Œå°±æ˜¯ä¸ç®¡ï¼Œç›´æ¥å¾€ä¸‹ç»§ç»­è®¿é—®ã€‚</p>
<blockquote>
<p>ä¹Ÿå°±æ˜¯è¯´optionalç±»å‹å˜é‡ï¼Œåé¢åŠ ä¸ªé—®å·ï¼Œå°±èƒ½å½“åšæ­£å¸¸å˜é‡ä¸€æ ·ï¼Œç»§ç»­å¾€åå†™ä¸œè¥¿ã€‚å¦‚ï¼Œ<code>a?.xxx</code>ï¼Œ<code>a?[0]</code></p>
</blockquote>
<p>çœ‹ä¸¤ä¸ªç®€å•ä¾‹å­èµ·ï¼Œå˜é‡<code>c</code>æ˜¯<code>String</code>ç±»å‹ï¼Œå®ƒè°ƒç”¨å‡½æ•°<code>hasPrefix()</code>è¿”å›çš„æ˜¯boolå€¼ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå˜é‡<code>d</code>çš„ç±»å‹æ˜¯<code>Bool</code>ç±»å‹ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> c <span class="operator">=</span> <span class="string">&quot;abcd&quot;</span></span><br><span class="line"><span class="keyword">let</span> d <span class="operator">=</span> c.hasPrefix(<span class="string">&quot;e&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(d)</span><br></pre></td></tr></table></figure>

<p>ç°åœ¨æˆ‘ä»¬å°†å˜é‡<code>c</code>å˜ä¸º<code>String?</code>ç±»å‹ï¼ŒæŒ‰ç†è¯´ï¼Œä»–è¦æ˜¯æƒ³è¦è°ƒç”¨å‡½æ•°ï¼Œåªèƒ½å¼ºåˆ¶è§£åŒ…åï¼Œæ‰èƒ½è°ƒç”¨ã€‚ä½†æ˜¯è¿™æ ·å¦‚æœ<code>c</code>æ˜¯nilçš„è¯ï¼Œå°±ä¼šå¼•å‘è¿è¡Œæ—¶é”™è¯¯ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> c: <span class="type">String</span>? <span class="operator">=</span> <span class="string">&quot;abcd&quot;</span></span><br><span class="line">c<span class="operator">!</span>.hasPrefix(<span class="string">&quot;e&quot;</span>)  <span class="comment">// å¼ºåˆ¶è§£åŒ…</span></span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡optinal chainingï¼Œä¸è§£åŒ…å°±è°ƒç”¨å‡½æ•°ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> c: <span class="type">String</span>? <span class="operator">=</span> <span class="string">&quot;abcd&quot;</span></span><br><span class="line"><span class="keyword">let</span> d <span class="operator">=</span> c<span class="operator">?</span>.hasPrefix(<span class="string">&quot;a&quot;</span>)  <span class="comment">// æ³¨æ„è¿™é‡Œçš„è¿”å›ç±»å‹ï¼Œä¸ºBool?</span></span><br><span class="line"><span class="built_in">print</span>(d)  <span class="comment">// Optional(true)</span></span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯ç”±äº<code>c</code>æœ‰å¯èƒ½æ˜¯nilï¼Œæ‰€ä»¥æœ€åè¿”å›çš„ç±»å‹ï¼Œæ˜¯æˆ‘ä»¬æœŸæœ›æ­£å¸¸è¿”å›ç±»å‹çš„optionalç±»å‹ã€‚åœ¨è¿™é‡Œæ˜¯<code>Bool?</code>ã€‚å¦‚æœ<code>c</code>ä¸æ˜¯nilï¼Œé‚£ä¹ˆ<code>d</code>è¿™ä¸ª<code>Bool?</code>ç±»å‹å°±æœ‰å€¼ã€‚</p>
<p>å¦‚æœ<code>c</code>æ˜¯nilï¼Œé‚£ä¹ˆ<code>d</code>è¿™ä¸ª<code>Bool?</code>ç±»å‹å°±æ˜¯<code>nil</code>ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> c: <span class="type">String</span>?</span><br><span class="line"><span class="keyword">let</span> d <span class="operator">=</span> c<span class="operator">?</span>.hasPrefix(<span class="string">&quot;a&quot;</span>)  <span class="comment">// æ³¨æ„è¿™é‡Œçš„è¿”å›ç±»å‹ï¼Œä¸ºBool?</span></span><br><span class="line"><span class="built_in">print</span>(d)  <span class="comment">// nil</span></span><br></pre></td></tr></table></figure>



<p>ä¾‹å­2ï¼Œå­—å…¸çš„ä¸‹æ ‡è®¿é—®</p>
<p>å­—å…¸å–å€¼è¿”å›çš„æ˜¯optionalç±»å‹ï¼Œå¦‚æœkeyé‡Œæ”¾çš„æ˜¯æ•°ç»„ï¼Œæƒ³è¦è¿›ä¸€æ­¥é€šè¿‡ä¸‹æ ‡è®¿é—®æ•°ç»„å…ƒç´ ã€‚åŒæ ·çš„åšæ³•ï¼Œoptional chaining</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> testScores <span class="operator">=</span> [<span class="string">&quot;Dave&quot;</span>: [<span class="number">86</span>, <span class="number">82</span>, <span class="number">84</span>], <span class="string">&quot;Bev&quot;</span>: [<span class="number">79</span>, <span class="number">94</span>, <span class="number">81</span>]]</span><br><span class="line">testScores[<span class="string">&quot;Dave&quot;</span>]<span class="operator">?</span>[<span class="number">0</span>] <span class="operator">=</span> <span class="number">91</span></span><br><span class="line">testScores[<span class="string">&quot;Bev&quot;</span>]<span class="operator">?</span>[<span class="number">0</span>] <span class="operator">+=</span> <span class="number">1</span></span><br><span class="line">testScores[<span class="string">&quot;Brian&quot;</span>]<span class="operator">?</span>[<span class="number">0</span>] <span class="operator">=</span> <span class="number">72</span></span><br><span class="line"><span class="comment">// &quot;Dave&quot; æ•°ç»„ç°åœ¨æ˜¯ [91, 82, 84]ï¼Œ&quot;Bev&quot; æ•°ç»„ç°åœ¨æ˜¯ [80, 94, 81]</span></span><br></pre></td></tr></table></figure>

<p>å‰ä¸¤ä¸ªè°ƒç”¨æˆåŠŸã€‚==ç¬¬äºŒä¸ªè°ƒç”¨æœ‰ç‚¹å¥‡æ€ªï¼Ÿï¼Ÿ==æˆ‘çš„ç†è§£æ˜¯ï¼Œoptinalç±»å‹å¯ä»¥è¢«èµ‹å€¼ï¼Œä½†æ˜¯èƒ½ç›´æ¥è¿™ä¹ˆåŠ 1å—ï¼Ÿæ™®é€šå˜é‡è¿™ä¹ˆåŠ è‚¯å®šæ˜¯é”™çš„</p>
<ul>
<li><p>ä¾‹å­ä¸¾å®Œäº†ã€‚æˆ‘ä»¬å…ˆè¯´æœ€åçš„æ€»ç»“å§</p>
<p>  optional chainingæ˜¯å¯ä»¥è¿æ¥å¾ˆå¤šå¾ˆå¤šå±‚çš„ï¼Œä½†æ˜¯æœ€åçš„è¿”å›ç±»å‹åªå’Œæœ€åä¸€ä¸ªè°ƒç”¨çš„è¿”å›ç±»å‹ç›¸å…³ï¼Œå¹¶å˜æˆoptionalç±»å‹ã€‚</p>
<blockquote>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼š</p>
<ul>
<li>å¦‚æœä½ è®¿é—®çš„å€¼ä¸æ˜¯å¯é€‰çš„ï¼Œå¯é€‰é“¾å¼è°ƒç”¨å°†ä¼šè¿”å›å¯é€‰å€¼ã€‚</li>
<li>å¦‚æœä½ è®¿é—®çš„å€¼å°±æ˜¯å¯é€‰çš„ï¼Œå¯é€‰é“¾å¼è°ƒç”¨ä¸ä¼šè®©å¯é€‰è¿”å›å€¼å˜å¾—â€œæ›´å¯é€‰â€ã€‚</li>
</ul>
<p>å› æ­¤ï¼š</p>
<ul>
<li>é€šè¿‡å¯é€‰é“¾å¼è°ƒç”¨è®¿é—®ä¸€ä¸ª <code>Int</code> å€¼ï¼Œå°†ä¼šè¿”å› <code>Int?</code>ï¼Œæ— è®ºä½¿ç”¨äº†å¤šå°‘å±‚å¯é€‰é“¾å¼è°ƒç”¨ã€‚</li>
<li>ç±»ä¼¼çš„ï¼Œé€šè¿‡å¯é€‰é“¾å¼è°ƒç”¨è®¿é—® <code>Int?</code> å€¼ï¼Œä¾æ—§ä¼šè¿”å› <code>Int?</code> å€¼ï¼Œå¹¶ä¸ä¼šè¿”å› <code>Int??</code>ã€‚</li>
</ul>
</blockquote>
</li>
</ul>
<ul>
<li><blockquote>
<p>ä¸ºäº†åæ˜ å¯é€‰é“¾å¼è°ƒç”¨å¯ä»¥åœ¨ç©ºå€¼ï¼ˆ<code>nil</code>ï¼‰ä¸Šè°ƒç”¨çš„äº‹å®ï¼Œä¸è®ºè¿™ä¸ªè°ƒç”¨çš„å±æ€§ã€æ–¹æ³•åŠä¸‹æ ‡è¿”å›çš„å€¼æ˜¯ä¸æ˜¯å¯é€‰å€¼ï¼Œå®ƒçš„è¿”å›ç»“æœéƒ½æ˜¯ä¸€ä¸ªå¯é€‰å€¼ã€‚ä½ å¯ä»¥åˆ©ç”¨è¿™ä¸ªè¿”å›å€¼æ¥åˆ¤æ–­ä½ çš„å¯é€‰é“¾å¼è°ƒç”¨æ˜¯å¦è°ƒç”¨æˆåŠŸï¼Œå¦‚æœè°ƒç”¨æœ‰è¿”å›å€¼åˆ™è¯´æ˜è°ƒç”¨æˆåŠŸï¼Œè¿”å› <code>nil</code> åˆ™è¯´æ˜è°ƒç”¨å¤±è´¥ã€‚</p>
<p>è¿™é‡Œéœ€è¦ç‰¹åˆ«æŒ‡å‡ºï¼Œå¯é€‰é“¾å¼è°ƒç”¨çš„è¿”å›ç»“æœä¸åŸæœ¬çš„è¿”å›ç»“æœå…·æœ‰ç›¸åŒçš„ç±»å‹ï¼Œä½†æ˜¯è¢«åŒ…è£…æˆäº†ä¸€ä¸ªå¯é€‰å€¼ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨å¯é€‰é“¾å¼è°ƒç”¨è®¿é—®å±æ€§ï¼Œå½“å¯é€‰é“¾å¼è°ƒç”¨æˆåŠŸæ—¶ï¼Œå¦‚æœå±æ€§åŸæœ¬çš„è¿”å›ç»“æœæ˜¯ <code>Int</code> ç±»å‹ï¼Œåˆ™ä¼šå˜ä¸º <code>Int?</code> ç±»å‹ã€‚</p>
</blockquote>
</li>
</ul>
<ul>
<li><p>çœ‹ä¸€ä¸ªè®¿é—®å±æ€§çš„ç®€å•ä¾‹å­</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> residence: <span class="type">Residence</span>?</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Residence</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> numberOfRooms <span class="operator">=</span> <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> john <span class="operator">=</span> <span class="type">Person</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> roomCount <span class="operator">=</span> john.residence<span class="operator">!</span>.numberOfRooms</span><br><span class="line"><span class="comment">// è¿™ä¼šå¼•å‘è¿è¡Œæ—¶é”™è¯¯</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> roomCount <span class="operator">=</span> john.residence<span class="operator">?</span>.numberOfRooms &#123;  <span class="comment">// ä½¿ç”¨optional chaining</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;John&#x27;s residence has <span class="subst">\(roomCount)</span> room(s).&quot;</span>)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Unable to retrieve the number of rooms.&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ‰“å°â€œUnable to retrieve the number of rooms.â€</span></span><br></pre></td></tr></table></figure>



</li>
</ul>
<ul>
<li><p>é™¤äº†å¯ä»¥è®¿é—®å±æ€§ï¼Œè¿˜å¯ä»¥ä¸ºå±æ€§èµ‹å€¼ï¼Œå¦‚</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">john.residence<span class="operator">?</span>.address <span class="operator">=</span> someAddress</span><br></pre></td></tr></table></figure>

<p>  ä¸Šé¢ä»£ç ä¸­çš„èµ‹å€¼è¿‡ç¨‹æ˜¯å¯é€‰é“¾å¼è°ƒç”¨çš„ä¸€éƒ¨åˆ†ï¼Œè¿™æ„å‘³ç€å¯é€‰é“¾å¼è°ƒç”¨å¤±è´¥æ—¶ï¼Œ==ç­‰å·å³ä¾§çš„ä»£ç ä¸ä¼šè¢«æ‰§è¡Œã€‚==ä¸Šé¢ç­‰å·å³è¾¹æ˜¯å¸¸é‡ï¼Œçœ‹ä¸å‡ºæ¥ã€‚å‡å¦‚æ”¹æˆå‡½æ•°è°ƒç”¨ï¼Œå‡½æ•°å°†ä¸ä¼šè°ƒç”¨ï¼Œä½“ç°åœ¨æ²¡æœ‰æ‰§è¡Œä¸­é—´çš„æ‰“å°è¯­å¥ã€‚</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">createAddress</span>() -&gt; <span class="type">Address</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Function was called.&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> someAddress <span class="operator">=</span> <span class="type">Address</span>()</span><br><span class="line">    someAddress.buildingNumber <span class="operator">=</span> <span class="string">&quot;29&quot;</span></span><br><span class="line">    someAddress.street <span class="operator">=</span> <span class="string">&quot;Acacia Road&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> someAddress</span><br><span class="line">&#125;</span><br><span class="line">john.residence<span class="operator">?</span>.address <span class="operator">=</span> createAddress()</span><br></pre></td></tr></table></figure>

<p>  æ²¡æœ‰ä»»ä½•æ‰“å°æ¶ˆæ¯ï¼Œå¯ä»¥çœ‹å‡º <code>createAddress()</code> å‡½æ•°å¹¶æœªè¢«æ‰§è¡Œ</p>
</li>
</ul>
<ul>
<li><p>é™¤äº†è®¿é—®å±æ€§ï¼Œä¸ºå±æ€§èµ‹å€¼ã€‚è¿˜å¯ä»¥è°ƒç”¨method</p>
<p>  å‡å¦‚è°ƒç”¨çš„æ–¹æ³•æ˜¯æœ‰è¿”å›å€¼çš„ï¼Œä¼šè¿”å›å¯¹åº”çš„optionalç±»å‹ã€‚å¦‚æœæ²¡æœ‰è¿”å›å€¼ï¼Œå³è¿”å›<code>Void</code>ç±»å‹ï¼Œé‚£ä¹ˆä¹Ÿä¼šè¿”å›å¯¹åº”çš„<code>Void?</code>.å¯¹äºæ— è¿”å›å€¼ç±»å‹çš„ï¼Œå¯ä»¥åˆ¤æ–­æ˜¯å¦ç­‰äº<code>nil</code>ã€‚</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> john.residence<span class="operator">?</span>.printNumberOfRooms() <span class="operator">!=</span> <span class="literal">nil</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;It was possible to print the number of rooms.&quot;</span>)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;It was not possible to print the number of rooms.&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ‰“å°â€œIt was not possible to print the number of rooms.â€</span></span><br></pre></td></tr></table></figure>

<p>  é€šè¿‡å¯é€‰é“¾å¼è°ƒç”¨ç»™å±æ€§èµ‹å€¼ä¼šè¿”å› <code>Void?</code>ï¼Œé€šè¿‡åˆ¤æ–­è¿”å›å€¼æ˜¯å¦ä¸º <code>nil</code> å°±å¯ä»¥çŸ¥é“èµ‹å€¼æ˜¯å¦æˆåŠŸï¼š</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (john.residence<span class="operator">?</span>.address <span class="operator">=</span> someAddress) <span class="operator">!=</span> <span class="literal">nil</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;It was possible to set the address.&quot;</span>)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;It was not possible to set the address.&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ‰“å°â€œIt was not possible to set the address.â€</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="error-handling"><a href="#error-handling" class="headerlink" title="error handling"></a>error handling</h2><p>ä¸€èˆ¬ç”¨æšä¸¾ç±»å‹æ¥æ ‡è®°ä¸€ç»„é”™è¯¯</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">VendingMachineError</span>: <span class="title class_">Error</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> invalidSelection</span><br><span class="line">    <span class="keyword">case</span> insufficientFunds(coinsNeeded: <span class="type">Int</span>)</span><br><span class="line">    <span class="keyword">case</span> outOfStock</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å†ä»£ç é‡Œç”¨<code>throw</code>æŠ›å‡ºä¸€ç»„é”™è¯¯</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">throw</span> <span class="type">VendingMachineError</span>.insufficientFunds(coinsNeeded: <span class="number">5</span>)</span><br></pre></td></tr></table></figure>

<p>å¦‚ä¸‹å‡½æ•°å®šä¹‰äº†è·‘å‡ºä¸åŒçš„é”™è¯¯</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">vend</span>(<span class="params">itemNamed</span> <span class="params">name</span>: <span class="type">String</span>) <span class="keyword">throws</span> &#123;</span><br><span class="line">        <span class="keyword">guard</span> <span class="keyword">let</span> item <span class="operator">=</span> inventory[name] <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="type">VendingMachineError</span>.invalidSelection</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">guard</span> item.count <span class="operator">&gt;</span> <span class="number">0</span> <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="type">VendingMachineError</span>.outOfStock</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">guard</span> item.price <span class="operator">&lt;=</span> coinsDeposited <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="type">VendingMachineError</span>.insufficientFunds(coinsNeeded: item.price <span class="operator">-</span> coinsDeposited)</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<p>è°ƒç”¨è¿™ä¸ªå‡½æ•°æ—¶ï¼Œä¹Ÿè¦å†™æ˜tryï¼Œå› ä¸ºè¿™ä¸ªå‡½æ•°æœ‰å¯èƒ½ä¼šæŠ›å‡ºé”™è¯¯ã€‚åµŒå¥—æœ‰è¿™ä¸ªå‡½æ•°çš„å‡½æ•°ï¼Œä¹Ÿè¦å†™æ˜throw</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">buyFavoriteSnack</span>(<span class="params">person</span>: <span class="type">String</span>, <span class="params">vendingMachine</span>: <span class="type">VendingMachine</span>) <span class="keyword">throws</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> snackName <span class="operator">=</span> favoriteSnacks[person] <span class="operator">??</span> <span class="string">&quot;Candy Bar&quot;</span></span><br><span class="line">    <span class="keyword">try</span> vendingMachine.vend(itemNamed: snackName)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>å¯ä»¥ä½¿ç”¨do-catchæ¥æ•è·å¹¶å¤„ç†é”™è¯¯ã€‚å¦‚æœä¸€æ¡ <code>catch</code> å­å¥æ²¡æœ‰æŒ‡å®šåŒ¹é…æ¨¡å¼ï¼Œé‚£ä¹ˆè¿™æ¡å­å¥å¯ä»¥åŒ¹é…ä»»ä½•é”™è¯¯ï¼Œå¹¶ä¸”æŠŠé”™è¯¯ç»‘å®šåˆ°ä¸€ä¸ªåå­—ä¸º <code>error</code>çš„å±€éƒ¨å¸¸é‡ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">    <span class="keyword">try</span> expression</span><br><span class="line">    statements</span><br><span class="line">&#125; <span class="keyword">catch</span> pattern <span class="number">1</span> &#123;</span><br><span class="line">    statements</span><br><span class="line">&#125; <span class="keyword">catch</span> pattern <span class="number">2</span> <span class="keyword">where</span> condition &#123;</span><br><span class="line">    statements</span><br><span class="line">&#125; <span class="keyword">catch</span> pattern <span class="number">3</span>, pattern <span class="number">4</span> <span class="keyword">where</span> condition &#123;</span><br><span class="line">    statements</span><br><span class="line">&#125; <span class="keyword">catch</span> &#123;</span><br><span class="line">    statements</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Do-catchè¯­å¥å¹¶ä¸ä¸€å®šè¦å¤„ç†æ‰€æœ‰çš„é”™è¯¯ï¼Œå¦‚æœæ˜¯å®šä¹‰åœ¨æœ‰throwçš„å‡½æ•°é‡Œï¼Œå¯ä»¥ç»§ç»­æŠŠä¸èƒ½å¤„ç†çš„é”™è¯¯å‘å¤–ä¼ æ’­ã€‚</p>
<p>å°†é”™è¯¯è½¬åŒ–ä¸ºoptionalç±»å‹ï¼Œä¹Ÿå°±æ˜¯è½¬ä¸ºnilã€‚ä½¿ç”¨<code>try?</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">someThrowingFunction</span>() <span class="keyword">throws</span> -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> x <span class="operator">=</span> <span class="keyword">try?</span> someThrowingFunction()</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> y: <span class="type">Int</span>?</span><br><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">    y <span class="operator">=</span> <span class="keyword">try</span> someThrowingFunction()</span><br><span class="line">&#125; <span class="keyword">catch</span> &#123;</span><br><span class="line">    y <span class="operator">=</span> <span class="literal">nil</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>xå’Œyæ„ä¹‰ä¸€è‡´ã€‚ä½¿ç”¨<code>try?</code>è°ƒç”¨å¯èƒ½ä¼šæŠ›å‡ºé”™è¯¯çš„å‡½æ•°æ—¶ï¼Œxçš„ç±»å‹æ˜¯è¿”å›å€¼å¯¹åº”çš„optinalç±»å‹ï¼Œè¿™é‡Œæ˜¯<code>Int?</code></p>
<h2 id="Nested-Types"><a href="#Nested-Types" class="headerlink" title="Nested Types"></a>Nested Types</h2><p>å°±æ˜¯æˆ‘ä»¬ä½œä¸šä¸­ï¼Œåœ¨ç»“æ„ä½“Modelä¸­ï¼Œåˆå®šä¹‰äº†ç»“æ„ä½“Cardã€‚</p>
<p>ç±»ï¼Œæšä¸¾ç±»å‹ï¼Œç»“æ„ä½“éƒ½å¯ä»¥è¿›è¡ŒåµŒå¥—ã€‚</p>
<h2 id="Extentions"><a href="#Extentions" class="headerlink" title="Extentions"></a>Extentions</h2><p><em>æ‰©å±•</em>å¯ä»¥ç»™ä¸€ä¸ªç°æœ‰çš„ç±»ï¼Œç»“æ„ä½“ï¼Œæšä¸¾ï¼Œè¿˜æœ‰åè®®æ·»åŠ æ–°çš„åŠŸèƒ½ã€‚</p>
<p>Swift ä¸­çš„æ‰©å±•å¯ä»¥ï¼š</p>
<ul>
<li>æ·»åŠ <strong>è®¡ç®—å‹</strong>å®ä¾‹å±æ€§å’Œ<strong>è®¡ç®—å‹</strong>ç±»å±æ€§ï¼Œæ³¨æ„ä¸èƒ½å®šä¹‰å­˜å‚¨å±æ€§</li>
<li>å®šä¹‰å®ä¾‹æ–¹æ³•å’Œç±»æ–¹æ³•</li>
<li>æä¾›æ–°çš„æ„é€ å™¨</li>
<li>å®šä¹‰ä¸‹æ ‡</li>
<li>å®šä¹‰å’Œä½¿ç”¨æ–°çš„åµŒå¥—ç±»å‹</li>
<li>ä½¿å·²ç»å­˜åœ¨çš„ç±»å‹éµå¾ªï¼ˆconformï¼‰ä¸€ä¸ªåè®®</li>
</ul>
<ul>
<li><p>æ·»åŠ è®¡ç®—å±æ€§</p>
<p>  å› ä¸ºDoube, Intç­‰éƒ½æ˜¯structå®ç°çš„ï¼Œè¿™é‡Œä¸ºDoubleæ·»åŠ äº†è®¡ç®—ç±»å‹ã€‚</p>
<blockquote>
<p>extentioné‡Œæ˜¯å¯ä»¥è®¿é—®åˆ°selfçš„ï¼Œç”šè‡³èƒ½<strong>è®¿é—®privateå±æ€§</strong></p>
</blockquote>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">extension</span> <span class="title class_">Double</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> km: <span class="type">Double</span> &#123; <span class="keyword">return</span> <span class="keyword">self</span> <span class="operator">*</span> <span class="number">1_000.0</span> &#125;</span><br><span class="line">    <span class="keyword">var</span> m: <span class="type">Double</span> &#123; <span class="keyword">return</span> <span class="keyword">self</span> &#125;</span><br><span class="line">    <span class="keyword">var</span> cm: <span class="type">Double</span> &#123; <span class="keyword">return</span> <span class="keyword">self</span> <span class="operator">/</span> <span class="number">100.0</span> &#125;</span><br><span class="line">    <span class="keyword">var</span> mm: <span class="type">Double</span> &#123; <span class="keyword">return</span> <span class="keyword">self</span> <span class="operator">/</span> <span class="number">1_000.0</span> &#125;</span><br><span class="line">    <span class="keyword">var</span> ft: <span class="type">Double</span> &#123; <span class="keyword">return</span> <span class="keyword">self</span> <span class="operator">/</span> <span class="number">3.28084</span> &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> oneInch <span class="operator">=</span> <span class="number">25.4</span>.mm</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;One inch is <span class="subst">\(oneInch)</span> meters&quot;</span>)</span><br><span class="line"><span class="comment">// æ‰“å°â€œOne inch is 0.0254 metersâ€</span></span><br><span class="line"><span class="keyword">let</span> threeFeet <span class="operator">=</span> <span class="number">3</span>.ft</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Three feet is <span class="subst">\(threeFeet)</span> meters&quot;</span>)</span><br><span class="line"><span class="comment">// æ‰“å°â€œThree feet is 0.914399970739201 metersâ€</span></span><br></pre></td></tr></table></figure>

<p>  å¯ä»¥åœ¨æµ®ç‚¹æ•°å­—é¢é‡ä¸Šï¼Œå¦‚<code>25.4</code>è°ƒç”¨æ–°çš„è®¡ç®—å±æ€§ã€‚å½“ç„¶ä¹Ÿå¯ä»¥åœ¨å­—é¢å¸¸é‡æˆ–è€…å˜é‡ä¸Šè°ƒç”¨ã€‚</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a <span class="operator">=</span> <span class="number">25.4</span></span><br><span class="line">a.mm  <span class="comment">// å€¼ä¸º0.0254</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ³¨æ„</p>
<p>æ‰©å±•å¯ä»¥æ·»åŠ æ–°çš„è®¡ç®—å±æ€§ï¼Œä½†æ˜¯å®ƒä»¬ä¸èƒ½æ·»åŠ å­˜å‚¨å±æ€§ï¼Œä¹Ÿä¸èƒ½å‘ç°æœ‰çš„å±æ€§æ·»åŠ å±æ€§è§‚å¯Ÿè€…ã€‚</p>
</blockquote>
</li>
</ul>
<ul>
<li><p>æ‰©å±•æ„é€ å™¨</p>
<p>  extensionå¯ä»¥æä¾›ä¸€ä¸ªæ–°çš„ä¾¿åˆ©æ„é€ å™¨ï¼Œä½†æ˜¯ä¸èƒ½æä¾›ä¸€ä¸ªæŒ‡å®šæ„é€ å™¨å’Œææ„å™¨ç»™ä¸€ä¸ªç±»ã€‚æŒ‡å®šæ„é€ å™¨å’Œææ„å™¨å¿…é¡»ç”±åŸå§‹çš„ç±»å®ç°ã€‚</p>
<p>  å¦‚æœä¸€ä¸ªç»“æ„ä½“æ²¡å†™æ„é€ å™¨ï¼Œä½†æ˜¯ä½ æ‰©å±•äº†ï¼Œè¿™æ ·ä¸ä¼šè¦†ç›–é»˜è®¤çš„æ„é€ å™¨å’Œmemberwiseçš„æ„é€ å™¨ã€‚ä½ å¯ä»¥åœ¨è‡ªå·±å†™çš„æ„é€ å™¨é‡Œè°ƒç”¨ä»–ä»¬ã€‚</p>
<p>  æˆ‘ä¸¾ä¸ªè‡ªå·±çš„ä¾‹å­å§ï¼Œå¯ä»¥åœ¨æ‰©å±•çš„æ„é€ å™¨é‡Œï¼Œåˆ©ç”¨<code>self</code>è°ƒç”¨å·²æœ‰çš„åˆå§‹åŒ–å™¨ã€‚ä¸¾çš„ä¾‹å­é€‚ç”¨äºç»“æ„ä½“ï¼Œä¸é€‚ç”¨äºç±»ï¼Œå‡å¦‚æ˜¯ç±»ï¼Œä¼šå‡ºç°æŒ‡å®šçš„æ„é€ å™¨çš„é”™ã€‚</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Size</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> a: <span class="type">Int</span></span><br><span class="line">    <span class="keyword">init</span>(<span class="params">e</span>: <span class="type">Int</span>) &#123;</span><br><span class="line">        a <span class="operator">=</span> e <span class="operator">*</span> <span class="number">2</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">extension</span> <span class="title class_">Size</span> &#123;</span><br><span class="line">    <span class="keyword">init</span>(<span class="params">b</span>: <span class="type">Int</span>, <span class="params">c</span>: <span class="type">Int</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.<span class="keyword">init</span>(e: <span class="number">15</span>)  <span class="comment">// è°ƒç”¨äº†å·²æœ‰çš„åˆå§‹åŒ–å™¨</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> tmp <span class="operator">=</span> <span class="type">Size</span>(b: <span class="number">1</span>, c: <span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(tmp.a)  <span class="comment">// 30</span></span><br></pre></td></tr></table></figure>

<p>  å¦‚æœç»“æ„ä½“æ²¡æœ‰è‡ªå·±å®šä¹‰çš„åˆå§‹åŒ–å™¨ï¼Œè¿˜å¯ä»¥åœ¨extensionçš„åˆå§‹åŒ–å™¨é‡Œï¼Œè°ƒç”¨Defaultçš„å’Œmemberwiseçš„æ„é€ å™¨ã€‚</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Size</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> a <span class="operator">=</span> <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">extension</span> <span class="title class_">Size</span> &#123;</span><br><span class="line">    <span class="keyword">init</span>(<span class="params">b</span>: <span class="type">Int</span>, <span class="params">c</span>: <span class="type">Int</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.<span class="keyword">init</span>()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> tmp <span class="operator">=</span> <span class="type">Size</span>(b: <span class="number">1</span>, c: <span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(tmp.a) <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>



</li>
</ul>
<ul>
<li><p>æ‰©å±•æ–¹æ³•</p>
<p>  å¾ˆç®€å•çš„ä¾‹å­</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">extension</span> <span class="title class_">Int</span> &#123;</span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">repetitions</span>(<span class="params">task</span>: () -&gt; <span class="type">Void</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> <span class="keyword">_</span> <span class="keyword">in</span> <span class="number">0</span><span class="operator">..&lt;</span><span class="keyword">self</span> &#123;</span><br><span class="line">            task()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>  å¯ä»¥åœ¨Intç±»å‹çš„å­—é¢é‡æˆ–è€…å¸¸é‡å˜é‡ä¸Šè°ƒç”¨</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">3</span>.repetitions &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Hello!&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Hello!</span></span><br><span class="line"><span class="comment">// Hello!</span></span><br><span class="line"><span class="comment">// Hello!</span></span><br></pre></td></tr></table></figure>

<p>  ç”±äºIntåº•å±‚æ˜¯structï¼Œå¯ä»¥é€šè¿‡mutatingæ–¹æ³•æ¥ä¿®æ”¹self</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">extension</span> <span class="title class_">Int</span> &#123;</span><br><span class="line">    <span class="keyword">mutating</span> <span class="keyword">func</span> <span class="title function_">square</span>() &#123;</span><br><span class="line">        <span class="keyword">self</span> <span class="operator">=</span> <span class="keyword">self</span> <span class="operator">*</span> <span class="keyword">self</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> someInt <span class="operator">=</span> <span class="number">3</span></span><br><span class="line">someInt.square()</span><br><span class="line"><span class="comment">// someInt ç°åœ¨æ˜¯ 9</span></span><br></pre></td></tr></table></figure>



</li>
</ul>
<ul>
<li>ä¸‹æ ‡ä¸ç†Ÿï¼Œå…ˆè·³è¿‡ä¸€ä¸‹</li>
</ul>
<ul>
<li><p>æ‰©å±•å¯ä»¥ç»™ç°æœ‰çš„ç±»ï¼Œç»“æ„ä½“ï¼Œè¿˜æœ‰æšä¸¾æ·»åŠ æ–°çš„åµŒå¥—ç±»å‹</p>
<p>  å¦‚ä¸‹ä¸ºIntæ·»åŠ æ–°çš„æšä¸¾åµŒå¥—ç±»å‹</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">extension</span> <span class="title class_">Int</span> &#123;</span><br><span class="line">    <span class="keyword">enum</span> <span class="title class_">Kind</span> &#123;</span><br><span class="line">        <span class="keyword">case</span> negative, zero, positive</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> kind: <span class="type">Kind</span> &#123;</span><br><span class="line">        <span class="keyword">switch</span> <span class="keyword">self</span> &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> .zero</span><br><span class="line">        <span class="keyword">case</span> <span class="keyword">let</span> x <span class="keyword">where</span> x <span class="operator">&gt;</span> <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> .positive</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">return</span> .negative</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>  é€šè¿‡è®¡ç®—å±æ€§kindï¼Œå¯ä»¥ä¸ºIntç±»å‹å˜é‡æä¾›æšä¸¾ç±»å‹è¿”å›å€¼</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">printIntegerKinds</span>(<span class="keyword">_</span> <span class="params">numbers</span>: [<span class="type">Int</span>]) &#123;</span><br><span class="line">    <span class="keyword">for</span> number <span class="keyword">in</span> numbers &#123;</span><br><span class="line">        <span class="keyword">switch</span> number.kind &#123;</span><br><span class="line">        <span class="keyword">case</span> .negative:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;- &quot;</span>, terminator: <span class="string">&quot;&quot;</span>)</span><br><span class="line">        <span class="keyword">case</span> .zero:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;0 &quot;</span>, terminator: <span class="string">&quot;&quot;</span>)</span><br><span class="line">        <span class="keyword">case</span> .positive:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;+ &quot;</span>, terminator: <span class="string">&quot;&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line">printIntegerKinds([<span class="number">3</span>, <span class="number">19</span>, <span class="operator">-</span><span class="number">27</span>, <span class="number">0</span>, <span class="operator">-</span><span class="number">6</span>, <span class="number">0</span>, <span class="number">7</span>])</span><br><span class="line"><span class="comment">// æ‰“å°â€œ+ + - 0 - 0 + â€</span></span><br></pre></td></tr></table></figure>





</li>
</ul>
<h2 id="Protocols"><a href="#Protocols" class="headerlink" title="Protocols"></a>Protocols</h2><p>å±æ€§ï¼Œä»¥åŠå…¶ä»–éœ€è¦çš„ä¸œè¥¿ã€‚ç±»ã€ç»“æ„ä½“æˆ–æšä¸¾éƒ½å¯ä»¥éµå¾ªåè®®ï¼Œå¹¶ä¸ºåè®®å®šä¹‰çš„è¿™äº›è¦æ±‚æä¾›å…·ä½“å®ç°ã€‚æŸä¸ªç±»å‹éµå¾ªåè®®ï¼Œç§°ä¸º<em>conform</em>ã€‚</p>
<p>è¿˜èƒ½å¯¹åè®®è¿›è¡Œæ‹“å±•ï¼Œä¹Ÿèƒ½å¯¹ä¸€ä¸ªç±»å‹æ‹“å±•ï¼Œä½¿å®ƒé¢å¤–éµå¾ªæŸä¸ªåè®®ã€‚</p>
<h3 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h3><p>åè®®çš„å®šä¹‰ï¼Œæ³¨æ„å› ä¸ºprotocolä¹Ÿèƒ½çœ‹æˆæ˜¯ä¸€ç§typeï¼Œæ‰€ä»¥è¦==å¤§å†™==å‘½åã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protocol</span> <span class="title class_">SomeProtocol</span> &#123;</span><br><span class="line">	<span class="comment">// è¿™é‡Œæ˜¯åè®®çš„å®šä¹‰éƒ¨åˆ†</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸€ä¸ªç±»å‹å¯ä»¥éµå¾ªå¤šä¸ªåè®®ï¼Œå¯ä»¥ç”¨éƒ½å–Šåˆ†éš”å¼€æ¥ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">SomeStructure</span>: <span class="title class_">FirstProtocol</span>, <span class="title class_">AnotherProtocol</span> &#123;</span><br><span class="line">	<span class="comment">// è¿™é‡Œæ˜¯ç»“æ„ä½“çš„å®šä¹‰éƒ¨åˆ†</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœä¸€ä¸ªç±»æœ‰çˆ¶ç±»ï¼Œå› ä¸ºè¦ç»§æ‰¿ï¼Œè¦å…ˆå†™çˆ¶ç±»çš„åå­—å†å†™åè®®çš„åå­—ï¼Œè¿˜æ˜¯ç”¨é€—å·åˆ†éš”ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">SomeClass</span>: <span class="title class_">SomeSuperClass</span>, <span class="title class_">FirstProtocol</span>, <span class="title class_">AnotherProtocol</span> &#123;</span><br><span class="line">	<span class="comment">// è¿™é‡Œæ˜¯ç±»çš„å®šä¹‰éƒ¨åˆ†</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="åè®®å¯¹å±æ€§çš„è¦æ±‚"><a href="#åè®®å¯¹å±æ€§çš„è¦æ±‚" class="headerlink" title="åè®®å¯¹å±æ€§çš„è¦æ±‚"></a>åè®®å¯¹å±æ€§çš„è¦æ±‚</h3><p>åè®®å¹¶ä¸æŒ‡æ˜è¦æ±‚å±æ€§ä¸è¦æ±‚å±æ€§æ˜¯storedè¿˜æ˜¯computatedã€‚</p>
<p>ä½†ä»–ä¼šè¦æ±‚æ˜¯instanceè¿˜æ˜¯typeï¼Œä»¥åŠéœ€è¦æ»¡è¶³å˜é‡ånameå’Œtypeã€‚è¿˜ä¼šè¦æ±‚æ»¡è¶³setå’Œgetã€‚</p>
<p>é’ˆå¯¹set getä¸¤ç§æƒ…å†µï¼Œ<code>set get</code>å¯è¯»å¯å†™ï¼Œ<code>set</code>å¯è¯»ã€‚å¦‚æœè¦æ±‚å¯è¯»ï¼Œä½†æ˜¯å®ç°æ—¶æ˜¯å¯è¯»å¯å†™ä¹Ÿæ»¡è¶³éœ€æ±‚ã€‚</p>
<p>ä¾‹å­</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protocol</span> <span class="title class_">SomeProtocol</span> &#123;</span><br><span class="line">	<span class="keyword">var</span> mustBeSettable: <span class="type">Int</span> &#123; <span class="keyword">get</span> <span class="keyword">set</span> &#125;  <span class="comment">// å¯è¯»å¯å†™</span></span><br><span class="line">	<span class="keyword">var</span> doesNotNeedToBeSettable: <span class="type">Int</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åè®®è¦æ±‚æœ‰type å±æ€§ã€‚åœ¨ç±»ä¸­å®ç°æ—¶ï¼Œä¹Ÿå¯ä»¥ç”¨classå…³é”®å­—ä»£æ›¿staticï¼Œä»¥ä¾¿å¯ä»¥è¢«å­ç±»ä¿®æ”¹ï¼Ÿ</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protocol</span> <span class="title class_">AnotherProtocol</span> &#123;</span><br><span class="line">	<span class="keyword">static</span> <span class="keyword">var</span> someTypeProperty: <span class="type">Int</span> &#123; <span class="keyword">get</span> <span class="keyword">set</span> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>ä¸¾ä¾‹</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protocol</span> <span class="title class_">FullyNamed</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> fullName: <span class="type">String</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœä¸€ä¸ªç±»å‹æƒ³è¦conformåè®®FullyNamedï¼Œéœ€è¦æœ‰ä¸€ä¸ªåå­—å«fullnameçš„Stringç±»å‹å˜é‡ï¼Œä¸”æ»¡è¶³å¯è¯»ã€‚</p>
<p>å®ç°ï¼Œç±»å‹Person conforms åè®®FullyNamedã€‚è¿™é‡Œä½¿ç”¨äº†storedå±æ€§ï¼Œä½¿ç”¨computedå±æ€§ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Person</span>: <span class="title class_">FullyNamed</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> fullName: <span class="type">String</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> john <span class="operator">=</span> <span class="type">Person</span>(fullName: <span class="string">&quot;John Appleseed&quot;</span>)</span><br><span class="line"><span class="comment">// john.fullName ä¸º &quot;John Appleseed&quot;</span></span><br></pre></td></tr></table></figure>



<h3 id="åè®®å¯¹æ–¹æ³•çš„è¦æ±‚"><a href="#åè®®å¯¹æ–¹æ³•çš„è¦æ±‚" class="headerlink" title="åè®®å¯¹æ–¹æ³•çš„è¦æ±‚"></a>åè®®å¯¹æ–¹æ³•çš„è¦æ±‚</h3><p>åŒä¸Šï¼Œåè®®ä¼šè¦æ±‚æ–¹æ³•æ˜¯instanceè¿˜æ˜¯typeçš„ã€‚ä¼šè¦æ±‚methodçš„åå­—ä»¥åŠç±»å‹ï¼Œä¼šè¦æ±‚å‚æ•°åï¼Œlabelåå—ï¼Ÿä½†æ˜¯<strong>ä¸éœ€è¦èŠ±æ‹¬å·ä»¥åŠæ–¹æ³•çš„å®ç°</strong>ï¼Œä¸å…è®¸é»˜è®¤å‚æ•°å€¼</p>
<p>å¦‚ä¸‹çš„ä¾‹å­ï¼Œlabelåå­—å¿…é¡»ä¸€æ ·ï¼Œä½†æ˜¯å¯ä»¥æ”¹parameter nameã€‚åœ¨è¿™ä¸ªä¾‹å­é‡Œä¹Ÿå°±æ˜¯ï¼Œ<code>from</code>å’Œ<code>to</code>å¿…é¡»ä¸€æ ·ï¼Œä½†æ˜¯ä¸‹é¢å¯ä»¥æ”¹æˆ<code>c</code>å’Œ<code>d</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protocol</span> <span class="title class_">RandomNum</span> &#123;</span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">random</span>(<span class="params">from</span> <span class="params">a</span>: <span class="type">Int</span>, <span class="params">to</span> <span class="params">b</span>: <span class="type">Int</span>) -&gt; <span class="type">Int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">A</span>: <span class="title class_">RandomNum</span> &#123;</span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">random</span>(<span class="params">from</span> <span class="params">c</span>: <span class="type">Int</span>, <span class="params">to</span> <span class="params">d</span>: <span class="type">Int</span>) -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>å¯¹äºç»“æ„ä½“å’Œæšä¸¾ç±»å‹ï¼Œå¦‚æœåè®®æœŸæœ›çš„å®ç°çš„æ–¹æ³•éœ€è¦æ”¹å˜å€¼ï¼Œéœ€è¦åŠ ä¸Šmutatingå…³é”®å­—ã€‚ä½†æ˜¯ä¸€ä¸ªclass conformè¿™ä¸ªåè®®ï¼Œä»–å®ç°è¿™ä¸ªæ–¹æ³•æ—¶ï¼Œä¸éœ€è¦åŠ ä¸Šmutating</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protocol</span> <span class="title class_">Togglable</span> &#123;</span><br><span class="line">    <span class="keyword">mutating</span> <span class="keyword">func</span> <span class="title function_">toggle</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">OnOffSwitch</span>: <span class="title class_">Togglable</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> off, on</span><br><span class="line">    <span class="keyword">mutating</span> <span class="keyword">func</span> <span class="title function_">toggle</span>() &#123;</span><br><span class="line">        <span class="keyword">switch</span> <span class="keyword">self</span> &#123;</span><br><span class="line">        <span class="keyword">case</span> .off:</span><br><span class="line">            <span class="keyword">self</span> <span class="operator">=</span> .on</span><br><span class="line">        <span class="keyword">case</span> .on:</span><br><span class="line">            <span class="keyword">self</span> <span class="operator">=</span> .off</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> lightSwitch <span class="operator">=</span> <span class="type">OnOffSwitch</span>.off</span><br><span class="line">lightSwitch.toggle()</span><br><span class="line"><span class="comment">// lightSwitch ç°åœ¨çš„å€¼ä¸º .on</span></span><br></pre></td></tr></table></figure>



<h3 id="åè®®å¯¹æ„é€ å™¨çš„è¦æ±‚"><a href="#åè®®å¯¹æ„é€ å™¨çš„è¦æ±‚" class="headerlink" title="åè®®å¯¹æ„é€ å™¨çš„è¦æ±‚"></a>åè®®å¯¹æ„é€ å™¨çš„è¦æ±‚</h3><p>å¦‚ä¸‹ï¼Œåªéœ€è¦ç»™å‡ºæ„é€ å™¨åå­—initä»¥åŠå‚æ•°</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protocol</span> <span class="title class_">SomeProtocol</span> &#123;</span><br><span class="line">    <span class="keyword">init</span>(<span class="params">someParameter</span>: <span class="type">Int</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½ å¯ä»¥åœ¨éµå¾ªåè®®çš„ç±»ä¸­å®ç°æ„é€ å™¨ï¼Œæ— è®ºæ˜¯ä½œä¸ºæŒ‡å®šæ„é€ å™¨ï¼Œè¿˜æ˜¯ä½œä¸ºä¾¿åˆ©æ„é€ å™¨ã€‚æ— è®ºå“ªç§æƒ…å†µï¼Œä½ éƒ½å¿…é¡»ä¸ºæ„é€ å™¨å®ç°æ ‡ä¸Š <code>required</code> ä¿®é¥°ç¬¦ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">SomeClass</span>: <span class="title class_">SomeProtocol</span> &#123;</span><br><span class="line">    <span class="keyword">required</span> <span class="keyword">init</span>(<span class="params">someParameter</span>: <span class="type">Int</span>) &#123;</span><br><span class="line">        <span class="comment">// è¿™é‡Œæ˜¯æ„é€ å™¨çš„å®ç°éƒ¨åˆ†</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœä¸€ä¸ªå­ç±»é‡å†™äº†çˆ¶ç±»çš„æŒ‡å®šæ„é€ å™¨ï¼Œå¹¶ä¸”è¯¥æ„é€ å™¨æ»¡è¶³äº†æŸä¸ªåè®®çš„è¦æ±‚ï¼Œé‚£ä¹ˆè¯¥æ„é€ å™¨çš„å®ç°éœ€è¦åŒæ—¶æ ‡æ³¨ <code>required</code> å’Œ <code>override</code> ä¿®é¥°ç¬¦ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protocol</span> <span class="title class_">SomeProtocol</span> &#123;</span><br><span class="line">    <span class="keyword">init</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SomeSuperClass</span> &#123;</span><br><span class="line">    <span class="keyword">init</span>() &#123;</span><br><span class="line">        <span class="comment">// è¿™é‡Œæ˜¯æ„é€ å™¨çš„å®ç°éƒ¨åˆ†</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SomeSubClass</span>: <span class="title class_">SomeSuperClass</span>, <span class="title class_">SomeProtocol</span> &#123;</span><br><span class="line">    <span class="comment">// å› ä¸ºéµå¾ªåè®®ï¼Œéœ€è¦åŠ ä¸Š required</span></span><br><span class="line">    <span class="comment">// å› ä¸ºç»§æ‰¿è‡ªçˆ¶ç±»ï¼Œéœ€è¦åŠ ä¸Š override</span></span><br><span class="line">    <span class="keyword">required</span> <span class="keyword">override</span> <span class="keyword">init</span>() &#123;</span><br><span class="line">        <span class="comment">// è¿™é‡Œæ˜¯æ„é€ å™¨çš„å®ç°éƒ¨åˆ†</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h3 id="åè®®ä½œä¸ºç±»å‹"><a href="#åè®®ä½œä¸ºç±»å‹" class="headerlink" title="åè®®ä½œä¸ºç±»å‹"></a>åè®®ä½œä¸ºç±»å‹</h3><p>ä½œä¸ºç±»å‹ï¼Œè¦ç”¨å¤§å†™å­—æ¯å¼€å¤´å‘½å</p>
<p>åè®®å¯ä»¥åƒå…¶ä»–æ™®é€šç±»å‹ä¸€æ ·ä½¿ç”¨ï¼Œä½¿ç”¨åœºæ™¯å¦‚ä¸‹ï¼š</p>
<ul>
<li>ä½œä¸ºå‡½æ•°ã€æ–¹æ³•æˆ–æ„é€ å™¨ä¸­çš„å‚æ•°ç±»å‹æˆ–è¿”å›å€¼ç±»å‹</li>
<li>ä½œä¸ºå¸¸é‡ã€å˜é‡æˆ–å±æ€§çš„ç±»å‹</li>
<li>ä½œä¸ºæ•°ç»„ã€å­—å…¸æˆ–å…¶ä»–å®¹å™¨ä¸­çš„å…ƒç´ ç±»å‹</li>
</ul>
<p>æ¯”å¦‚è¯´ï¼Œä¸€ä¸ªå˜é‡çš„ç±»å‹æ˜¯<code>RandomNumberGenerator</code>åè®®</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Dice</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> sides: <span class="type">Int</span></span><br><span class="line">    <span class="keyword">let</span> generator: <span class="type">RandomNumberGenerator</span></span><br><span class="line">    <span class="keyword">init</span>(<span class="params">sides</span>: <span class="type">Int</span>, <span class="params">generator</span>: <span class="type">RandomNumberGenerator</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.sides <span class="operator">=</span> sides</span><br><span class="line">        <span class="keyword">self</span>.generator <span class="operator">=</span> generator</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">roll</span>() -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="type">Int</span>(generator.random() <span class="operator">*</span> <span class="type">Double</span>(sides)) <span class="operator">+</span> <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä»»ä½•å®ä¾‹åªè¦conformè¿™ä¸ª<code>RandomNumberGenerator</code>åè®®ï¼Œéƒ½å¯ä»¥èµ‹ç»™è¿™ä¸ªå˜é‡ã€‚å¹¶ä¸”ç”±äºå…¶ç±»å‹æ˜¯ <code>RandomNumberGenerator</code>ï¼Œæ‰€ä»¥åœ¨ <code>Dice</code> ç±»ä¸­ä¸ <code>generator</code> äº¤äº’çš„ä»£ç ï¼Œå¿…é¡»é€‚ç”¨äºæ‰€æœ‰éµå¾ªè¯¥åè®®çš„ <code>generator</code> å®ä¾‹ã€‚<strong>è¿™æ„å‘³ç€ä¸èƒ½ä½¿ç”¨ç”± <code>generator</code> çš„åº•å±‚ç±»å‹å®šä¹‰çš„ä»»ä½•æ–¹æ³•æˆ–å±æ€§ã€‚</strong>å¦‚æœè¦æ˜¯åˆ¤æ–­åº•å±‚ç±»å‹ï¼Œå¯ä»¥ç”¨<code>is</code>å—ï¼Ÿè¿˜æœ‰åé¢çš„as?æœ‰ç‚¹è®°ä¸æ¸…äº†</p>
<h3 id="å§”æ‰˜delegation"><a href="#å§”æ‰˜delegation" class="headerlink" title="å§”æ‰˜delegation"></a>å§”æ‰˜delegation</h3><p>å¤§æ¦‚æ„æ€å°±æ˜¯è¯´ç”¨åè®®æ¥å®ç°å§”æ‰˜çš„è®¾è®¡æ¨¡å¼ã€‚</p>
<h3 id="ä½¿ç”¨extensionä¸ºç±»å‹æ·»åŠ æ‹“å±•"><a href="#ä½¿ç”¨extensionä¸ºç±»å‹æ·»åŠ æ‹“å±•" class="headerlink" title="ä½¿ç”¨extensionä¸ºç±»å‹æ·»åŠ æ‹“å±•"></a>ä½¿ç”¨extensionä¸ºç±»å‹æ·»åŠ æ‹“å±•</h3><p>å°±æ˜¯è¯´ï¼ŒåŸæ¥çš„ç±»å‹å¯èƒ½æ²¡æœ‰éµå¾ªæŸä¸€ä¸ªåè®®ï¼Œä»ç„¶å¯ä»¥é€šè¿‡extensionæ¥æ·»åŠ åè®®ï¼Œæ³¨æ„æ‰©å±•æ˜¯å¯ä»¥è®¿é—®åˆ°selfçš„ï¼Œå®éªŒè¿‡ï¼Œå³ä½¿æ˜¯privateå˜é‡ä¹Ÿèƒ½è®¿é—®åˆ°</p>
<p>å³ä¾¿æ— æ³•ä¿®æ”¹æºä»£ç ï¼Œä¾ç„¶å¯ä»¥é€šè¿‡æ‰©å±•ä»¤å·²æœ‰ç±»å‹éµå¾ªå¹¶ç¬¦åˆåè®®ã€‚</p>
<blockquote>
<p>æ³¨æ„</p>
<p>é€šè¿‡æ‰©å±•ä»¤å·²æœ‰ç±»å‹éµå¾ªå¹¶ç¬¦åˆåè®®æ—¶ï¼Œè¯¥ç±»å‹çš„æ‰€æœ‰å®ä¾‹ä¹Ÿä¼šéšä¹‹è·å¾—åè®®ä¸­å®šä¹‰çš„å„é¡¹åŠŸèƒ½ã€‚</p>
</blockquote>
<p>é€šè¿‡æ‰©å±•éµå¾ªå¹¶é‡‡çº³åè®®ï¼Œå’Œåœ¨åŸå§‹å®šä¹‰ä¸­éµå¾ªå¹¶ç¬¦åˆåè®®çš„æ•ˆæœå®Œå…¨ç›¸åŒã€‚</p>
<p>å¦‚ï¼Œä¸‹é¢æ–°çš„æ‰©å±•</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protocol</span> <span class="title class_">TextRepresentable</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> textualDescription: <span class="type">String</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥ä»¤Diceç±»éµå¾ªè¿™ä¸ªæ–°çš„æ‰©å±•</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">extension</span> <span class="title class_">Dice</span>: <span class="title class_">TextRepresentable</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> textualDescription: <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;A <span class="subst">\(sides)</span>-sided dice&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="æœ‰æ¡ä»¶åœ°éµå¾ªåè®®"><a href="#æœ‰æ¡ä»¶åœ°éµå¾ªåè®®" class="headerlink" title="æœ‰æ¡ä»¶åœ°éµå¾ªåè®®"></a>æœ‰æ¡ä»¶åœ°éµå¾ªåè®®</h3><p>å°±æ˜¯ä½¿ç”¨whereè¯­å¥</p>
<p>æ³›å‹ç±»å‹å¯èƒ½åªåœ¨æŸäº›æƒ…å†µä¸‹æ»¡è¶³ä¸€ä¸ªåè®®çš„è¦æ±‚ï¼Œæ¯”å¦‚å½“ç±»å‹çš„æ³›å‹å½¢å¼å‚æ•°éµå¾ªå¯¹åº”åè®®æ—¶ã€‚ä½ å¯ä»¥é€šè¿‡åœ¨æ‰©å±•ç±»å‹æ—¶åˆ—å‡ºé™åˆ¶è®©æ³›å‹ç±»å‹æœ‰æ¡ä»¶åœ°éµå¾ªæŸåè®®ã€‚åœ¨ä½ é‡‡çº³åè®®çš„åå­—åé¢å†™æ³›å‹ <code>where</code> åˆ†å¥ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">extension</span> <span class="title class_">Array</span>: <span class="title class_">TextRepresentable</span> <span class="title class_">where</span> <span class="title class_">Element</span>: <span class="title class_">TextRepresentable</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> textualDescription: <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> itemsAsText <span class="operator">=</span> <span class="keyword">self</span>.map &#123; <span class="variable">$0</span>.textualDescription &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;[&quot;</span> <span class="operator">+</span> itemsAsText.joined(separator: <span class="string">&quot;, &quot;</span>) <span class="operator">+</span> <span class="string">&quot;]&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> myDice <span class="operator">=</span> [d6, d12]</span><br><span class="line"><span class="built_in">print</span>(myDice.textualDescription)</span><br><span class="line"><span class="comment">// æ‰“å° &quot;[A 6-sided dice, A 12-sided dice]&quot;</span></span><br></pre></td></tr></table></figure>





<h3 id="decalring-protocol-adoption-with-an-extension"><a href="#decalring-protocol-adoption-with-an-extension" class="headerlink" title="decalring protocol adoption with an extension"></a>decalring protocol adoption with an extension</h3><p>æ„æ€å°±æ˜¯å¦‚æœä¸€ä¸ªtypeå·²ç»æ»¡è¶³äº†éµå¾ªä¸€ä¸ªprotocolçš„æ¡ä»¶ï¼ˆåœ¨è¿™é‡Œæ˜¯æœ‰äº†å˜é‡textualDescriptionï¼‰ï¼Œä½†æ˜¯ä»–å´æ²¡æœ‰æ˜¾ç¤ºçš„å£°æ˜è¦éµå¾ªè¿™ä¸ªåè®®ã€‚é‚£ä¹ˆå¯ä»¥åœ¨extensionä¸­å£°æ˜ï¼Œå´ä¸éœ€è¦åœ¨èŠ±æ‹¬å·é‡Œåšä»»ä½•çš„å®ç°ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Hamster</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> name: <span class="type">String</span></span><br><span class="line">    <span class="keyword">var</span> textualDescription: <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;A hamster named <span class="subst">\(name)</span>&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">extension</span> <span class="title class_">Hamster</span>: <span class="title class_">TextRepresentable</span> &#123;&#125;</span><br></pre></td></tr></table></figure>

<p>ç»è¿‡extensionä¹‹åï¼ŒHamsterå·²ç»conformè¿™ä¸ªåè®®TextRepresentable</p>
<h3 id="adopting-a-protocol-using-a-synthesized-implementation"><a href="#adopting-a-protocol-using-a-synthesized-implementation" class="headerlink" title="adopting a protocol using a synthesized implementation"></a>adopting a protocol using a synthesized implementation</h3><p>Swift å¯ä»¥è‡ªåŠ¨æä¾›ä¸€äº›ç®€å•åœºæ™¯ä¸‹éµå¾ª <code>Equatable</code>ã€<code>Hashable</code> å’Œ <code>Comparable</code> åè®®çš„å®ç°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåªè¦æ»¡è¶³æ¡ä»¶ï¼Œä½ åªéœ€éµå¾ªè¿™å‡ ä¸ªåè®®ï¼Œä½†æ˜¯å´ä¸éœ€è¦è‡ªå·±å–å®ç°ã€‚</p>
<p>Swift ä¸ºä»¥ä¸‹å‡ ç§è‡ªå®šä¹‰ç±»å‹æä¾›äº† <code>Equatable</code> åè®®çš„åˆæˆå®ç°ï¼š</p>
<ul>
<li>éµå¾ª <code>Equatable</code> åè®®ä¸”åªæœ‰å­˜å‚¨å±æ€§çš„ç»“æ„ä½“ã€‚ï¼ˆç»“æ„ä½“ä¸­åªæœ‰å­˜å‚¨å±æ€§ï¼Œä¸”å­˜å‚¨å±æ€§çš„ï¼‰</li>
<li>éµå¾ª <code>Equatable</code> åè®®ä¸”åªæœ‰å…³è”ç±»å‹çš„æšä¸¾</li>
<li>æ²¡æœ‰ä»»ä½•å…³è”ç±»å‹çš„æšä¸¾</li>
</ul>
<p>æ»¡è¶³<code>Equatable</code>ç±»å‹ä¹Ÿå°±æ˜¯å¯ä»¥ä½¿ç”¨<code>==</code>å’Œ<code>!=</code></p>
<p>å¦‚ä¸‹ç»“æ„ä½“çš„å­˜å‚¨å±æ€§ï¼Œå…¨éƒ½æ»¡è¶³<code>Equatable</code>ï¼Œæ‰€ä»¥ç›´æ¥conformè¿™ä¸ªåè®®å°±å¥½</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Vector3D</span>: <span class="title class_">Equatable</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> x <span class="operator">=</span> <span class="number">0.0</span>, y <span class="operator">=</span> <span class="number">0.0</span>, z <span class="operator">=</span> <span class="number">0.0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> twoThreeFour <span class="operator">=</span> <span class="type">Vector3D</span>(x: <span class="number">2.0</span>, y: <span class="number">3.0</span>, z: <span class="number">4.0</span>)</span><br><span class="line"><span class="keyword">let</span> anotherTwoThreeFour <span class="operator">=</span> <span class="type">Vector3D</span>(x: <span class="number">2.0</span>, y: <span class="number">3.0</span>, z: <span class="number">4.0</span>)</span><br><span class="line"><span class="keyword">if</span> twoThreeFour <span class="operator">==</span> anotherTwoThreeFour &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;These two vectors are also equivalent.&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Prints &quot;These two vectors are also equivalent.&quot;</span></span><br></pre></td></tr></table></figure>

<p><code>Hashable</code>å’Œ<code>Equatable</code>ç”¨çš„åœºæ™¯ä¸€æ ·</p>
<p>Swift ä¸ºæ²¡æœ‰åŸå§‹å€¼çš„æšä¸¾ç±»å‹æä¾›äº† <code>Comparable</code> åè®®çš„åˆæˆå®ç°ã€‚å¦‚æœæšä¸¾ç±»å‹åŒ…å«å…³è”ç±»å‹ï¼Œé‚£è¿™äº›å…³è”ç±»å‹ä¹Ÿå¿…é¡»åŒæ—¶éµå¾ª <code>Comparable</code> åè®®ã€‚</p>
<p>è¿™ä¸ªä¾‹å­å…¶å®æ²¡å¤ªçœ‹åˆ°ï¼Œæœ‰å…³è”å€¼å¯ä»¥æ¯”è¾ƒèƒ½å¤Ÿç†è§£ï¼Œä¸ºä»€ä¹ˆæ²¡æœ‰å€¼çš„caseä¹Ÿèƒ½æ’åºï¼Ÿï¼Ÿï¼Ÿå¥½åƒæ˜¯æŒ‰ç…§ä»ä¸Šåˆ°ä¸‹çš„é¡ºåºæ’çš„ï¼Ÿæœ‰ä»€ä¹ˆæ„ä¹‰å‘¢ï¼Ÿ</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">SkillLevel</span>: <span class="title class_">Comparable</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> beginner</span><br><span class="line">    <span class="keyword">case</span> intermediate</span><br><span class="line">    <span class="keyword">case</span> expert(stars: <span class="type">Int</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> levels <span class="operator">=</span> [<span class="type">SkillLevel</span>.intermediate, <span class="type">SkillLevel</span>.beginner,</span><br><span class="line">              <span class="type">SkillLevel</span>.expert(stars: <span class="number">5</span>), <span class="type">SkillLevel</span>.expert(stars: <span class="number">3</span>)]</span><br><span class="line"><span class="keyword">for</span> level <span class="keyword">in</span> levels.sorted() &#123;</span><br><span class="line">    <span class="built_in">print</span>(level)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ‰“å° &quot;beginner&quot;</span></span><br><span class="line"><span class="comment">// æ‰“å° &quot;intermediate&quot;</span></span><br><span class="line"><span class="comment">// æ‰“å° &quot;expert(stars: 3)&quot;</span></span><br><span class="line"><span class="comment">// æ‰“å° &quot;expert(stars: 5)&quot;</span></span><br></pre></td></tr></table></figure>



<h3 id="åè®®ç±»å‹çš„é›†åˆ"><a href="#åè®®ç±»å‹çš„é›†åˆ" class="headerlink" title="åè®®ç±»å‹çš„é›†åˆ"></a>åè®®ç±»å‹çš„é›†åˆ</h3><p>åè®®ä¹Ÿå¯ä»¥åœ¨æ•°ç»„æˆ–è€…å­—å…¸è¿™æ ·çš„é›†åˆä¸­ä½¿ç”¨</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> things: [<span class="type">TextRepresentable</span>] <span class="operator">=</span> [game, d12, simonTheHamster]</span><br></pre></td></tr></table></figure>

<p>å°±æ˜¯åªè¦instanceæ»¡è¶³åè®®ç±»å‹ï¼Œå³å¯åŠ å…¥åˆ°é›†åˆä¸­å»ã€‚</p>
<h3 id="protocol-inheritance"><a href="#protocol-inheritance" class="headerlink" title="protocol inheritance"></a>protocol inheritance</h3><p>åè®®çš„ç»§æ‰¿å’Œç±»çš„ç»§æ‰¿ç±»ä¼¼ï¼Œä½†æ˜¯å¯ä»¥ç»§æ‰¿ä¸€ä¸ªæˆ–è€…å¤šä¸ªåè®®</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protocol</span> <span class="title class_">InheritingProtocol</span>: <span class="title class_">SomeProtocol</span>, <span class="title class_">AnotherProtocol</span> &#123;</span><br><span class="line">    <span class="comment">// protocol definition goes here</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å‡å¦‚ä¸€ä¸ªtypeéµå¾ªè¿™ä¸ªåè®®ï¼ŒåŒæ—¶ä¹Ÿå¿…é¡»è¦éµå¾ªä»–çš„çˆ¶åè®®ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">extension</span> <span class="title class_">SnakesAndLadders</span>: <span class="title class_">PrettyTextRepresentable</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> prettyTextualDescription: <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> output <span class="operator">=</span> textualDescription <span class="operator">+</span> <span class="string">&quot;:<span class="subst">\n</span>&quot;</span>  <span class="comment">// è®¿é—®äº†çˆ¶åè®®çš„å±æ€§ï¼Ÿï¼Ÿ</span></span><br><span class="line">        <span class="keyword">for</span> index <span class="keyword">in</span> <span class="number">1</span><span class="operator">...</span>finalSquare &#123;</span><br><span class="line">            <span class="keyword">switch</span> board[index] &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="keyword">let</span> ladder <span class="keyword">where</span> ladder <span class="operator">&gt;</span> <span class="number">0</span>:</span><br><span class="line">                output <span class="operator">+=</span> <span class="string">&quot;â–² &quot;</span></span><br><span class="line">            <span class="keyword">case</span> <span class="keyword">let</span> snake <span class="keyword">where</span> snake <span class="operator">&lt;</span> <span class="number">0</span>:</span><br><span class="line">                output <span class="operator">+=</span> <span class="string">&quot;â–¼ &quot;</span></span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                output <span class="operator">+=</span> <span class="string">&quot;â—‹ &quot;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> output</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>PrettyTextRepresentableï¼Œå®ƒç»§æ‰¿è‡ª <code>TextRepresentable</code> åè®®ã€‚æ¯ä¸ª <code>PrettyTextRepresentable</code> ç±»å‹åŒæ—¶ä¹Ÿæ˜¯ <code>TextRepresentable</code> ç±»å‹ï¼Œæ‰€ä»¥åœ¨ <code>prettyTextualDescription</code> çš„å®ç°ä¸­ï¼Œå¯ä»¥è®¿é—® <code>textualDescription</code> å±æ€§ã€‚</p>
<h3 id="ç±»ä¸“å±åè®®class-only-protocols"><a href="#ç±»ä¸“å±åè®®class-only-protocols" class="headerlink" title="ç±»ä¸“å±åè®®class-only protocols"></a>ç±»ä¸“å±åè®®class-only protocols</h3><p>åªèƒ½ç»™ç±»ä½¿ç”¨çš„åè®®ï¼Œè¦ç»§æ‰¿ä¸€ä¸‹<code>AnyObject</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protocol</span> <span class="title class_">SomeClassOnlyProtocol</span>: <span class="title class_">AnyObject</span>, <span class="title class_">SomeInheritedProtocol</span> &#123;</span><br><span class="line">    <span class="comment">// è¿™é‡Œæ˜¯ç±»ä¸“å±åè®®çš„å®šä¹‰éƒ¨åˆ†</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="protocol-composition-åè®®ç»„åˆ"><a href="#protocol-composition-åè®®ç»„åˆ" class="headerlink" title="protocol composition åè®®ç»„åˆ"></a>protocol composition åè®®ç»„åˆ</h3><p>ä¸€ä¸ªç±»å‹æ˜¯å¯ä»¥éµå¾ªå¤šä¸ªåè®®çš„ï¼Œåªéœ€è¦ç”¨é€—å·åˆ†éš”å¼€å°±å¯ä»¥ã€‚åè®®ç»„åˆçš„ç±»å‹å¯ä»¥çœ‹æˆä¸€ä¸ªç»„åˆç±»å‹ï¼Œä½¿ç”¨ <code>SomeProtocol &amp; AnotherProtocol</code> çš„å½¢å¼ã€‚ä½ å¯ä»¥åˆ—ä¸¾ä»»æ„æ•°é‡çš„åè®®ï¼Œç”¨å’Œç¬¦å·ï¼ˆ<code>&amp;</code>ï¼‰åˆ†å¼€ã€‚åè®®ç»„åˆä¹Ÿèƒ½åŒ…å«ç±»ç±»å‹ï¼Œè¿™å…è®¸ä½ æ ‡æ˜ä¸€ä¸ªéœ€è¦çš„çˆ¶ç±»ã€‚</p>
<p>ä¾‹å­</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protocol</span> <span class="title class_">Named</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> name: <span class="type">String</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">protocol</span> <span class="title class_">Aged</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> age: <span class="type">Int</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Person</span>: <span class="title class_">Named</span>, <span class="title class_">Aged</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> name: <span class="type">String</span></span><br><span class="line">    <span class="keyword">var</span> age: <span class="type">Int</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">func</span> <span class="title function_">wishHappyBirthday</span>(<span class="params">to</span> <span class="params">celebrator</span>: <span class="type">Named</span> &amp; <span class="type">Aged</span>) &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Happy birthday, <span class="subst">\(celebrator.name)</span>, you&#x27;re <span class="subst">\(celebrator.age)</span>!&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> birthdayPerson <span class="operator">=</span> <span class="type">Person</span>(name: <span class="string">&quot;Malcolm&quot;</span>, age: <span class="number">21</span>)</span><br><span class="line">wishHappyBirthday(to: birthdayPerson)</span><br><span class="line"><span class="comment">// æ‰“å° â€œHappy birthday Malcolm - you&#x27;re 21!â€</span></span><br></pre></td></tr></table></figure>

<p><code>Person</code> ç»“æ„ä½“é‡‡çº³äº†è¿™ä¸¤ä¸ªåè®®ã€‚<code>wishHappyBirthday(to:)</code> å‡½æ•°çš„å‚æ•° <code>celebrator</code> çš„ç±»å‹ä¸º <code>Named &amp; Aged</code>ï¼Œ è¿™æ„å‘³ç€â€œä»»ä½•åŒæ—¶éµå¾ª Named å’Œ Aged çš„åè®®â€ã€‚å®ƒä¸å…³å¿ƒå‚æ•°çš„å…·ä½“ç±»å‹ï¼Œåªè¦å‚æ•°éµå¾ªè¿™ä¸¤ä¸ªåè®®å³å¯ã€‚</p>
<p>åˆšåˆšæåˆ°äº†åè®®ç»„åˆä¹Ÿå¯ä»¥åŒ…å«classç±»å‹ï¼Œä»£è¡¨ç»§æ‰¿çˆ¶ç±»ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Location</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> latitude: <span class="type">Double</span></span><br><span class="line">    <span class="keyword">var</span> longitude: <span class="type">Double</span></span><br><span class="line">    <span class="keyword">init</span>(<span class="params">latitude</span>: <span class="type">Double</span>, <span class="params">longitude</span>: <span class="type">Double</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.latitude <span class="operator">=</span> latitude</span><br><span class="line">        <span class="keyword">self</span>.longitude <span class="operator">=</span> longitude</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">City</span>: <span class="title class_">Location</span>, <span class="title class_">Named</span> &#123;  <span class="comment">// ç»§æ‰¿åŒæ—¶éµå¾ªåè®®</span></span><br><span class="line">    <span class="keyword">var</span> name: <span class="type">String</span></span><br><span class="line">    <span class="keyword">init</span>(<span class="params">name</span>: <span class="type">String</span>, <span class="params">latitude</span>: <span class="type">Double</span>, <span class="params">longitude</span>: <span class="type">Double</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.name <span class="operator">=</span> name</span><br><span class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(latitude: latitude, longitude: longitude)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">func</span> <span class="title function_">beginConcert</span>(<span class="params">in</span> <span class="params">location</span>: <span class="type">Location</span> &amp; <span class="type">Named</span>) &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Hello, <span class="subst">\(location.name)</span>!&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">let</span> seattle <span class="operator">=</span> <span class="type">City</span>(name: <span class="string">&quot;Seattle&quot;</span>, latitude: <span class="number">47.6</span>, longitude: <span class="operator">-</span><span class="number">122.3</span>)</span><br><span class="line">beginConcert(in: seattle)</span><br><span class="line"><span class="comment">// æ‰“å° &quot;Hello, Seattle!&quot;</span></span><br></pre></td></tr></table></figure>

<p><code>beginConcert(in:)</code> å‡½æ•°æ¥å—ä¸€ä¸ªç±»å‹ä¸º <code>Location &amp; Named</code> çš„å‚æ•°ï¼Œè¿™æ„å‘³ç€â€œä»»ä½• Location çš„å­ç±»ï¼Œå¹¶ä¸”éµå¾ª Named åè®®â€ã€‚</p>
<h3 id="protocol-extensionåè®®æ‰©å±•"><a href="#protocol-extensionåè®®æ‰©å±•" class="headerlink" title="protocol extensionåè®®æ‰©å±•"></a>protocol extensionåè®®æ‰©å±•</h3><p>å’Œä¸Šé¢å¯¹typeæ‰©å±•ï¼Œä½¿å¾—type conformsæ–°çš„åè®®ä¸åŒã€‚è¿™é‡Œæ˜¯å¯¹åè®®è¦æ±‚éµå¾ªçš„å†…å®¹è¿›è¡Œæ‰©å±•ã€‚</p>
<p>æ‰©å±•åè®®è¦åŒæ—¶æŠŠå±æ€§å’Œæ–¹æ³•å®ç°äº†ï¼Œä¸ç„¶æ€ä¹ˆå›åˆ°é‚£äº›éµå¾ªåè®®çš„ç±»å‹é‡Œå»å®ç°ï¼Ÿ</p>
<p>å¦‚ä¸‹ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæˆ‘å¯ä»¥å†æ‰©å±•åè®®é‡Œè°ƒç”¨åŸæœ‰åè®®è¦æ±‚å®ç°çš„æ–¹æ³•æˆ–è€…å±æ€§ï¼Œå¦‚ä¸‹ï¼Œè°ƒç”¨äº†<code>random()</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">extension</span> <span class="title class_">RandomNumberGenerator</span> &#123;</span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">randomBool</span>() -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> random() <span class="operator">&gt;</span> <span class="number">0.5</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> generator <span class="operator">=</span> <span class="type">LinearCongruentialGenerator</span>()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Here&#x27;s a random number: <span class="subst">\(generator.random())</span>&quot;</span>)</span><br><span class="line"><span class="comment">// Prints &quot;Here&#x27;s a random number: 0.3746499199817101&quot;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;And here&#x27;s a random Boolean: <span class="subst">\(generator.randomBool())</span>&quot;</span>)</span><br><span class="line"><span class="comment">// Prints &quot;And here&#x27;s a random Boolean: true&quot;</span></span><br></pre></td></tr></table></figure>



<p>ä½ å¯ä»¥åœ¨åè®®æ‰©å±•ä¸­ï¼Œå¯¹åè®®è¦æ±‚çš„å±æ€§æˆ–è€…æ–¹æ³•è¿›è¡Œä¸€ä¸ªé»˜è®¤çš„å®ç°ã€‚ä½†æ˜¯å¦‚æœconforming typeæä¾›äº†è‡ªå·±çš„å®ç°ï¼Œå°±ä¸ä¼šä½¿ç”¨é»˜è®¤çš„å®ç°ã€‚å¦‚ä¸‹</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">extension</span> <span class="title class_">PrettyTextRepresentable</span>  &#123;</span><br><span class="line">    <span class="keyword">var</span> prettyTextualDescription: <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> textualDescription</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="ä¸ºåè®®æ‰©å±•æ·»åŠ é™åˆ¶"><a href="#ä¸ºåè®®æ‰©å±•æ·»åŠ é™åˆ¶" class="headerlink" title="ä¸ºåè®®æ‰©å±•æ·»åŠ é™åˆ¶"></a>ä¸ºåè®®æ‰©å±•æ·»åŠ é™åˆ¶</h3><p>åœ¨æ‰©å±•åè®®çš„æ—¶å€™ï¼Œå¯ä»¥æŒ‡å®šä¸€äº›é™åˆ¶æ¡ä»¶ï¼Œåªæœ‰éµå¾ªåè®®çš„ç±»å‹æ»¡è¶³è¿™äº›é™åˆ¶æ¡ä»¶æ—¶ï¼Œæ‰èƒ½è·å¾—åè®®æ‰©å±•æä¾›çš„é»˜è®¤å®ç°ã€‚è¿™äº›é™åˆ¶æ¡ä»¶å†™åœ¨åè®®åä¹‹åï¼Œä½¿ç”¨ <code>where</code> å­å¥æ¥æè¿°</p>
<h2 id="generics"><a href="#generics" class="headerlink" title="generics"></a>generics</h2><p>ä»¥äº¤æ¢ä¸¤ä¸ªIntç±»å‹æ•°ä¸¾ä¾‹</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">swapTwoInts</span>(<span class="keyword">_</span> <span class="params">a</span>: <span class="keyword">inout</span> <span class="type">Int</span>, <span class="keyword">_</span> <span class="params">b</span>: <span class="keyword">inout</span> <span class="type">Int</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> temporaryA <span class="operator">=</span> a</span><br><span class="line">    a <span class="operator">=</span> b</span><br><span class="line">    b <span class="operator">=</span> temporaryA</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯è¿™ä¸ªå‡½æ•°åŒæ ·ä½¿ç”¨äºäº¤æ¢æµ®ç‚¹æ•°ï¼Œå­—ç¬¦ä¸²ç­‰ï¼Œåªéœ€è¦æ”¹å‚æ•°çš„ç±»å‹ã€‚è¿™æ ·å°±é‡å¤å†™äº†ä»£ç ã€‚</p>
<p>ä½¿ç”¨æ³›å‹ä¼šæ›´åŠ åˆç†</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">swapTwoValues</span>&lt;<span class="type">T</span>&gt;(<span class="keyword">_</span> <span class="params">a</span>: <span class="keyword">inout</span> <span class="type">T</span>, <span class="keyword">_</span> <span class="params">b</span>: <span class="keyword">inout</span> <span class="type">T</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> temporaryA <span class="operator">=</span> a</span><br><span class="line">    a <span class="operator">=</span> b</span><br><span class="line">    b <span class="operator">=</span> temporaryA</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ä»–ä»¬ä¸¤çš„å·®å¼‚ï¼Œä¸€ä¸ªæ˜¯åœ¨å‡½æ•°åååŠ äº†<code>&lt;T&gt;</code>ï¼Œç„¶ååé¢å‚æ•°ç±»å‹type nameå˜æˆäº†<code>T</code>ã€‚</p>
<p>è°ƒç”¨</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> someString <span class="operator">=</span> <span class="string">&quot;hello&quot;</span></span><br><span class="line"><span class="keyword">var</span> anotherString <span class="operator">=</span> <span class="string">&quot;world&quot;</span></span><br><span class="line">swapTwoValues(<span class="operator">&amp;</span>someString, <span class="operator">&amp;</span>anotherString)</span><br><span class="line"><span class="comment">// someString is now &quot;world&quot;, and anotherString is now &quot;hello&quot;</span></span><br></pre></td></tr></table></figure>



<p><code>T</code>å«åš<code>type parameter</code>ï¼Œå°½é‡è¦ä½¿ç”¨å¤§å†™ï¼Œä»£è¡¨è¿™æ˜¯ç±»å‹ã€‚å®ƒå¯ä»¥æ›¿ä»£<em>å‚æ•°ç±»å‹ï¼Œè¿”å›ç±»å‹ï¼Œä¹Ÿå¯ä»¥ç”¨åœ¨å‡½æ•°ä½“å†…éƒ¨</em></p>
<blockquote>
<p>you can use it to define the type of a functionâ€™s parameters (such as the <code>a</code> and <code>b</code>parameters of the <code>swapTwoValues(_:_:)</code> function), or as the functionâ€™s return type, or as a type annotation within the body of the function. </p>
</blockquote>
<p>ä½ å¯ä»¥åœ¨å°–æ‹¬å·å†…å†™å¤šä¸ª<code>type parameters</code>ï¼Œç”¨é€—å·åˆ†å¼€ã€‚å¦‚<code>Dictionary&lt;Key, Value&gt;</code></p>
<p>åœ¨ç»“æ„ä½“ä¸­ä½¿ç”¨æ³›å‹ï¼Œå¦‚å®šä¹‰ä¸€ä¸ªæ ˆã€‚ä½¿ç”¨<code>&lt;Element&gt;</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Stack</span>&lt;<span class="title class_">Element</span>&gt; &#123;</span><br><span class="line">    <span class="keyword">var</span> items: [<span class="type">Element</span>] <span class="operator">=</span> []</span><br><span class="line">    <span class="keyword">mutating</span> <span class="keyword">func</span> <span class="title function_">push</span>(<span class="keyword">_</span> <span class="params">item</span>: <span class="type">Element</span>) &#123;</span><br><span class="line">        items.append(item)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">mutating</span> <span class="keyword">func</span> <span class="title function_">pop</span>() -&gt; <span class="type">Element</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> items.removeLast()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="extending-a-generic-typeæ‰©å±•æ³›å‹"><a href="#extending-a-generic-typeæ‰©å±•æ³›å‹" class="headerlink" title="extending a generic typeæ‰©å±•æ³›å‹"></a>extending a generic typeæ‰©å±•æ³›å‹</h3><p>å¯¹æ³›å‹æ‰©å±•æ—¶ï¼Œå¹¶ä¸éœ€è¦åˆ—å‡ºå®šä¹‰æ—¶<code>&lt;T&gt;</code>ï¼ˆå°–æ‹¬å·ä»¥åŠå®šä¹‰åœ¨é‡Œé¢çš„type parameterï¼‰ï¼Œä½†æ˜¯ä»ç„¶èƒ½åœ¨èŠ±æ‹¬å·é‡Œä½¿ç”¨è¿™äº›type parameterã€‚</p>
<p>å¦‚ä¸‹ï¼Œæ‰©å±•Stackï¼Œä¸éœ€è¦å†™<code>&lt;Element&gt;</code>ï¼Œä½†æ˜¯ä»ç„¶å¯ä»¥åœ¨èŠ±æ‹¬å·é‡Œä½¿ç”¨<code>Element</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">extension</span> <span class="title class_">Stack</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> topItem: <span class="type">Element</span>? &#123;</span><br><span class="line">        <span class="keyword">return</span> items.isEmpty <span class="operator">?</span> <span class="literal">nil</span> : items[items.count <span class="operator">-</span> <span class="number">1</span>]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="type-constarints"><a href="#type-constarints" class="headerlink" title="type constarints"></a>type constarints</h3><p>ä¸Šæ–‡ä¸­æåˆ°çš„<code>swapTwoValues(_:_:)</code> function and the <code>Stack</code> é€‚ç”¨äºä»»ä½•ç±»å‹ã€‚ä½†æ˜¯æœ‰äº›æ—¶å€™ï¼Œéœ€è¦åŠ ä¸Šä¸€äº›<code>constaints</code>æ¥ä½¿å¾—ç±»å‹ç»§æ‰¿è‡ªæŸä¸ªç‰¹å®šç±»ï¼Œæˆ–è€…conformæ¯ä¸ªåè®®æˆ–è€…åè®®ç»„åˆã€‚</p>
<p>å¦‚åœ¨<code>Dictionary</code>ä¸­ï¼Œè¦æ±‚<code>Key</code>å¿…é¡»å¾—æ˜¯<code>Hashable</code>çš„ã€‚å¦‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">someFunction</span>&lt;<span class="type">T</span>: <span class="type">SomeClass</span>, <span class="type">U</span>: <span class="type">SomeProtocol</span>&gt;(<span class="params">someT</span>: <span class="type">T</span>, <span class="params">someU</span>: <span class="type">U</span>) &#123;</span><br><span class="line">    <span class="comment">// function body goes here</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>type parameter Tè¦æ±‚ç»§æ‰¿ç±»SomeClassï¼Œtype parameter Uè¦æ±‚conform SomeProtocol</p>
<p>æˆ‘ä»¬å…ˆå®šä¹‰äº†ä¸€ä¸ªåœ¨æ•°ç»„ä¸­å¯»æ‰¾å¯¹åº”Stringï¼Œå¹¶è¿”å›ä¸‹æ ‡çš„å‡½æ•°ï¼Œå¹¶ç”¨æ³›å‹æ”¹å†™ä»–ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">findIndex</span>(<span class="params">ofString</span> <span class="params">valueToFind</span>: <span class="type">String</span>, <span class="params">in</span> <span class="params">array</span>: [<span class="type">String</span>]) -&gt; <span class="type">Int</span>? &#123;</span><br><span class="line">    <span class="keyword">for</span> (index, value) <span class="keyword">in</span> array.enumerated() &#123;</span><br><span class="line">        <span class="keyword">if</span> value <span class="operator">==</span> valueToFind &#123;</span><br><span class="line">            <span class="keyword">return</span> index</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ”¹å†™æˆé€‚ç”¨äºä»»ä½•ç±»å‹</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">findIndex</span>&lt;<span class="type">T</span>&gt;(<span class="params">of</span> <span class="params">valueToFind</span>: <span class="type">T</span>, <span class="params">in</span> <span class="params">array</span>:[<span class="type">T</span>]) -&gt; <span class="type">Int</span>? &#123;</span><br><span class="line">    <span class="keyword">for</span> (index, value) <span class="keyword">in</span> array.enumerated() &#123;</span><br><span class="line">        <span class="keyword">if</span> value <span class="operator">==</span> valueToFind &#123;  <span class="comment">// é”™</span></span><br><span class="line">            <span class="keyword">return</span> index</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯è¿™æ ·æœ‰é”™è¯¯ï¼Œæˆ‘ä»¬ä¸èƒ½ä¿è¯Tç±»å‹æ˜¯å¯ä»¥ä½¿ç”¨<code>==</code>çš„ã€‚æ‰€ä»¥ï¼Œè¦ä½¿å¾—T conforms åè®®<code>Equatable</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">findIndex</span>&lt;<span class="type">T</span>: <span class="type">Equatable</span>&gt;(<span class="params">of</span> <span class="params">valueToFind</span>: <span class="type">T</span>, <span class="params">in</span> <span class="params">array</span>:[<span class="type">T</span>]) -&gt; <span class="type">Int</span>? &#123;</span><br><span class="line">    <span class="keyword">for</span> (index, value) <span class="keyword">in</span> array.enumerated() &#123;</span><br><span class="line">        <span class="keyword">if</span> value <span class="operator">==</span> valueToFind &#123;</span><br><span class="line">            <span class="keyword">return</span> index</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<ul>
<li><p>å…³è”ç±»å‹associated value</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protocol</span> <span class="title class_">Container</span> &#123;</span><br><span class="line">    <span class="keyword">associatedtype</span> <span class="type">Item</span></span><br><span class="line">    <span class="keyword">mutating</span> <span class="keyword">func</span> <span class="title function_">append</span>(<span class="keyword">_</span> <span class="params">item</span>: <span class="type">Item</span>)</span><br><span class="line">    <span class="keyword">var</span> count: <span class="type">Int</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">    <span class="keyword">subscript</span>(<span class="params">i</span>: <span class="type">Int</span>) -&gt; <span class="type">Item</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>  è¿™åº”è¯¥ç›¸å½“äºåè®®çš„æ³›å‹ï¼Œå†™ä½œ<code>associatedtype</code></p>
</li>
</ul>
<ul>
<li><p>ä½ å¯ä»¥åœ¨åè®®é‡Œç»™å…³è”ç±»å‹æ·»åŠ çº¦æŸæ¥è¦æ±‚éµå¾ªçš„ç±»å‹æ»¡è¶³çº¦æŸã€‚ä¾‹å¦‚ï¼Œä¸‹é¢çš„ä»£ç å®šä¹‰äº† <code>Container</code> åè®®ï¼Œ è¦æ±‚å…³è”ç±»å‹ <code>Item</code> å¿…é¡»éµå¾ª <code>Equatable</code> åè®®ï¼š</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protocol</span> <span class="title class_">Container</span> &#123;</span><br><span class="line">    <span class="keyword">associatedtype</span> <span class="type">Item</span>: <span class="type">Equatable</span></span><br><span class="line">    <span class="keyword">mutating</span> <span class="keyword">func</span> <span class="title function_">append</span>(<span class="keyword">_</span> <span class="params">item</span>: <span class="type">Item</span>)</span><br><span class="line">    <span class="keyword">var</span> count: <span class="type">Int</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">    <span class="keyword">subscript</span>(<span class="params">i</span>: <span class="type">Int</span>) -&gt; <span class="type">Item</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="generic-where-clauses"><a href="#generic-where-clauses" class="headerlink" title="generic where clauses"></a>generic where clauses</h3><p>ä¸‹æ¬¡å†è®°</p>
<h2 id="automatic-reference-counting"><a href="#automatic-reference-counting" class="headerlink" title="automatic reference counting"></a>automatic reference counting</h2><p>æ¯å½“ä½ åˆ›å»ºä¸€ä¸ªæ–°çš„<em>ç±»å®ä¾‹</em>æ—¶ï¼ŒARC ä¼šåˆ†é…ä¸€å—å†…å­˜æ¥å‚¨å­˜è¯¥å®ä¾‹çš„ä¿¡æ¯ã€‚å†…å­˜ä¸­ä¼šåŒ…å«å®ä¾‹çš„ç±»å‹ä¿¡æ¯ï¼Œä»¥åŠè¿™ä¸ªå®ä¾‹æ‰€å…³è”çš„ä»»ä½•stored propertiesçš„å€¼ã€‚æ­¤å¤–ï¼Œå½“å®ä¾‹ä¸å†è¢«ä½¿ç”¨æ—¶ï¼ŒARC é‡Šæ”¾å®ä¾‹æ‰€å ç”¨çš„å†…å­˜ï¼Œå¹¶è®©é‡Šæ”¾çš„å†…å­˜èƒ½æŒªä½œä»–ç”¨ã€‚è¿™ç¡®ä¿äº†ä¸å†è¢«ä½¿ç”¨çš„å®ä¾‹ï¼Œä¸ä¼šä¸€ç›´å ç”¨å†…å­˜ç©ºé—´ã€‚</p>
<p>åªè¦æœ‰ç±»å®ä¾‹è¢«å¼•ç”¨ï¼ŒARCå°±ä¸ä¼šé‡Šæ”¾å…¶åœ¨å†…å­˜çš„ç©ºé—´ã€‚</p>
<blockquote>
<p>whenever you assign a class instance to a property, constant, or variable, that property, constant, or variable makes a <em>strong reference</em> to the instance.</p>
</blockquote>
<p>å½“ä½ ==assign==ä¸€ä¸ªç±»å®ä½“ç»™å±æ€§ï¼Œå¸¸é‡å˜é‡ã€‚å°±ä¼šå»ºç«‹ä¸€ä¸ª<code>strong inference</code>å¼ºå¼•ç”¨ã€‚åªè¦å¼ºå¼•ç”¨å­˜åœ¨ï¼Œå®ä¾‹å°±ä¸ä¼šè¢«é”€æ¯ã€‚</p>
<p>ä¾‹å­ï¼Œä¸€ä¸ªç±»Person</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> name: <span class="type">String</span></span><br><span class="line">    <span class="keyword">init</span>(<span class="params">name</span>: <span class="type">String</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.name <span class="operator">=</span> name</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;<span class="subst">\(name)</span> is being initialized&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">deinit</span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;<span class="subst">\(name)</span> is being deinitialized&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸‰ä¸ªoptional ç±»å‹ï¼Œè¿™æ—¶é»˜è®¤ä¸ºnilï¼Œå¹¶ä¸ä¼šæŒ‡å‘å®ä½“</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reference1: <span class="type">Person</span>?</span><br><span class="line"><span class="keyword">var</span> reference2: <span class="type">Person</span>?</span><br><span class="line"><span class="keyword">var</span> reference3: <span class="type">Person</span>?</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡assignå»ºç«‹äº†ä¸€ä¸ªå¼ºå¼•ç”¨</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">reference1 <span class="operator">=</span> <span class="type">Person</span>(name: <span class="string">&quot;John Appleseed&quot;</span>)</span><br><span class="line"><span class="comment">// Prints &quot;John Appleseed is being initialized&quot;</span></span><br></pre></td></tr></table></figure>

<p>å¦‚æœæˆ‘ä»¬æŠŠè¿™ä¸ªå¼•ç”¨ï¼Œassginç»™å¦ä¸¤ä¸ªoptionalç±»å‹ï¼Œè¿™æ ·å°±æœ‰äº†ä¸‰ä¸ªå¼ºå¼•ç”¨</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">reference2 <span class="operator">=</span> reference1</span><br><span class="line">reference3 <span class="operator">=</span> reference1</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæˆ‘ä»¬é‡Šæ”¾æ‰å…¶ä¸­çš„ä¸¤ä¸ªå¼•ç”¨ï¼ŒåŒ…æ‹¬æœ€å¼€å§‹çš„é‚£ä¸ªå¼•ç”¨ï¼ŒPersonå®ä¾‹å¹¶ä¸ä¼šé‡Šæ”¾ï¼Œå› ä¸ºè¿˜æœ‰ä¸€ä¸ªå¼ºå¼•ç”¨æŒ‡å‘ä»–</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">reference1 <span class="operator">=</span> <span class="literal">nil</span></span><br><span class="line">reference2 <span class="operator">=</span> <span class="literal">nil</span></span><br></pre></td></tr></table></figure>

<p>æŠŠæ‰€æœ‰çš„å¼ºå¼•ç”¨éƒ½é‡Šæ”¾äº†ï¼Œç³»ç»Ÿä¼šå›æ”¶è¿™ä¸ªå®ä¾‹ï¼Œè°ƒç”¨ææ„å‡½æ•°ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">reference3 <span class="operator">=</span> <span class="literal">nil</span></span><br><span class="line"><span class="comment">// Prints &quot;John Appleseed is being deinitialized&quot;</span></span><br></pre></td></tr></table></figure>



<h3 id="strong-reference-cycle"><a href="#strong-reference-cycle" class="headerlink" title="strong reference cycle"></a>strong reference cycle</h3><p>å¼ºå¼•ç”¨åœˆé€šå¸¸ä¸¤ä¸ªç±»å®ä¾‹ï¼Œäº’ç›¸æŒæœ‰å¯¹å¯¹æ–¹çš„å¼ºå¼•ç”¨ï¼Œè¿™æ ·èµ„æºå°±æ°¸è¿œä¸èƒ½é‡Šæ”¾ã€‚</p>
<p>è§£å†³æ–¹æ³•ï¼Œä¸ä½¿ç”¨å¼ºå¼•ç”¨ï¼Œä½¿ç”¨å¼±ä¸€ç‚¹çš„<code>weak</code>å’Œ<code>unowned</code></p>
<p>å¼ºå¼•ç”¨çš„ä¾‹å­</p>
<p>personå®ä¾‹æœ‰å±æ€§å¼•ç”¨äº†apartmentå®ä¾‹ï¼Œaparmentå®ä¾‹æœ‰å±æ€§å¼•ç”¨äº†personå®ä¾‹ã€‚</p>
<p>![æˆªå±2023-03-09 16.19.51](swift-programming-languageç¬”è®°.assets/æˆªå±2023-03-09 16.19.51.png)</p>
<p>è¿™æ ·å°±æ˜¯æŠŠå¤–é¢çš„æŒ‡é’ˆjohnå’Œunit4Aé‡Šæ”¾æ‰ï¼ˆç½®ä¸ºnilï¼‰ï¼Œäº’ç›¸ä¹‹é—´çš„å¼ºå¼•ç”¨è¿˜æ˜¯å­˜åœ¨ã€‚</p>
<p>![æˆªå±2023-03-09 16.30.45](swift-programming-languageç¬”è®°.assets/æˆªå±2023-03-09 16.30.45.png)</p>
<h3 id="resolving-strong-reference"><a href="#resolving-strong-reference" class="headerlink" title="resolving strong reference"></a>resolving strong reference</h3><p>è§£å†³å¼ºå¼•ç”¨çš„ä¸¤ä¸ªæ–¹å¼ï¼Œ<code>weak</code>referenceå’Œ<code>unowned</code>referenceã€‚</p>
<blockquote>
<p>Weak and unowned references enable one instance in a reference cycle to refer to the other instance <em>without</em> keeping a strong hold on it. </p>
<p>Use a weak reference when the other instance has a shorter lifetime â€” that is, when the other instance can be deallocated first. </p>
<p>In contrast, use an unowned reference when the other instance has the same lifetime or a longer lifetime.</p>
</blockquote>
<p>ä½¿ç”¨<code>weak</code>å¼•ç”¨ï¼Œå½“ä¸€æ–¹æœ‰è¾ƒçŸ­çš„ç”Ÿå‘½æœŸï¼Œä¸€æ–¹å¯èƒ½ä¼šæå‰é‡Šæ”¾èµ„æºã€‚å¯¹æ¯”ï¼Œä½¿ç”¨<code>unowned</code>å¼•ç”¨ï¼Œå½“åŒæ–¹ç”Ÿå‘½æœŸç›¸åŒï¼Œæˆ–è€…æ›´é•¿çš„ç”Ÿå‘½æœŸã€‚</p>
<ul>
<li><p>weak reference</p>
<p>  å› ä¸ºå¼±å¼•ç”¨ä¸ä¼šä¿æŒæ‰€å¼•ç”¨çš„å®ä¾‹ï¼Œå³ä½¿å¼•ç”¨å­˜åœ¨ï¼Œå®ä¾‹ä¹Ÿæœ‰å¯èƒ½è¢«é”€æ¯ã€‚==å› æ­¤ï¼ŒARC ä¼šåœ¨å¼•ç”¨çš„å®ä¾‹è¢«é”€æ¯åè‡ªåŠ¨å°†å…¶å¼±å¼•ç”¨èµ‹å€¼ä¸º <code>nil</code>ã€‚==å¹¶ä¸”å› ä¸ºå¼±å¼•ç”¨éœ€è¦åœ¨è¿è¡Œæ—¶å…è®¸è¢«èµ‹å€¼ä¸º <code>nil</code>ï¼Œæ‰€ä»¥å®ƒä»¬ä¼šè¢«å®šä¹‰ä¸ºå¯é€‰ç±»å‹å˜é‡ï¼Œè€Œä¸æ˜¯å¸¸é‡ã€‚</p>
<p>  apartmentå®ä¾‹å¯¹personå®ä¾‹æ˜¯å¼±å¼•ç”¨ï¼Œå¦‚æœæŒ‡å‘personå®ä¾‹çš„å¼ºå¼•ç”¨é”€æ¯ï¼Œå°±æ˜¯johnèµ‹å€¼nilï¼Œåˆ™weakå¼•ç”¨è‡ªåŠ¨ç½®ä¸ºnil.</p>
<p>  ![æˆªå±2023-03-09 16.30.53](swift-programming-languageç¬”è®°.assets/æˆªå±2023-03-09 16.30.53.png)</p>
<p>  ![æˆªå±2023-03-09 16.30.58](swift-programming-languageç¬”è®°.assets/æˆªå±2023-03-09 16.30.58.png)</p>
</li>
<li><p>Unowned reference</p>
<blockquote>
<p>Unlike a weak reference, an unowned reference is expected to always have a value. As a result, marking a value as unowned doesnâ€™t make it optional, and ARC never sets an unowned referenceâ€™s value to <code>nil</code>.</p>
</blockquote>
<p>  ä¸€ä¸ªæ— ä¸»å¼•ç”¨<strong>æ€»æ˜¯æœŸæœ›æœ‰å€¼ã€‚</strong>å› æ­¤ï¼Œæ— ä¸»å¼•ç”¨ä¸æ˜¯optionalï¼ŒARCä¹Ÿä¸ä¼šå°†å…¶ç½®ä¸ºnilã€‚</p>
<blockquote>
<p>Use an unowned reference only when you are sure that the reference <em>always</em> refers to an instance that hasnâ€™t been deallocated.</p>
</blockquote>
<p>  <strong>ä½¿ç”¨æ— ä¸»å¼•ç”¨ï¼Œä½ <em>å¿…é¡»</em>ç¡®ä¿å¼•ç”¨å§‹ç»ˆæŒ‡å‘ä¸€ä¸ªæœªé”€æ¯çš„å®ä¾‹ã€‚</strong></p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Customer</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> name: <span class="type">String</span></span><br><span class="line">    <span class="keyword">var</span> card: <span class="type">CreditCard</span>?</span><br><span class="line">    <span class="keyword">init</span>(<span class="params">name</span>: <span class="type">String</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.name <span class="operator">=</span> name</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">deinit</span> &#123; <span class="built_in">print</span>(<span class="string">&quot;<span class="subst">\(name)</span> is being deinitialized&quot;</span>) &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CreditCard</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> number: <span class="type">UInt64</span></span><br><span class="line">    <span class="keyword">unowned</span> <span class="keyword">let</span> customer: <span class="type">Customer</span></span><br><span class="line">    <span class="keyword">init</span>(<span class="params">number</span>: <span class="type">UInt64</span>, <span class="params">customer</span>: <span class="type">Customer</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.number <span class="operator">=</span> number</span><br><span class="line">        <span class="keyword">self</span>.customer <span class="operator">=</span> customer</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">deinit</span> &#123; <span class="built_in">print</span>(<span class="string">&quot;Card #<span class="subst">\(number)</span> is being deinitialized&quot;</span>) &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>  ä»¥ä¿¡ç”¨å¡å’Œå®¢æˆ·ä¸ºä¾‹å­ã€‚ä¿¡ç”¨å¡æ€»æ˜¯ç”¨ä¸»äººï¼Œå› æ­¤æœ‰ä¸€ä¸ªæ— ä¸»å¼•ç”¨çš„å±æ€§<code>unowned let customer: Customer</code>ã€‚è¿˜è¦æ³¨æ„ä¸€ç‚¹æ˜¯ï¼Œè¿™é‡Œçš„æ„é€ å‡½æ•°ï¼Œç¡®ä¿äº†ä¿¡ç”¨å¡åªæœ‰ä¸»äººæ‰ä¼šä¼ è¿›æ¥ã€‚</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> john: <span class="type">Customer</span>?</span><br><span class="line"></span><br><span class="line">john <span class="operator">=</span> <span class="type">Customer</span>(name: <span class="string">&quot;John Appleseed&quot;</span>)</span><br><span class="line">john<span class="operator">!</span>.card <span class="operator">=</span> <span class="type">CreditCard</span>(number: <span class="number">1234_5678_9012_3456</span>, customer: john<span class="operator">!</span>)</span><br></pre></td></tr></table></figure>

<p>  è¿™æ ·å°±å»ºç«‹äº†å¦‚ä¸‹çš„å¼•ç”¨å…³ç³»</p>
<p>  ![æˆªå±2023-03-09 16.41.41](swift-programming-languageç¬”è®°.assets/æˆªå±2023-03-09 16.41.41.png)</p>
<p>  æ³¨æ„æ¥ä¸‹æ¥ï¼Œå¦‚æœæŠŠ<code>john=nil</code>ï¼Œå°±æ²¡æœ‰æŒ‡å‘customerå®ä½“çš„å¼ºå¼•ç”¨äº†ï¼Œä»–å°†è¢«é‡Šæ”¾ã€‚è¿™æ ·ä¹Ÿæ²¡æœ‰å¼ºå¼•ç”¨ä¼šæŒ‡å‘creditcardå®ä½“äº†ï¼Œ==ä¹Ÿä¼šè¢«é‡Šæ”¾ã€‚==ï¼ˆ<em>è¿™é‡Œæ˜¯å’Œweak å¼•ç”¨ä¸åŒçš„åœ°æ–¹</em>ï¼‰</p>
<p>  ![æˆªå±2023-03-09 16.44.23](swift-programming-languageç¬”è®°.assets/æˆªå±2023-03-09 16.44.23.png)</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">john <span class="operator">=</span> <span class="literal">nil</span></span><br><span class="line"><span class="comment">// Prints &quot;John Appleseed is being deinitialized&quot;</span></span><br><span class="line"><span class="comment">// Prints &quot;Card #1234567890123456 is being deinitialized&quot;</span></span><br></pre></td></tr></table></figure>

<p>  è°ƒç”¨ä¸¤ä¸ªææ„å‡½æ•°</p>
</li>
</ul>
<ul>
<li><p>unowned optional reference</p>
<p>  ä¸Šé¢è¯´çš„æ˜¯éoptional ç±»å‹çš„æ— ä¸»å¼•ç”¨ï¼Œè¿™é‡Œæ˜¯optionalç±»å‹çš„ã€‚å’Œweakç±»ä¼¼ï¼Ÿï¼Ÿä½†æ˜¯ï¼Œå¿…é¡»ç¡®ä¿optionalç±»å‹çš„æ— ä¸»å¼•ç”¨æ€»æ˜¯æŒ‡å‘æœ‰æ•ˆçš„ojectæˆ–è€…è¢«è®¾ä¸ºnilï¼ˆæ˜¯æŒ‡çš„æ˜¯ä¸€ç›´ä¸å˜å—ï¼Ÿï¼‰ä¸æ‡‚ã€‚</p>
</li>
</ul>
<ul>
<li><p><code>Person</code> å’Œ <code>Apartment</code> çš„ä¾‹å­å±•ç¤ºäº†ä¸¤ä¸ªå±æ€§çš„å€¼éƒ½å…è®¸ä¸º <code>nil</code>ï¼Œå¹¶ä¼šæ½œåœ¨çš„äº§ç”Ÿå¾ªç¯å¼ºå¼•ç”¨ã€‚è¿™ç§åœºæ™¯æœ€é€‚åˆç”¨==å¼±å¼•ç”¨==æ¥è§£å†³ã€‚</p>
<p>  <code>Customer</code> å’Œ <code>CreditCard</code> çš„ä¾‹å­å±•ç¤ºäº†ä¸€ä¸ªå±æ€§çš„å€¼å…è®¸ä¸º <code>nil</code>ï¼Œè€Œå¦ä¸€ä¸ªå±æ€§çš„å€¼ä¸å…è®¸ä¸º <code>nil</code>ï¼Œè¿™ä¹Ÿå¯èƒ½ä¼šäº§ç”Ÿå¾ªç¯å¼ºå¼•ç”¨ã€‚è¿™ç§åœºæ™¯æœ€é€‚åˆé€šè¿‡==æ— ä¸»å¼•ç”¨==æ¥è§£å†³ã€‚</p>
</li>
</ul>
<ul>
<li><p>strong reference cycles for closure</p>
<p>  é—­åŒ…çš„å¾ªç¯å¼ºå¼•ç”¨</p>
<blockquote>
<p>A strong reference cycle can also occur if you assign a closure to a property of a class instance, and the body of that closure captures the instance. This capture might occur because the closureâ€™s body accesses a property of the instance, such as <code>self.someProperty</code>, or because the closure calls a method on the instance, such as <code>self.someMethod()</code>. In either case, these accesses cause the closure to â€œcaptureâ€ <code>self</code>, creating a strong reference cycle.</p>
</blockquote>
<p>  å¦‚æœä½ ç»™ä¸€ä¸ªç±»intanceå±æ€§assignäº†ä¸€ä¸ªé—­åŒ…ã€‚å½“ï¼Œä½ è®¿é—®äº†selfå±æ€§ï¼Œæˆ–è€…è®¿é—®äº†selfæ–¹æ³•ï¼Œé‚£ä¹ˆä½ å°±æ•è·åˆ°äº†selfï¼Œåˆ›å»ºäº†ä¸€ä¸ªå¾ªç¯å¼ºå¼•ç”¨ã€‚</p>
<blockquote>
<p>This strong reference cycle occurs because closures, like classes, are <em>reference types</em>. When you assign a closure to a property, you are assigning a <em>reference</em> to that closure.</p>
</blockquote>
<p>  å› ä¸ºé—­åŒ…ä¹Ÿæ˜¯å¼•ç”¨ç±»å‹ã€‚å½“ä½ assignä¸€ä¸ªé—­åŒ…ç»™å±æ€§ï¼Œä½ å°±åˆ†é…äº†ä¸€ä¸ªåˆ°é—­åŒ…çš„å¼•ç”¨ã€‚</p>
<p>  ![æˆªå±2023-03-09 19.47.19](swift-programming-languageç¬”è®°.assets/æˆªå±2023-03-09 19.47.19.png)è§£å†³æ–¹æ³•<code>cpature list</code>ã€‚</p>
<p>  åœ¨capture listé‡Œå®šä¹‰unownedå¼•ç”¨ä»¥åŠweakå¼•ç”¨å’Œç±»å®ä½“é‡Œä¸€æ ·çš„å«ä¹‰ã€‚</p>
<blockquote>
<p>Define a capture in a closure as an unowned reference when the closure and the instance it captures will always refer to each other, and will always be deallocated at the same time.</p>
<p>Conversely, define a capture as a weak reference when the captured reference may become <code>nil</code> at some point in the future. Weak references are always of an optional type, and automatically become <code>nil</code> when the instance they reference is deallocated. This enables you to check for their existence within the closureâ€™s body.</p>
</blockquote>
<p>  å®šä¹‰æ— ä¸»å¼•ç”¨çš„æ–¹å¼</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">lazy</span> <span class="keyword">var</span> someClosure <span class="operator">=</span> &#123;</span><br><span class="line">        [<span class="keyword">unowned</span> <span class="keyword">self</span>, <span class="keyword">weak</span> delegate <span class="operator">=</span> <span class="keyword">self</span>.delegate]</span><br><span class="line">        (index: <span class="type">Int</span>, stringToProcess: <span class="type">String</span>) -&gt; <span class="type">String</span> <span class="keyword">in</span></span><br><span class="line">    <span class="comment">// closure body goes here</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>  ä¸€èˆ¬è§åˆ°å°±æ˜¯ç”¨ä¸€ä¸ªæ–¹æ‹¬å·å†™åœ¨å‡½æ•°å‚æ•°çš„å®šä¹‰ä¹‹å‰<code>[weak self]</code></p>
</li>
</ul>

    </div>

    
    
    
        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>æœ¬æ–‡ä½œè€…ï¼š </strong>samule
  </li>
  <li class="post-copyright-link">
    <strong>æœ¬æ–‡é“¾æ¥ï¼š</strong>
    <a href="https://samulenzz.github.io/2023/03/14/swift-programming-language%E7%AC%94%E8%AE%B0/" title="swift programming languageç¬”è®°">https://samulenzz.github.io/2023/03/14/swift-programming-languageç¬”è®°/</a>
  </li>
  <li class="post-copyright-license">
    <strong>ç‰ˆæƒå£°æ˜ï¼š </strong>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼
  </li>
</ul>
</div>


      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2023/03/05/self-captured-by-a-closure-before-all-members-were-initialized%E9%94%99%E8%AF%AF%E8%A7%A3%E5%86%B3/" rel="prev" title="self captured by a closure before all members were initializedé”™è¯¯è§£å†³">
      <i class="fa fa-chevron-left"></i> self captured by a closure before all members were initializedé”™è¯¯è§£å†³
    </a></div>
      <div class="post-nav-item">
    <a href="/2023/04/01/%E5%9B%9E%E6%BA%AF%E9%97%AE%E9%A2%98%E6%80%BB%E7%BB%93/" rel="next" title="å›æº¯é—®é¢˜æ€»ç»“">
      å›æº¯é—®é¢˜æ€»ç»“ <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#The-Basic"><span class="nav-number">1.</span> <span class="nav-text">The Basic</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Basic-Operators"><span class="nav-number">2.</span> <span class="nav-text">Basic Operators</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Strings-and-Characters"><span class="nav-number">3.</span> <span class="nav-text">Strings and Characters</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Collection-Types"><span class="nav-number">4.</span> <span class="nav-text">Collection Types</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Control-Flow"><span class="nav-number">5.</span> <span class="nav-text">Control Flow</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#function"><span class="nav-number">6.</span> <span class="nav-text">function</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Closures"><span class="nav-number">7.</span> <span class="nav-text">Closures</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Enumerations"><span class="nav-number">8.</span> <span class="nav-text">Enumerations</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Structures-and-Classes"><span class="nav-number">9.</span> <span class="nav-text">Structures and Classes</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Properties"><span class="nav-number">10.</span> <span class="nav-text">Properties</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Methods"><span class="nav-number">11.</span> <span class="nav-text">Methods</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#subscripts"><span class="nav-number">12.</span> <span class="nav-text">subscripts</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#inheritance"><span class="nav-number">13.</span> <span class="nav-text">inheritance</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Initialization"><span class="nav-number">14.</span> <span class="nav-text">Initialization</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#deinitialization"><span class="nav-number">15.</span> <span class="nav-text">deinitialization</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Optional-Chaining"><span class="nav-number">16.</span> <span class="nav-text">Optional Chaining</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#error-handling"><span class="nav-number">17.</span> <span class="nav-text">error handling</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Nested-Types"><span class="nav-number">18.</span> <span class="nav-text">Nested Types</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Extentions"><span class="nav-number">19.</span> <span class="nav-text">Extentions</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Protocols"><span class="nav-number">20.</span> <span class="nav-text">Protocols</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AF%AD%E6%B3%95"><span class="nav-number">20.1.</span> <span class="nav-text">è¯­æ³•</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8D%8F%E8%AE%AE%E5%AF%B9%E5%B1%9E%E6%80%A7%E7%9A%84%E8%A6%81%E6%B1%82"><span class="nav-number">20.2.</span> <span class="nav-text">åè®®å¯¹å±æ€§çš„è¦æ±‚</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8D%8F%E8%AE%AE%E5%AF%B9%E6%96%B9%E6%B3%95%E7%9A%84%E8%A6%81%E6%B1%82"><span class="nav-number">20.3.</span> <span class="nav-text">åè®®å¯¹æ–¹æ³•çš„è¦æ±‚</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8D%8F%E8%AE%AE%E5%AF%B9%E6%9E%84%E9%80%A0%E5%99%A8%E7%9A%84%E8%A6%81%E6%B1%82"><span class="nav-number">20.4.</span> <span class="nav-text">åè®®å¯¹æ„é€ å™¨çš„è¦æ±‚</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8D%8F%E8%AE%AE%E4%BD%9C%E4%B8%BA%E7%B1%BB%E5%9E%8B"><span class="nav-number">20.5.</span> <span class="nav-text">åè®®ä½œä¸ºç±»å‹</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A7%94%E6%89%98delegation"><span class="nav-number">20.6.</span> <span class="nav-text">å§”æ‰˜delegation</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8extension%E4%B8%BA%E7%B1%BB%E5%9E%8B%E6%B7%BB%E5%8A%A0%E6%8B%93%E5%B1%95"><span class="nav-number">20.7.</span> <span class="nav-text">ä½¿ç”¨extensionä¸ºç±»å‹æ·»åŠ æ‹“å±•</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9C%89%E6%9D%A1%E4%BB%B6%E5%9C%B0%E9%81%B5%E5%BE%AA%E5%8D%8F%E8%AE%AE"><span class="nav-number">20.8.</span> <span class="nav-text">æœ‰æ¡ä»¶åœ°éµå¾ªåè®®</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#decalring-protocol-adoption-with-an-extension"><span class="nav-number">20.9.</span> <span class="nav-text">decalring protocol adoption with an extension</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#adopting-a-protocol-using-a-synthesized-implementation"><span class="nav-number">20.10.</span> <span class="nav-text">adopting a protocol using a synthesized implementation</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8D%8F%E8%AE%AE%E7%B1%BB%E5%9E%8B%E7%9A%84%E9%9B%86%E5%90%88"><span class="nav-number">20.11.</span> <span class="nav-text">åè®®ç±»å‹çš„é›†åˆ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#protocol-inheritance"><span class="nav-number">20.12.</span> <span class="nav-text">protocol inheritance</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B1%BB%E4%B8%93%E5%B1%9E%E5%8D%8F%E8%AE%AEclass-only-protocols"><span class="nav-number">20.13.</span> <span class="nav-text">ç±»ä¸“å±åè®®class-only protocols</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#protocol-composition-%E5%8D%8F%E8%AE%AE%E7%BB%84%E5%90%88"><span class="nav-number">20.14.</span> <span class="nav-text">protocol composition åè®®ç»„åˆ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#protocol-extension%E5%8D%8F%E8%AE%AE%E6%89%A9%E5%B1%95"><span class="nav-number">20.15.</span> <span class="nav-text">protocol extensionåè®®æ‰©å±•</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%BA%E5%8D%8F%E8%AE%AE%E6%89%A9%E5%B1%95%E6%B7%BB%E5%8A%A0%E9%99%90%E5%88%B6"><span class="nav-number">20.16.</span> <span class="nav-text">ä¸ºåè®®æ‰©å±•æ·»åŠ é™åˆ¶</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#generics"><span class="nav-number">21.</span> <span class="nav-text">generics</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#extending-a-generic-type%E6%89%A9%E5%B1%95%E6%B3%9B%E5%9E%8B"><span class="nav-number">21.1.</span> <span class="nav-text">extending a generic typeæ‰©å±•æ³›å‹</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#type-constarints"><span class="nav-number">21.2.</span> <span class="nav-text">type constarints</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#generic-where-clauses"><span class="nav-number">21.3.</span> <span class="nav-text">generic where clauses</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#automatic-reference-counting"><span class="nav-number">22.</span> <span class="nav-text">automatic reference counting</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#strong-reference-cycle"><span class="nav-number">22.1.</span> <span class="nav-text">strong reference cycle</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#resolving-strong-reference"><span class="nav-number">22.2.</span> <span class="nav-text">resolving strong reference</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="samule"
      src="/images/baobao.jpg">
  <p class="site-author-name" itemprop="name">samule</p>
  <div class="site-description" itemprop="description">è®°å½•ä¸€ç‚¹å­¦ä¹ è½¨è¿¹</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">19</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">æ ‡ç­¾</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/samulenzz" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;samulenzz" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">samule</span>
</div>
  <div class="powered-by">ç”± <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> å¼ºåŠ›é©±åŠ¨
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/wanko.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":false},"react":{"opacity":0.7},"log":false});</script></body>
</html>
